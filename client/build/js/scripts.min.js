var _flowFactoryProvider,qrcode=function(){var e=function(e,t){var n=e,a=d[t],i=null,s=0,r=null,o=[],l={},c=function(e,t){i=function(e){for(var t=new Array(e),n=0;n<e;n+=1){t[n]=new Array(e);for(var a=0;a<e;a+=1)t[n][a]=null}return t}(s=4*n+17),u(0,0),u(s-7,0),u(0,s-7),f(),p(),g(e,t),n>=7&&h(e),null==r&&(r=v(n,a,o)),m(r,t)},u=function(e,t){for(var n=-1;n<=7;n+=1)if(!(e+n<=-1||s<=e+n))for(var a=-1;a<=7;a+=1)t+a<=-1||s<=t+a||(i[e+n][t+a]=0<=n&&n<=6&&(0==a||6==a)||0<=a&&a<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=a&&a<=4)},p=function(){for(var e=8;e<s-8;e+=1)null==i[e][6]&&(i[e][6]=e%2==0);for(var t=8;t<s-8;t+=1)null==i[6][t]&&(i[6][t]=t%2==0)},f=function(){for(var e=w.getPatternPosition(n),t=0;t<e.length;t+=1)for(var a=0;a<e.length;a+=1){var s=e[t],r=e[a];if(null==i[s][r])for(var o=-2;o<=2;o+=1)for(var l=-2;l<=2;l+=1)i[s+o][r+l]=-2==o||2==o||-2==l||2==l||0==o&&0==l}},h=function(e){for(var t=w.getBCHTypeNumber(n),a=0;a<18;a+=1){var r=!e&&1==(t>>a&1);i[Math.floor(a/3)][a%3+s-8-3]=r}for(a=0;a<18;a+=1){r=!e&&1==(t>>a&1);i[a%3+s-8-3][Math.floor(a/3)]=r}},g=function(e,t){for(var n=a<<3|t,r=w.getBCHTypeInfo(n),o=0;o<15;o+=1){var l=!e&&1==(r>>o&1);o<6?i[o][8]=l:o<8?i[o+1][8]=l:i[s-15+o][8]=l}for(o=0;o<15;o+=1){l=!e&&1==(r>>o&1);o<8?i[8][s-o-1]=l:o<9?i[8][15-o-1+1]=l:i[8][15-o-1]=l}i[s-8][8]=!e},m=function(e,t){for(var n=-1,a=s-1,r=7,o=0,l=w.getMaskFunction(t),c=s-1;c>0;c-=2)for(6==c&&(c-=1);;){for(var d=0;d<2;d+=1)if(null==i[a][c-d]){var u=!1;o<e.length&&(u=1==(e[o]>>>r&1)),l(a,c-d)&&(u=!u),i[a][c-d]=u,-1==(r-=1)&&(o+=1,r=7)}if((a+=n)<0||s<=a){a-=n,n=-n;break}}},v=function(e,t,n){for(var a=x.getRSBlocks(e,t),i=$(),s=0;s<n.length;s+=1){var r=n[s];i.put(r.getMode(),4),i.put(r.getLength(),w.getLengthInBits(r.getMode(),e)),r.write(i)}var o=0;for(s=0;s<a.length;s+=1)o+=a[s].dataCount;if(i.getLengthInBits()>8*o)throw"code length overflow. ("+i.getLengthInBits()+">"+8*o+")";for(i.getLengthInBits()+4<=8*o&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*o||(i.put(236,8),i.getLengthInBits()>=8*o));)i.put(17,8);return function(e,t){for(var n=0,a=0,i=0,s=new Array(t.length),r=new Array(t.length),o=0;o<t.length;o+=1){var l=t[o].dataCount,c=t[o].totalCount-l;a=Math.max(a,l),i=Math.max(i,c),s[o]=new Array(l);for(var d=0;d<s[o].length;d+=1)s[o][d]=255&e.getBuffer()[d+n];n+=l;var u=w.getErrorCorrectPolynomial(c),p=_(s[o],u.getLength()-1).mod(u);for(r[o]=new Array(u.getLength()-1),d=0;d<r[o].length;d+=1){var f=d+p.getLength()-r[o].length;r[o][d]=f>=0?p.getAt(f):0}}var h=0;for(d=0;d<t.length;d+=1)h+=t[d].totalCount;var g=new Array(h),m=0;for(d=0;d<a;d+=1)for(o=0;o<t.length;o+=1)d<s[o].length&&(g[m]=s[o][d],m+=1);for(d=0;d<i;d+=1)for(o=0;o<t.length;o+=1)d<r[o].length&&(g[m]=r[o][d],m+=1);return g}(i,a)};l.addData=function(e,t){var n=null;switch(t=t||"Byte"){case"Numeric":n=k(e);break;case"Alphanumeric":n=S(e);break;case"Byte":n=C(e);break;case"Kanji":n=A(e);break;default:throw"mode:"+t}o.push(n),r=null},l.isDark=function(e,t){if(e<0||s<=e||t<0||s<=t)throw e+","+t;return i[e][t]},l.getModuleCount=function(){return s},l.make=function(){if(n<1){for(var e=1;e<40;e++){for(var t=x.getRSBlocks(e,a),i=$(),s=0;s<o.length;s++){var r=o[s];i.put(r.getMode(),4),i.put(r.getLength(),w.getLengthInBits(r.getMode(),e)),r.write(i)}var d=0;for(s=0;s<t.length;s++)d+=t[s].dataCount;if(i.getLengthInBits()<=8*d)break}n=e}c(!1,function(){for(var e=0,t=0,n=0;n<8;n+=1){c(!0,n);var a=w.getLostPoint(l);(0==n||e>a)&&(e=a,t=n)}return t}())},l.createTableTag=function(e,t){e=e||2;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+(t=void 0===t?4*e:t)+"px;",n+='">',n+="<tbody>";for(var a=0;a<l.getModuleCount();a+=1){n+="<tr>";for(var i=0;i<l.getModuleCount();i+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+e+"px;",n+=" height: "+e+"px;",n+=" background-color: ",n+=l.isDark(a,i)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return n+="</tbody>",n+="</table>"},l.createSvgTag=function(e,t,n,a){var i={};"object"==typeof arguments[0]&&(e=(i=arguments[0]).cellSize,t=i.margin,n=i.alt,a=i.title),e=e||2,t=void 0===t?4*e:t,(n="string"==typeof n?{text:n}:n||{}).text=n.text||null,n.id=n.text?n.id||"qrcode-description":null,(a="string"==typeof a?{text:a}:a||{}).text=a.text||null,a.id=a.text?a.id||"qrcode-title":null;var s,r,o,c,d=l.getModuleCount()*e+2*t,u="";for(c="l"+e+",0 0,"+e+" -"+e+",0 0,-"+e+"z ",u+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',u+=i.scalable?"":' width="'+d+'px" height="'+d+'px"',u+=' viewBox="0 0 '+d+" "+d+'" ',u+=' preserveAspectRatio="xMinYMin meet"',u+=a.text||n.text?' role="img" aria-labelledby="'+b([a.id,n.id].join(" ").trim())+'"':"",u+=">",u+=a.text?'<title id="'+b(a.id)+'">'+b(a.text)+"</title>":"",u+=n.text?'<description id="'+b(n.id)+'">'+b(n.text)+"</description>":"",u+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',u+='<path d="',r=0;r<l.getModuleCount();r+=1)for(o=r*e+t,s=0;s<l.getModuleCount();s+=1)l.isDark(r,s)&&(u+="M"+(s*e+t)+","+o+c);return u+='" stroke="transparent" fill="black"/>',u+="</svg>"},l.createDataURL=function(e,t){e=e||2,t=void 0===t?4*e:t;var n=l.getModuleCount()*e+2*t,a=t,i=n-t;return P(n,n,(function(t,n){if(a<=t&&t<i&&a<=n&&n<i){var s=Math.floor((t-a)/e),r=Math.floor((n-a)/e);return l.isDark(r,s)?0:1}return 1}))},l.createImgTag=function(e,t,n){e=e||2,t=void 0===t?4*e:t;var a=l.getModuleCount()*e+2*t,i="";return i+="<img",i+=' src="',i+=l.createDataURL(e,t),i+='"',i+=' width="',i+=a,i+='"',i+=' height="',i+=a,i+='"',n&&(i+=' alt="',i+=b(n),i+='"'),i+="/>"};var b=function(e){for(var t="",n=0;n<e.length;n+=1){var a=e.charAt(n);switch(a){case"<":t+="&lt;";break;case">":t+="&gt;";break;case"&":t+="&amp;";break;case'"':t+="&quot;";break;default:t+=a}}return t};return l.createASCII=function(e,t){if((e=e||1)<2)return function(e){e=void 0===e?2:e;var t,n,a,i,s,r=1*l.getModuleCount()+2*e,o=e,c=r-e,d={"██":"█","█ ":"▀"," █":"▄","  ":" "},u={"██":"▀","█ ":"▀"," █":" ","  ":" "},p="";for(t=0;t<r;t+=2){for(a=Math.floor((t-o)/1),i=Math.floor((t+1-o)/1),n=0;n<r;n+=1)s="█",o<=n&&n<c&&o<=t&&t<c&&l.isDark(a,Math.floor((n-o)/1))&&(s=" "),o<=n&&n<c&&o<=t+1&&t+1<c&&l.isDark(i,Math.floor((n-o)/1))?s+=" ":s+="█",p+=e<1&&t+1>=c?u[s]:d[s];p+="\n"}return r%2&&e>0?p.substring(0,p.length-r-1)+Array(r+1).join("▀"):p.substring(0,p.length-1)}(t);e-=1,t=void 0===t?2*e:t;var n,a,i,s,r=l.getModuleCount()*e+2*t,o=t,c=r-t,d=Array(e+1).join("██"),u=Array(e+1).join("  "),p="",f="";for(n=0;n<r;n+=1){for(i=Math.floor((n-o)/e),f="",a=0;a<r;a+=1)s=1,o<=a&&a<c&&o<=n&&n<c&&l.isDark(i,Math.floor((a-o)/e))&&(s=0),f+=s?d:u;for(i=0;i<e;i+=1)p+=f+"\n"}return p.substring(0,p.length-1)},l.renderTo2dContext=function(e,t){t=t||2;for(var n=l.getModuleCount(),a=0;a<n;a++)for(var i=0;i<n;i++)e.fillStyle=l.isDark(a,i)?"black":"white",e.fillRect(a*t,i*t,t,t)},l};e.stringToBytes=(e.stringToBytesFuncs={default:function(e){for(var t=[],n=0;n<e.length;n+=1){var a=e.charCodeAt(n);t.push(255&a)}return t}}).default,e.createStringToBytes=function(e,t){var n=function(){for(var n=M(e),a=function(){var e=n.read();if(-1==e)throw"eof";return e},i=0,s={};;){var r=n.read();if(-1==r)break;var o=a(),l=a()<<8|a();s[String.fromCharCode(r<<8|o)]=l,i+=1}if(i!=t)throw i+" != "+t;return s}(),a="?".charCodeAt(0);return function(e){for(var t=[],i=0;i<e.length;i+=1){var s=e.charCodeAt(i);if(s<128)t.push(s);else{var r=n[e.charAt(i)];"number"==typeof r?(255&r)==r?t.push(r):(t.push(r>>>8),t.push(255&r)):t.push(a)}}return t}};var t,n,a,i,s,r=1,o=2,l=4,c=8,d={L:1,M:0,Q:3,H:2},u=0,p=1,f=2,h=3,g=4,m=5,v=6,b=7,w=(t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],n=1335,a=7973,s=function(e){for(var t=0;0!=e;)t+=1,e>>>=1;return t},(i={}).getBCHTypeInfo=function(e){for(var t=e<<10;s(t)-s(n)>=0;)t^=n<<s(t)-s(n);return 21522^(e<<10|t)},i.getBCHTypeNumber=function(e){for(var t=e<<12;s(t)-s(a)>=0;)t^=a<<s(t)-s(a);return e<<12|t},i.getPatternPosition=function(e){return t[e-1]},i.getMaskFunction=function(e){switch(e){case u:return function(e,t){return(e+t)%2==0};case p:return function(e,t){return e%2==0};case f:return function(e,t){return t%3==0};case h:return function(e,t){return(e+t)%3==0};case g:return function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0};case m:return function(e,t){return e*t%2+e*t%3==0};case v:return function(e,t){return(e*t%2+e*t%3)%2==0};case b:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw"bad maskPattern:"+e}},i.getErrorCorrectPolynomial=function(e){for(var t=_([1],0),n=0;n<e;n+=1)t=t.multiply(_([1,y.gexp(n)],0));return t},i.getLengthInBits=function(e,t){if(1<=t&&t<10)switch(e){case r:return 10;case o:return 9;case l:case c:return 8;default:throw"mode:"+e}else if(t<27)switch(e){case r:return 12;case o:return 11;case l:return 16;case c:return 10;default:throw"mode:"+e}else{if(!(t<41))throw"type:"+t;switch(e){case r:return 14;case o:return 13;case l:return 16;case c:return 12;default:throw"mode:"+e}}},i.getLostPoint=function(e){for(var t=e.getModuleCount(),n=0,a=0;a<t;a+=1)for(var i=0;i<t;i+=1){for(var s=0,r=e.isDark(a,i),o=-1;o<=1;o+=1)if(!(a+o<0||t<=a+o))for(var l=-1;l<=1;l+=1)i+l<0||t<=i+l||0==o&&0==l||r==e.isDark(a+o,i+l)&&(s+=1);s>5&&(n+=3+s-5)}for(a=0;a<t-1;a+=1)for(i=0;i<t-1;i+=1){var c=0;e.isDark(a,i)&&(c+=1),e.isDark(a+1,i)&&(c+=1),e.isDark(a,i+1)&&(c+=1),e.isDark(a+1,i+1)&&(c+=1),0!=c&&4!=c||(n+=3)}for(a=0;a<t;a+=1)for(i=0;i<t-6;i+=1)e.isDark(a,i)&&!e.isDark(a,i+1)&&e.isDark(a,i+2)&&e.isDark(a,i+3)&&e.isDark(a,i+4)&&!e.isDark(a,i+5)&&e.isDark(a,i+6)&&(n+=40);for(i=0;i<t;i+=1)for(a=0;a<t-6;a+=1)e.isDark(a,i)&&!e.isDark(a+1,i)&&e.isDark(a+2,i)&&e.isDark(a+3,i)&&e.isDark(a+4,i)&&!e.isDark(a+5,i)&&e.isDark(a+6,i)&&(n+=40);var d=0;for(i=0;i<t;i+=1)for(a=0;a<t;a+=1)e.isDark(a,i)&&(d+=1);return n+=Math.abs(100*d/t/t-50)/5*10},i),y=function(){for(var e=new Array(256),t=new Array(256),n=0;n<8;n+=1)e[n]=1<<n;for(n=8;n<256;n+=1)e[n]=e[n-4]^e[n-5]^e[n-6]^e[n-8];for(n=0;n<255;n+=1)t[e[n]]=n;var a={glog:function(e){if(e<1)throw"glog("+e+")";return t[e]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e[t]}};return a}();function _(e,t){if(void 0===e.length)throw e.length+"/"+t;var n=function(){for(var n=0;n<e.length&&0==e[n];)n+=1;for(var a=new Array(e.length-n+t),i=0;i<e.length-n;i+=1)a[i]=e[i+n];return a}(),a={getAt:function(e){return n[e]},getLength:function(){return n.length},multiply:function(e){for(var t=new Array(a.getLength()+e.getLength()-1),n=0;n<a.getLength();n+=1)for(var i=0;i<e.getLength();i+=1)t[n+i]^=y.gexp(y.glog(a.getAt(n))+y.glog(e.getAt(i)));return _(t,0)},mod:function(e){if(a.getLength()-e.getLength()<0)return a;for(var t=y.glog(a.getAt(0))-y.glog(e.getAt(0)),n=new Array(a.getLength()),i=0;i<a.getLength();i+=1)n[i]=a.getAt(i);for(i=0;i<e.getLength();i+=1)n[i]^=y.gexp(y.glog(e.getAt(i))+t);return _(n,0).mod(e)}};return a}var x=function(){var e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(e,t){var n={};return n.totalCount=e,n.dataCount=t,n},n={};return n.getRSBlocks=function(n,a){var i=function(t,n){switch(n){case d.L:return e[4*(t-1)+0];case d.M:return e[4*(t-1)+1];case d.Q:return e[4*(t-1)+2];case d.H:return e[4*(t-1)+3];default:return}}(n,a);if(void 0===i)throw"bad rs block @ typeNumber:"+n+"/errorCorrectionLevel:"+a;for(var s=i.length/3,r=[],o=0;o<s;o+=1)for(var l=i[3*o+0],c=i[3*o+1],u=i[3*o+2],p=0;p<l;p+=1)r.push(t(c,u));return r},n}(),$=function(){var e=[],t=0,n={getBuffer:function(){return e},getAt:function(t){var n=Math.floor(t/8);return 1==(e[n]>>>7-t%8&1)},put:function(e,t){for(var a=0;a<t;a+=1)n.putBit(1==(e>>>t-a-1&1))},getLengthInBits:function(){return t},putBit:function(n){var a=Math.floor(t/8);e.length<=a&&e.push(0),n&&(e[a]|=128>>>t%8),t+=1}};return n},k=function(e){var t=r,n=e,a={getMode:function(){return t},getLength:function(e){return n.length},write:function(e){for(var t=n,a=0;a+2<t.length;)e.put(i(t.substring(a,a+3)),10),a+=3;a<t.length&&(t.length-a==1?e.put(i(t.substring(a,a+1)),4):t.length-a==2&&e.put(i(t.substring(a,a+2)),7))}},i=function(e){for(var t=0,n=0;n<e.length;n+=1)t=10*t+s(e.charAt(n));return t},s=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+e};return a},S=function(e){var t=o,n=e,a={getMode:function(){return t},getLength:function(e){return n.length},write:function(e){for(var t=n,a=0;a+1<t.length;)e.put(45*i(t.charAt(a))+i(t.charAt(a+1)),11),a+=2;a<t.length&&e.put(i(t.charAt(a)),6)}},i=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);if("A"<=e&&e<="Z")return e.charCodeAt(0)-"A".charCodeAt(0)+10;switch(e){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+e}};return a},C=function(t){var n=l,a=e.stringToBytes(t),i={getMode:function(){return n},getLength:function(e){return a.length},write:function(e){for(var t=0;t<a.length;t+=1)e.put(a[t],8)}};return i},A=function(t){var n=c,a=e.stringToBytesFuncs.SJIS;if(!a)throw"sjis not supported.";!function(e,t){var n=a("友");if(2!=n.length||38726!=(n[0]<<8|n[1]))throw"sjis not supported."}();var i=a(t),s={getMode:function(){return n},getLength:function(e){return~~(i.length/2)},write:function(e){for(var t=i,n=0;n+1<t.length;){var a=(255&t[n])<<8|255&t[n+1];if(33088<=a&&a<=40956)a-=33088;else{if(!(57408<=a&&a<=60351))throw"illegal char at "+(n+1)+"/"+a;a-=49472}a=192*(a>>>8&255)+(255&a),e.put(a,13),n+=2}if(n<t.length)throw"illegal char at "+(n+1)}};return s},T=function(){var e=[],t={writeByte:function(t){e.push(255&t)},writeShort:function(e){t.writeByte(e),t.writeByte(e>>>8)},writeBytes:function(e,n,a){n=n||0,a=a||e.length;for(var i=0;i<a;i+=1)t.writeByte(e[i+n])},writeString:function(e){for(var n=0;n<e.length;n+=1)t.writeByte(e.charCodeAt(n))},toByteArray:function(){return e},toString:function(){var t="";t+="[";for(var n=0;n<e.length;n+=1)n>0&&(t+=","),t+=e[n];return t+="]"}};return t},M=function(e){var t=e,n=0,a=0,i=0,s={read:function(){for(;i<8;){if(n>=t.length){if(0==i)return-1;throw"unexpected end of file./"+i}var e=t.charAt(n);if(n+=1,"="==e)return i=0,-1;e.match(/^\s$/)||(a=a<<6|r(e.charCodeAt(0)),i+=6)}var s=a>>>i-8&255;return i-=8,s}},r=function(e){if(65<=e&&e<=90)return e-65;if(97<=e&&e<=122)return e-97+26;if(48<=e&&e<=57)return e-48+52;if(43==e)return 62;if(47==e)return 63;throw"c:"+e};return s},P=function(e,t,n){for(var a=function(e,t){var n=e,a=t,i=new Array(e*t),s={setPixel:function(e,t,a){i[t*n+e]=a},write:function(e){e.writeString("GIF87a"),e.writeShort(n),e.writeShort(a),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(n),e.writeShort(a),e.writeByte(0);var t=r(2);e.writeByte(2);for(var i=0;t.length-i>255;)e.writeByte(255),e.writeBytes(t,i,255),i+=255;e.writeByte(t.length-i),e.writeBytes(t,i,t.length-i),e.writeByte(0),e.writeString(";")}},r=function(e){for(var t=1<<e,n=1+(1<<e),a=e+1,s=o(),r=0;r<t;r+=1)s.add(String.fromCharCode(r));s.add(String.fromCharCode(t)),s.add(String.fromCharCode(n));var l,c,d,u=T(),p=(l=u,c=0,d=0,{write:function(e,t){if(e>>>t!=0)throw"length over";for(;c+t>=8;)l.writeByte(255&(e<<c|d)),t-=8-c,e>>>=8-c,d=0,c=0;d|=e<<c,c+=t},flush:function(){c>0&&l.writeByte(d)}});p.write(t,a);var f=0,h=String.fromCharCode(i[f]);for(f+=1;f<i.length;){var g=String.fromCharCode(i[f]);f+=1,s.contains(h+g)?h+=g:(p.write(s.indexOf(h),a),s.size()<4095&&(s.size()==1<<a&&(a+=1),s.add(h+g)),h=g)}return p.write(s.indexOf(h),a),p.write(n,a),p.flush(),u.toByteArray()},o=function(){var e={},t=0,n={add:function(a){if(n.contains(a))throw"dup key:"+a;e[a]=t,t+=1},size:function(){return t},indexOf:function(t){return e[t]},contains:function(t){return void 0!==e[t]}};return n};return s}(e,t),i=0;i<t;i+=1)for(var s=0;s<e;s+=1)a.setPixel(s,i,n(s,i));var r=T();a.write(r);for(var o=function(){var e=0,t=0,n=0,a="",i={},s=function(e){a+=String.fromCharCode(r(63&e))},r=function(e){if(e<0);else{if(e<26)return 65+e;if(e<52)return e-26+97;if(e<62)return e-52+48;if(62==e)return 43;if(63==e)return 47}throw"n:"+e};return i.writeByte=function(a){for(e=e<<8|255&a,t+=8,n+=1;t>=6;)s(e>>>t-6),t-=6},i.flush=function(){if(t>0&&(s(e<<6-t),e=0,t=0),n%3!=0)for(var i=3-n%3,r=0;r<i;r+=1)a+="="},i.toString=function(){return a},i}(),l=r.toByteArray(),c=0;c<l.length;c+=1)o.writeByte(l[c]);return o.flush(),"data:image/gif;base64,"+o};return e}();qrcode.stringToBytesFuncs["UTF-8"]=function(e){return function(e){for(var t=[],n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t.push(a):a<2048?t.push(192|a>>6,128|63&a):a<55296||a>=57344?t.push(224|a>>12,128|a>>6&63,128|63&a):(n++,a=65536+((1023&a)<<10|1023&e.charCodeAt(n)),t.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|63&a))}return t}(e)},function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports&&(module.exports=e())}((function(){return qrcode})),/*! showdown v 1.9.1 - 02-11-2019 */
function(){function e(e){"use strict";var t={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===e)return JSON.parse(JSON.stringify(t));var n={};for(var a in t)t.hasOwnProperty(a)&&(n[a]=t[a].defaultValue);return n}var t={},n={},a={},i=e(!0),s="vanilla",r={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:e(!0),allOn:function(){"use strict";var t=e(!0),n={};for(var a in t)t.hasOwnProperty(a)&&(n[a]=!0);return n}()};function o(e,n){"use strict";var a=n?"Error in "+n+" extension->":"Error in unnamed extension",i={valid:!0,error:""};t.helper.isArray(e)||(e=[e]);for(var s=0;s<e.length;++s){var r=a+" sub-extension "+s+": ",o=e[s];if("object"!=typeof o)return i.valid=!1,i.error=r+"must be an object, but "+typeof o+" given",i;if(!t.helper.isString(o.type))return i.valid=!1,i.error=r+'property "type" must be a string, but '+typeof o.type+" given",i;var l=o.type=o.type.toLowerCase();if("language"===l&&(l=o.type="lang"),"html"===l&&(l=o.type="output"),"lang"!==l&&"output"!==l&&"listener"!==l)return i.valid=!1,i.error=r+"type "+l+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',i;if("listener"===l){if(t.helper.isUndefined(o.listeners))return i.valid=!1,i.error=r+'. Extensions of type "listener" must have a property called "listeners"',i}else if(t.helper.isUndefined(o.filter)&&t.helper.isUndefined(o.regex))return i.valid=!1,i.error=r+l+' extensions must define either a "regex" property or a "filter" method',i;if(o.listeners){if("object"!=typeof o.listeners)return i.valid=!1,i.error=r+'"listeners" property must be an object but '+typeof o.listeners+" given",i;for(var c in o.listeners)if(o.listeners.hasOwnProperty(c)&&"function"!=typeof o.listeners[c])return i.valid=!1,i.error=r+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+c+" must be a function but "+typeof o.listeners[c]+" given",i}if(o.filter){if("function"!=typeof o.filter)return i.valid=!1,i.error=r+'"filter" must be a function, but '+typeof o.filter+" given",i}else if(o.regex){if(t.helper.isString(o.regex)&&(o.regex=new RegExp(o.regex,"g")),!(o.regex instanceof RegExp))return i.valid=!1,i.error=r+'"regex" property must either be a string or a RegExp object, but '+typeof o.regex+" given",i;if(t.helper.isUndefined(o.replace))return i.valid=!1,i.error=r+'"regex" extensions must implement a replace string or function',i}}return i}function l(e,t){"use strict";return"¨E"+t.charCodeAt(0)+"E"}t.helper={},t.extensions={},t.setOption=function(e,t){"use strict";return i[e]=t,this},t.getOption=function(e){"use strict";return i[e]},t.getOptions=function(){"use strict";return i},t.resetOptions=function(){"use strict";i=e(!0)},t.setFlavor=function(e){"use strict";if(!r.hasOwnProperty(e))throw Error(e+" flavor was not found");t.resetOptions();var n=r[e];for(var a in s=e,n)n.hasOwnProperty(a)&&(i[a]=n[a])},t.getFlavor=function(){"use strict";return s},t.getFlavorOptions=function(e){"use strict";if(r.hasOwnProperty(e))return r[e]},t.getDefaultOptions=function(t){"use strict";return e(t)},t.subParser=function(e,a){"use strict";if(t.helper.isString(e)){if(void 0===a){if(n.hasOwnProperty(e))return n[e];throw Error("SubParser named "+e+" not registered!")}n[e]=a}},t.extension=function(e,n){"use strict";if(!t.helper.isString(e))throw Error("Extension 'name' must be a string");if(e=t.helper.stdExtName(e),t.helper.isUndefined(n)){if(!a.hasOwnProperty(e))throw Error("Extension named "+e+" is not registered!");return a[e]}"function"==typeof n&&(n=n()),t.helper.isArray(n)||(n=[n]);var i=o(n,e);if(!i.valid)throw Error(i.error);a[e]=n},t.getAllExtensions=function(){"use strict";return a},t.removeExtension=function(e){"use strict";delete a[e]},t.resetExtensions=function(){"use strict";a={}},t.validateExtension=function(e){"use strict";var t=o(e,null);return!!t.valid||(console.warn(t.error),!1)},t.hasOwnProperty("helper")||(t.helper={}),t.helper.isString=function(e){"use strict";return"string"==typeof e||e instanceof String},t.helper.isFunction=function(e){"use strict";return e&&"[object Function]"==={}.toString.call(e)},t.helper.isArray=function(e){"use strict";return Array.isArray(e)},t.helper.isUndefined=function(e){"use strict";return void 0===e},t.helper.forEach=function(e,n){"use strict";if(t.helper.isUndefined(e))throw new Error("obj param is required");if(t.helper.isUndefined(n))throw new Error("callback param is required");if(!t.helper.isFunction(n))throw new Error("callback param must be a function/closure");if("function"==typeof e.forEach)e.forEach(n);else if(t.helper.isArray(e))for(var a=0;a<e.length;a++)n(e[a],a,e);else{if("object"!=typeof e)throw new Error("obj does not seem to be an array or an iterable object");for(var i in e)e.hasOwnProperty(i)&&n(e[i],i,e)}},t.helper.stdExtName=function(e){"use strict";return e.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},t.helper.escapeCharactersCallback=l,t.helper.escapeCharacters=function(e,t,n){"use strict";var a="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(a="\\\\"+a);var i=new RegExp(a,"g");return e=e.replace(i,l)},t.helper.unescapeHTMLEntities=function(e){"use strict";return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var c=function(e,t,n,a){"use strict";var i,s,r,o,l,c=a||"",d=c.indexOf("g")>-1,u=new RegExp(t+"|"+n,"g"+c.replace(/g/g,"")),p=new RegExp(t,c.replace(/g/g,"")),f=[];do{for(i=0;r=u.exec(e);)if(p.test(r[0]))i++||(o=(s=u.lastIndex)-r[0].length);else if(i&&!--i){l=r.index+r[0].length;var h={left:{start:o,end:s},match:{start:s,end:r.index},right:{start:r.index,end:l},wholeMatch:{start:o,end:l}};if(f.push(h),!d)return f}}while(i&&(u.lastIndex=s));return f};t.helper.matchRecursiveRegExp=function(e,t,n,a){"use strict";for(var i=c(e,t,n,a),s=[],r=0;r<i.length;++r)s.push([e.slice(i[r].wholeMatch.start,i[r].wholeMatch.end),e.slice(i[r].match.start,i[r].match.end),e.slice(i[r].left.start,i[r].left.end),e.slice(i[r].right.start,i[r].right.end)]);return s},t.helper.replaceRecursiveRegExp=function(e,n,a,i,s){"use strict";if(!t.helper.isFunction(n)){var r=n;n=function(){return r}}var o=c(e,a,i,s),l=e,d=o.length;if(d>0){var u=[];0!==o[0].wholeMatch.start&&u.push(e.slice(0,o[0].wholeMatch.start));for(var p=0;p<d;++p)u.push(n(e.slice(o[p].wholeMatch.start,o[p].wholeMatch.end),e.slice(o[p].match.start,o[p].match.end),e.slice(o[p].left.start,o[p].left.end),e.slice(o[p].right.start,o[p].right.end))),p<d-1&&u.push(e.slice(o[p].wholeMatch.end,o[p+1].wholeMatch.start));o[d-1].wholeMatch.end<e.length&&u.push(e.slice(o[d-1].wholeMatch.end)),l=u.join("")}return l},t.helper.regexIndexOf=function(e,n,a){"use strict";if(!t.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(n instanceof RegExp==!1)throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var i=e.substring(a||0).search(n);return i>=0?i+(a||0):i},t.helper.splitAtIndex=function(e,n){"use strict";if(!t.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[e.substring(0,n),e.substring(n)]},t.helper.encodeEmailAddress=function(e){"use strict";var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e=e.replace(/./g,(function(e){if("@"===e)e=t[Math.floor(2*Math.random())](e);else{var n=Math.random();e=n>.9?t[2](e):n>.45?t[1](e):t[0](e)}return e}))},t.helper.padEnd=function(e,t,n){"use strict";return t>>=0,n=String(n||" "),e.length>t?String(e):((t-=e.length)>n.length&&(n+=n.repeat(t/n.length)),String(e)+n.slice(0,t))},"undefined"==typeof console&&(console={warn:function(e){"use strict";alert(e)},log:function(e){"use strict";alert(e)},error:function(e){"use strict";throw e}}),t.helper.regexes={asteriskDashAndColon:/([*_:~])/g},t.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:"<span style=\"font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>"},t.Converter=function(e){"use strict";var n={},l=[],c=[],d={},u=s,p={parsed:{},raw:"",format:""};function f(e,n){if(n=n||null,t.helper.isString(e)){if(n=e=t.helper.stdExtName(e),t.extensions[e])return console.warn("DEPRECATION WARNING: "+e+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void function(e,n){"function"==typeof e&&(e=e(new t.Converter));t.helper.isArray(e)||(e=[e]);var a=o(e,n);if(!a.valid)throw Error(a.error);for(var i=0;i<e.length;++i)switch(e[i].type){case"lang":l.push(e[i]);break;case"output":c.push(e[i]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(t.extensions[e],e);if(t.helper.isUndefined(a[e]))throw Error('Extension "'+e+'" could not be loaded. It was either not found or is not a valid extension.');e=a[e]}"function"==typeof e&&(e=e()),t.helper.isArray(e)||(e=[e]);var i=o(e,n);if(!i.valid)throw Error(i.error);for(var s=0;s<e.length;++s){switch(e[s].type){case"lang":l.push(e[s]);break;case"output":c.push(e[s])}if(e[s].hasOwnProperty("listeners"))for(var r in e[s].listeners)e[s].listeners.hasOwnProperty(r)&&h(r,e[s].listeners[r])}}function h(e,n){if(!t.helper.isString(e))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof e+" given");if("function"!=typeof n)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof n+" given");d.hasOwnProperty(e)||(d[e]=[]),d[e].push(n)}!function(){for(var a in e=e||{},i)i.hasOwnProperty(a)&&(n[a]=i[a]);if("object"!=typeof e)throw Error("Converter expects the passed parameter to be an object, but "+typeof e+" was passed instead.");for(var s in e)e.hasOwnProperty(s)&&(n[s]=e[s]);n.extensions&&t.helper.forEach(n.extensions,f)}(),this._dispatch=function(e,t,n,a){if(d.hasOwnProperty(e))for(var i=0;i<d[e].length;++i){var s=d[e][i](e,t,this,n,a);s&&void 0!==s&&(t=s)}return t},this.listen=function(e,t){return h(e,t),this},this.makeHtml=function(e){if(!e)return e;var a={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:l,outputModifiers:c,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return e=(e=(e=(e=(e=e.replace(/¨/g,"¨T")).replace(/\$/g,"¨D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\u00A0/g,"&nbsp;"),n.smartIndentationFix&&(e=function(e){var t=e.match(/^\s*/)[0].length,n=new RegExp("^\\s{0,"+t+"}","gm");return e.replace(n,"")}(e)),e="\n\n"+e+"\n\n",e=(e=t.subParser("detab")(e,n,a)).replace(/^[ \t]+$/gm,""),t.helper.forEach(l,(function(i){e=t.subParser("runExtension")(i,e,n,a)})),e=t.subParser("metadata")(e,n,a),e=t.subParser("hashPreCodeTags")(e,n,a),e=t.subParser("githubCodeBlocks")(e,n,a),e=t.subParser("hashHTMLBlocks")(e,n,a),e=t.subParser("hashCodeTags")(e,n,a),e=t.subParser("stripLinkDefinitions")(e,n,a),e=t.subParser("blockGamut")(e,n,a),e=t.subParser("unhashHTMLSpans")(e,n,a),e=(e=(e=t.subParser("unescapeSpecialChars")(e,n,a)).replace(/¨D/g,"$$")).replace(/¨T/g,"¨"),e=t.subParser("completeHTMLDocument")(e,n,a),t.helper.forEach(c,(function(i){e=t.subParser("runExtension")(i,e,n,a)})),p=a.metadata,e},this.makeMarkdown=this.makeMd=function(e,n){if(e=(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/>[ \t]+</,">¨NBSP;<"),!n){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");n=window.document}var a=n.createElement("div");a.innerHTML=e;var i={preList:function(e){for(var n=e.querySelectorAll("pre"),a=[],i=0;i<n.length;++i)if(1===n[i].childElementCount&&"code"===n[i].firstChild.tagName.toLowerCase()){var s=n[i].firstChild.innerHTML.trim(),r=n[i].firstChild.getAttribute("data-language")||"";if(""===r)for(var o=n[i].firstChild.className.split(" "),l=0;l<o.length;++l){var c=o[l].match(/^language-(.+)$/);if(null!==c){r=c[1];break}}s=t.helper.unescapeHTMLEntities(s),a.push(s),n[i].outerHTML='<precode language="'+r+'" precodenum="'+i.toString()+'"></precode>'}else a.push(n[i].innerHTML),n[i].innerHTML="",n[i].setAttribute("prenum",i.toString());return a}(a)};!function e(t){for(var n=0;n<t.childNodes.length;++n){var a=t.childNodes[n];3===a.nodeType?/\S/.test(a.nodeValue)?(a.nodeValue=a.nodeValue.split("\n").join(" "),a.nodeValue=a.nodeValue.replace(/(\s)+/g,"$1")):(t.removeChild(a),--n):1===a.nodeType&&e(a)}}(a);for(var s=a.childNodes,r="",o=0;o<s.length;o++)r+=t.subParser("makeMarkdown.node")(s[o],i);return r},this.setOption=function(e,t){n[e]=t},this.getOption=function(e){return n[e]},this.getOptions=function(){return n},this.addExtension=function(e,t){f(e,t=t||null)},this.useExtension=function(e){f(e)},this.setFlavor=function(e){if(!r.hasOwnProperty(e))throw Error(e+" flavor was not found");var t=r[e];for(var a in u=e,t)t.hasOwnProperty(a)&&(n[a]=t[a])},this.getFlavor=function(){return u},this.removeExtension=function(e){t.helper.isArray(e)||(e=[e]);for(var n=0;n<e.length;++n){for(var a=e[n],i=0;i<l.length;++i)l[i]===a&&l[i].splice(i,1);for(;0<c.length;++i)c[0]===a&&c[0].splice(i,1)}},this.getAllExtensions=function(){return{language:l,output:c}},this.getMetadata=function(e){return e?p.raw:p.parsed},this.getMetadataFormat=function(){return p.format},this._setMetadataPair=function(e,t){p.parsed[e]=t},this._setMetadataFormat=function(e){p.format=e},this._setMetadataRaw=function(e){p.raw=e}},t.subParser("anchors",(function(e,n,a){"use strict";var i=function(e,i,s,r,o,l,c){if(t.helper.isUndefined(c)&&(c=""),s=s.toLowerCase(),e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)r="";else if(!r){if(s||(s=i.toLowerCase().replace(/ ?\n/g," ")),r="#"+s,t.helper.isUndefined(a.gUrls[s]))return e;r=a.gUrls[s],t.helper.isUndefined(a.gTitles[s])||(c=a.gTitles[s])}var d='<a href="'+(r=r.replace(t.helper.regexes.asteriskDashAndColon,t.helper.escapeCharactersCallback))+'"';return""!==c&&null!==c&&(d+=' title="'+(c=(c=c.replace(/"/g,"&quot;")).replace(t.helper.regexes.asteriskDashAndColon,t.helper.escapeCharactersCallback))+'"'),n.openLinksInNewWindow&&!/^#/.test(r)&&(d+=' rel="noopener noreferrer" target="¨E95Eblank"'),d+=">"+i+"</a>"};return e=(e=(e=(e=(e=a.converter._dispatch("anchors.before",e,n,a)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,i)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,i)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,i)).replace(/\[([^\[\]]+)]()()()()()/g,i),n.ghMentions&&(e=e.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,(function(e,a,i,s,r){if("\\"===i)return a+s;if(!t.helper.isString(n.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var o=n.ghMentionsLink.replace(/\{u}/g,r),l="";return n.openLinksInNewWindow&&(l=' rel="noopener noreferrer" target="¨E95Eblank"'),a+'<a href="'+o+'"'+l+">"+s+"</a>"}))),e=a.converter._dispatch("anchors.after",e,n,a)}));var d=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,u=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,p=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,f=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,h=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,g=function(e){"use strict";return function(n,a,i,s,r,o,l){var c=i=i.replace(t.helper.regexes.asteriskDashAndColon,t.helper.escapeCharactersCallback),d="",u="",p=a||"",f=l||"";return/^www\./i.test(i)&&(i=i.replace(/^www\./i,"http://www.")),e.excludeTrailingPunctuationFromURLs&&o&&(d=o),e.openLinksInNewWindow&&(u=' rel="noopener noreferrer" target="¨E95Eblank"'),p+'<a href="'+i+'"'+u+">"+c+"</a>"+d+f}},m=function(e,n){"use strict";return function(a,i,s){var r="mailto:";return i=i||"",s=t.subParser("unescapeSpecialChars")(s,e,n),e.encodeEmails?(r=t.helper.encodeEmailAddress(r+s),s=t.helper.encodeEmailAddress(s)):r+=s,i+'<a href="'+r+'">'+s+"</a>"}};t.subParser("autoLinks",(function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("autoLinks.before",e,t,n)).replace(p,g(t))).replace(h,m(t,n)),e=n.converter._dispatch("autoLinks.after",e,t,n)})),t.subParser("simplifiedAutoLinks",(function(e,t,n){"use strict";return t.simplifiedAutoLink?(e=n.converter._dispatch("simplifiedAutoLinks.before",e,t,n),e=(e=t.excludeTrailingPunctuationFromURLs?e.replace(u,g(t)):e.replace(d,g(t))).replace(f,m(t,n)),e=n.converter._dispatch("simplifiedAutoLinks.after",e,t,n)):e})),t.subParser("blockGamut",(function(e,n,a){"use strict";return e=a.converter._dispatch("blockGamut.before",e,n,a),e=t.subParser("blockQuotes")(e,n,a),e=t.subParser("headers")(e,n,a),e=t.subParser("horizontalRule")(e,n,a),e=t.subParser("lists")(e,n,a),e=t.subParser("codeBlocks")(e,n,a),e=t.subParser("tables")(e,n,a),e=t.subParser("hashHTMLBlocks")(e,n,a),e=t.subParser("paragraphs")(e,n,a),e=a.converter._dispatch("blockGamut.after",e,n,a)})),t.subParser("blockQuotes",(function(e,n,a){"use strict";e=a.converter._dispatch("blockQuotes.before",e,n,a),e+="\n\n";var i=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return n.splitAdjacentBlockquotes&&(i=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),e=e.replace(i,(function(e){return e=(e=(e=e.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/¨0/g,"")).replace(/^[ \t]+$/gm,""),e=t.subParser("githubCodeBlocks")(e,n,a),e=(e=(e=t.subParser("blockGamut")(e,n,a)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,(function(e,t){var n=t;return n=(n=n.replace(/^  /gm,"¨0")).replace(/¨0/g,"")})),t.subParser("hashBlock")("<blockquote>\n"+e+"\n</blockquote>",n,a)})),e=a.converter._dispatch("blockQuotes.after",e,n,a)})),t.subParser("codeBlocks",(function(e,n,a){"use strict";e=a.converter._dispatch("codeBlocks.before",e,n,a);return e=(e=(e+="¨0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g,(function(e,i,s){var r=i,o=s,l="\n";return r=t.subParser("outdent")(r,n,a),r=t.subParser("encodeCode")(r,n,a),r=(r=(r=t.subParser("detab")(r,n,a)).replace(/^\n+/g,"")).replace(/\n+$/g,""),n.omitExtraWLInCodeBlocks&&(l=""),r="<pre><code>"+r+l+"</code></pre>",t.subParser("hashBlock")(r,n,a)+o}))).replace(/¨0/,""),e=a.converter._dispatch("codeBlocks.after",e,n,a)})),t.subParser("codeSpans",(function(e,n,a){"use strict";return void 0===(e=a.converter._dispatch("codeSpans.before",e,n,a))&&(e=""),e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,(function(e,i,s,r){var o=r;return o=(o=o.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),o=i+"<code>"+(o=t.subParser("encodeCode")(o,n,a))+"</code>",o=t.subParser("hashHTMLSpans")(o,n,a)})),e=a.converter._dispatch("codeSpans.after",e,n,a)})),t.subParser("completeHTMLDocument",(function(e,t,n){"use strict";if(!t.completeHTMLDocument)return e;e=n.converter._dispatch("completeHTMLDocument.before",e,t,n);var a="html",i="<!DOCTYPE HTML>\n",s="",r='<meta charset="utf-8">\n',o="",l="";for(var c in void 0!==n.metadata.parsed.doctype&&(i="<!DOCTYPE "+n.metadata.parsed.doctype+">\n","html"!==(a=n.metadata.parsed.doctype.toString().toLowerCase())&&"html5"!==a||(r='<meta charset="utf-8">')),n.metadata.parsed)if(n.metadata.parsed.hasOwnProperty(c))switch(c.toLowerCase()){case"doctype":break;case"title":s="<title>"+n.metadata.parsed.title+"</title>\n";break;case"charset":r="html"===a||"html5"===a?'<meta charset="'+n.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+n.metadata.parsed.charset+'">\n';break;case"language":case"lang":o=' lang="'+n.metadata.parsed[c]+'"',l+='<meta name="'+c+'" content="'+n.metadata.parsed[c]+'">\n';break;default:l+='<meta name="'+c+'" content="'+n.metadata.parsed[c]+'">\n'}return e=i+"<html"+o+">\n<head>\n"+s+r+l+"</head>\n<body>\n"+e.trim()+"\n</body>\n</html>",e=n.converter._dispatch("completeHTMLDocument.after",e,t,n)})),t.subParser("detab",(function(e,t,n){"use strict";return e=(e=(e=(e=(e=(e=n.converter._dispatch("detab.before",e,t,n)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"¨A¨B")).replace(/¨B(.+?)¨A/g,(function(e,t){for(var n=t,a=4-n.length%4,i=0;i<a;i++)n+=" ";return n}))).replace(/¨A/g,"    ")).replace(/¨B/g,""),e=n.converter._dispatch("detab.after",e,t,n)})),t.subParser("ellipsis",(function(e,t,n){"use strict";return e=(e=n.converter._dispatch("ellipsis.before",e,t,n)).replace(/\.\.\./g,"…"),e=n.converter._dispatch("ellipsis.after",e,t,n)})),t.subParser("emoji",(function(e,n,a){"use strict";if(!n.emoji)return e;return e=(e=a.converter._dispatch("emoji.before",e,n,a)).replace(/:([\S]+?):/g,(function(e,n){return t.helper.emojis.hasOwnProperty(n)?t.helper.emojis[n]:e})),e=a.converter._dispatch("emoji.after",e,n,a)})),t.subParser("encodeAmpsAndAngles",(function(e,t,n){"use strict";return e=(e=(e=(e=(e=n.converter._dispatch("encodeAmpsAndAngles.before",e,t,n)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),e=n.converter._dispatch("encodeAmpsAndAngles.after",e,t,n)})),t.subParser("encodeBackslashEscapes",(function(e,n,a){"use strict";return e=(e=(e=a.converter._dispatch("encodeBackslashEscapes.before",e,n,a)).replace(/\\(\\)/g,t.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,t.helper.escapeCharactersCallback),e=a.converter._dispatch("encodeBackslashEscapes.after",e,n,a)})),t.subParser("encodeCode",(function(e,n,a){"use strict";return e=(e=a.converter._dispatch("encodeCode.before",e,n,a)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,t.helper.escapeCharactersCallback),e=a.converter._dispatch("encodeCode.after",e,n,a)})),t.subParser("escapeSpecialCharsWithinTagAttributes",(function(e,n,a){"use strict";return e=(e=(e=a.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",e,n,a)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,(function(e){return e.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,t.helper.escapeCharactersCallback)}))).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,(function(e){return e.replace(/([\\`*_~=|])/g,t.helper.escapeCharactersCallback)})),e=a.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",e,n,a)})),t.subParser("githubCodeBlocks",(function(e,n,a){"use strict";return n.ghCodeBlocks?(e=a.converter._dispatch("githubCodeBlocks.before",e,n,a),e=(e=(e+="¨0").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,(function(e,i,s,r){var o=n.omitExtraWLInCodeBlocks?"":"\n";return r=t.subParser("encodeCode")(r,n,a),r="<pre><code"+(s?' class="'+s+" language-"+s+'"':"")+">"+(r=(r=(r=t.subParser("detab")(r,n,a)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+o+"</code></pre>",r=t.subParser("hashBlock")(r,n,a),"\n\n¨G"+(a.ghCodeBlocks.push({text:e,codeblock:r})-1)+"G\n\n"}))).replace(/¨0/,""),a.converter._dispatch("githubCodeBlocks.after",e,n,a)):e})),t.subParser("hashBlock",(function(e,t,n){"use strict";return e=(e=n.converter._dispatch("hashBlock.before",e,t,n)).replace(/(^\n+|\n+$)/g,""),e="\n\n¨K"+(n.gHtmlBlocks.push(e)-1)+"K\n\n",e=n.converter._dispatch("hashBlock.after",e,t,n)})),t.subParser("hashCodeTags",(function(e,n,a){"use strict";e=a.converter._dispatch("hashCodeTags.before",e,n,a);return e=t.helper.replaceRecursiveRegExp(e,(function(e,i,s,r){var o=s+t.subParser("encodeCode")(i,n,a)+r;return"¨C"+(a.gHtmlSpans.push(o)-1)+"C"}),"<code\\b[^>]*>","</code>","gim"),e=a.converter._dispatch("hashCodeTags.after",e,n,a)})),t.subParser("hashElement",(function(e,t,n){"use strict";return function(e,t){var a=t;return a=(a=(a=a.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),a="\n\n¨K"+(n.gHtmlBlocks.push(a)-1)+"K\n\n"}})),t.subParser("hashHTMLBlocks",(function(e,n,a){"use strict";e=a.converter._dispatch("hashHTMLBlocks.before",e,n,a);var i=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],s=function(e,t,n,i){var s=e;return-1!==n.search(/\bmarkdown\b/)&&(s=n+a.converter.makeHtml(t)+i),"\n\n¨K"+(a.gHtmlBlocks.push(s)-1)+"K\n\n"};n.backslashEscapesHTMLTags&&(e=e.replace(/\\<(\/?[^>]+?)>/g,(function(e,t){return"&lt;"+t+"&gt;"})));for(var r=0;r<i.length;++r)for(var o,l=new RegExp("^ {0,3}(<"+i[r]+"\\b[^>]*>)","im"),c="<"+i[r]+"\\b[^>]*>",d="</"+i[r]+">";-1!==(o=t.helper.regexIndexOf(e,l));){var u=t.helper.splitAtIndex(e,o),p=t.helper.replaceRecursiveRegExp(u[1],s,c,d,"im");if(p===u[1])break;e=u[0].concat(p)}return e=e.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,t.subParser("hashElement")(e,n,a)),e=(e=t.helper.replaceRecursiveRegExp(e,(function(e){return"\n\n¨K"+(a.gHtmlBlocks.push(e)-1)+"K\n\n"}),"^ {0,3}\x3c!--","--\x3e","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,t.subParser("hashElement")(e,n,a)),e=a.converter._dispatch("hashHTMLBlocks.after",e,n,a)})),t.subParser("hashHTMLSpans",(function(e,t,n){"use strict";function a(e){return"¨C"+(n.gHtmlSpans.push(e)-1)+"C"}return e=(e=(e=(e=(e=n.converter._dispatch("hashHTMLSpans.before",e,t,n)).replace(/<[^>]+?\/>/gi,(function(e){return a(e)}))).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,(function(e){return a(e)}))).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,(function(e){return a(e)}))).replace(/<[^>]+?>/gi,(function(e){return a(e)})),e=n.converter._dispatch("hashHTMLSpans.after",e,t,n)})),t.subParser("unhashHTMLSpans",(function(e,t,n){"use strict";e=n.converter._dispatch("unhashHTMLSpans.before",e,t,n);for(var a=0;a<n.gHtmlSpans.length;++a){for(var i=n.gHtmlSpans[a],s=0;/¨C(\d+)C/.test(i);){var r=RegExp.$1;if(i=i.replace("¨C"+r+"C",n.gHtmlSpans[r]),10===s){console.error("maximum nesting of 10 spans reached!!!");break}++s}e=e.replace("¨C"+a+"C",i)}return e=n.converter._dispatch("unhashHTMLSpans.after",e,t,n)})),t.subParser("hashPreCodeTags",(function(e,n,a){"use strict";e=a.converter._dispatch("hashPreCodeTags.before",e,n,a);return e=t.helper.replaceRecursiveRegExp(e,(function(e,i,s,r){var o=s+t.subParser("encodeCode")(i,n,a)+r;return"\n\n¨G"+(a.ghCodeBlocks.push({text:e,codeblock:o})-1)+"G\n\n"}),"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),e=a.converter._dispatch("hashPreCodeTags.after",e,n,a)})),t.subParser("headers",(function(e,n,a){"use strict";e=a.converter._dispatch("headers.before",e,n,a);var i=isNaN(parseInt(n.headerLevelStart))?1:parseInt(n.headerLevelStart),s=n.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,r=n.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;e=(e=e.replace(s,(function(e,s){var r=t.subParser("spanGamut")(s,n,a),o=n.noHeaderId?"":' id="'+l(s)+'"',c="<h"+i+o+">"+r+"</h"+i+">";return t.subParser("hashBlock")(c,n,a)}))).replace(r,(function(e,s){var r=t.subParser("spanGamut")(s,n,a),o=n.noHeaderId?"":' id="'+l(s)+'"',c=i+1,d="<h"+c+o+">"+r+"</h"+c+">";return t.subParser("hashBlock")(d,n,a)}));var o=n.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;function l(e){var i,s;if(n.customizedHeaderId){var r=e.match(/\{([^{]+?)}\s*$/);r&&r[1]&&(e=r[1])}return i=e,s=t.helper.isString(n.prefixHeaderId)?n.prefixHeaderId:!0===n.prefixHeaderId?"section-":"",n.rawPrefixHeaderId||(i=s+i),i=n.ghCompatibleHeaderId?i.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():n.rawHeaderId?i.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():i.replace(/[^\w]/g,"").toLowerCase(),n.rawPrefixHeaderId&&(i=s+i),a.hashLinkCounts[i]?i=i+"-"+a.hashLinkCounts[i]++:a.hashLinkCounts[i]=1,i}return e=e.replace(o,(function(e,s,r){var o=r;n.customizedHeaderId&&(o=r.replace(/\s?\{([^{]+?)}\s*$/,""));var c=t.subParser("spanGamut")(o,n,a),d=n.noHeaderId?"":' id="'+l(r)+'"',u=i-1+s.length,p="<h"+u+d+">"+c+"</h"+u+">";return t.subParser("hashBlock")(p,n,a)})),e=a.converter._dispatch("headers.after",e,n,a)})),t.subParser("horizontalRule",(function(e,n,a){"use strict";e=a.converter._dispatch("horizontalRule.before",e,n,a);var i=t.subParser("hashBlock")("<hr />",n,a);return e=(e=(e=e.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,i)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,i)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,i),e=a.converter._dispatch("horizontalRule.after",e,n,a)})),t.subParser("images",(function(e,n,a){"use strict";function i(e,n,i,s,r,o,l,c){var d=a.gUrls,u=a.gTitles,p=a.gDimensions;if(i=i.toLowerCase(),c||(c=""),e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)s="";else if(""===s||null===s){if(""!==i&&null!==i||(i=n.toLowerCase().replace(/ ?\n/g," ")),s="#"+i,t.helper.isUndefined(d[i]))return e;s=d[i],t.helper.isUndefined(u[i])||(c=u[i]),t.helper.isUndefined(p[i])||(r=p[i].width,o=p[i].height)}n=n.replace(/"/g,"&quot;").replace(t.helper.regexes.asteriskDashAndColon,t.helper.escapeCharactersCallback);var f='<img src="'+(s=s.replace(t.helper.regexes.asteriskDashAndColon,t.helper.escapeCharactersCallback))+'" alt="'+n+'"';return c&&t.helper.isString(c)&&(f+=' title="'+(c=c.replace(/"/g,"&quot;").replace(t.helper.regexes.asteriskDashAndColon,t.helper.escapeCharactersCallback))+'"'),r&&o&&(f+=' width="'+(r="*"===r?"auto":r)+'"',f+=' height="'+(o="*"===o?"auto":o)+'"'),f+=" />"}return e=(e=(e=(e=(e=(e=a.converter._dispatch("images.before",e,n,a)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,i)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,(function(e,t,n,a,s,r,o,l){return i(e,t,n,a=a.replace(/\s/g,""),s,r,o,l)}))).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,i)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,i)).replace(/!\[([^\[\]]+)]()()()()()/g,i),e=a.converter._dispatch("images.after",e,n,a)})),t.subParser("italicsAndBold",(function(e,t,n){"use strict";function a(e,t,n){return t+e+n}return e=n.converter._dispatch("italicsAndBold.before",e,t,n),e=t.literalMidWordUnderscores?(e=(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,(function(e,t){return a(t,"<strong><em>","</em></strong>")}))).replace(/\b__(\S[\s\S]*?)__\b/g,(function(e,t){return a(t,"<strong>","</strong>")}))).replace(/\b_(\S[\s\S]*?)_\b/g,(function(e,t){return a(t,"<em>","</em>")})):(e=(e=e.replace(/___(\S[\s\S]*?)___/g,(function(e,t){return/\S$/.test(t)?a(t,"<strong><em>","</em></strong>"):e}))).replace(/__(\S[\s\S]*?)__/g,(function(e,t){return/\S$/.test(t)?a(t,"<strong>","</strong>"):e}))).replace(/_([^\s_][\s\S]*?)_/g,(function(e,t){return/\S$/.test(t)?a(t,"<em>","</em>"):e})),e=t.literalMidWordAsterisks?(e=(e=e.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,(function(e,t,n){return a(n,t+"<strong><em>","</em></strong>")}))).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,(function(e,t,n){return a(n,t+"<strong>","</strong>")}))).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,(function(e,t,n){return a(n,t+"<em>","</em>")})):(e=(e=e.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,(function(e,t){return/\S$/.test(t)?a(t,"<strong><em>","</em></strong>"):e}))).replace(/\*\*(\S[\s\S]*?)\*\*/g,(function(e,t){return/\S$/.test(t)?a(t,"<strong>","</strong>"):e}))).replace(/\*([^\s*][\s\S]*?)\*/g,(function(e,t){return/\S$/.test(t)?a(t,"<em>","</em>"):e})),e=n.converter._dispatch("italicsAndBold.after",e,t,n)})),t.subParser("lists",(function(e,n,a){"use strict";function i(e,i){a.gListLevel++,e=e.replace(/\n{2,}$/,"\n");var s=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,r=/\n[ \t]*\n(?!¨0)/.test(e+="¨0");return n.disableForced4SpacesIndentedSublists&&(s=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),e=(e=e.replace(s,(function(e,i,s,o,l,c,d){d=d&&""!==d.trim();var u=t.subParser("outdent")(l,n,a),p="";return c&&n.tasklists&&(p=' class="task-list-item" style="list-style-type: none;"',u=u.replace(/^[ \t]*\[(x|X| )?]/m,(function(){var e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return d&&(e+=" checked"),e+=">"}))),u=u.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,(function(e){return"¨A"+e})),i||u.search(/\n{2,}/)>-1?(u=t.subParser("githubCodeBlocks")(u,n,a),u=t.subParser("blockGamut")(u,n,a)):(u=(u=t.subParser("lists")(u,n,a)).replace(/\n$/,""),u=(u=t.subParser("hashHTMLBlocks")(u,n,a)).replace(/\n\n+/g,"\n\n"),u=r?t.subParser("paragraphs")(u,n,a):t.subParser("spanGamut")(u,n,a)),u="<li"+p+">"+(u=u.replace("¨A",""))+"</li>\n"}))).replace(/¨0/g,""),a.gListLevel--,i&&(e=e.replace(/\s+$/,"")),e}function s(e,t){if("ol"===t){var n=e.match(/^ *(\d+)\./);if(n&&"1"!==n[1])return' start="'+n[1]+'"'}return""}function r(e,t,a){var r=n.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,o=n.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,l="ul"===t?r:o,c="";if(-1!==e.search(l))!function n(d){var u=d.search(l),p=s(e,t);-1!==u?(c+="\n\n<"+t+p+">\n"+i(d.slice(0,u),!!a)+"</"+t+">\n",l="ul"===(t="ul"===t?"ol":"ul")?r:o,n(d.slice(u))):c+="\n\n<"+t+p+">\n"+i(d,!!a)+"</"+t+">\n"}(e);else{var d=s(e,t);c="\n\n<"+t+d+">\n"+i(e,!!a)+"</"+t+">\n"}return c}return e=a.converter._dispatch("lists.before",e,n,a),e+="¨0",e=(e=a.gListLevel?e.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(e,t,n){return r(t,n.search(/[*+-]/g)>-1?"ul":"ol",!0)})):e.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(e,t,n,a){return r(n,a.search(/[*+-]/g)>-1?"ul":"ol",!1)}))).replace(/¨0/,""),e=a.converter._dispatch("lists.after",e,n,a)})),t.subParser("metadata",(function(e,t,n){"use strict";if(!t.metadata)return e;function a(e){n.metadata.raw=e,(e=(e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,(function(e,t,a){return n.metadata.parsed[t]=a,""}))}return e=(e=(e=(e=n.converter._dispatch("metadata.before",e,t,n)).replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,(function(e,t,n){return a(n),"¨M"}))).replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,(function(e,t,i){return t&&(n.metadata.format=t),a(i),"¨M"}))).replace(/¨M/g,""),e=n.converter._dispatch("metadata.after",e,t,n)})),t.subParser("outdent",(function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("outdent.before",e,t,n)).replace(/^(\t|[ ]{1,4})/gm,"¨0")).replace(/¨0/g,""),e=n.converter._dispatch("outdent.after",e,t,n)})),t.subParser("paragraphs",(function(e,n,a){"use strict";for(var i=(e=(e=(e=a.converter._dispatch("paragraphs.before",e,n,a)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),s=[],r=i.length,o=0;o<r;o++){var l=i[o];l.search(/¨(K|G)(\d+)\1/g)>=0?s.push(l):l.search(/\S/)>=0&&(l=(l=t.subParser("spanGamut")(l,n,a)).replace(/^([ \t]*)/g,"<p>"),l+="</p>",s.push(l))}for(r=s.length,o=0;o<r;o++){for(var c="",d=s[o],u=!1;/¨(K|G)(\d+)\1/.test(d);){var p=RegExp.$1,f=RegExp.$2;c=(c="K"===p?a.gHtmlBlocks[f]:u?t.subParser("encodeCode")(a.ghCodeBlocks[f].text,n,a):a.ghCodeBlocks[f].codeblock).replace(/\$/g,"$$$$"),d=d.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,c),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(d)&&(u=!0)}s[o]=d}return e=(e=(e=s.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),a.converter._dispatch("paragraphs.after",e,n,a)})),t.subParser("runExtension",(function(e,t,n,a){"use strict";if(e.filter)t=e.filter(t,a.converter,n);else if(e.regex){var i=e.regex;i instanceof RegExp||(i=new RegExp(i,"g")),t=t.replace(i,e.replace)}return t})),t.subParser("spanGamut",(function(e,n,a){"use strict";return e=a.converter._dispatch("spanGamut.before",e,n,a),e=t.subParser("codeSpans")(e,n,a),e=t.subParser("escapeSpecialCharsWithinTagAttributes")(e,n,a),e=t.subParser("encodeBackslashEscapes")(e,n,a),e=t.subParser("images")(e,n,a),e=t.subParser("anchors")(e,n,a),e=t.subParser("autoLinks")(e,n,a),e=t.subParser("simplifiedAutoLinks")(e,n,a),e=t.subParser("emoji")(e,n,a),e=t.subParser("underline")(e,n,a),e=t.subParser("italicsAndBold")(e,n,a),e=t.subParser("strikethrough")(e,n,a),e=t.subParser("ellipsis")(e,n,a),e=t.subParser("hashHTMLSpans")(e,n,a),e=t.subParser("encodeAmpsAndAngles")(e,n,a),n.simpleLineBreaks?/\n\n¨K/.test(e)||(e=e.replace(/\n+/g,"<br />\n")):e=e.replace(/  +\n/g,"<br />\n"),e=a.converter._dispatch("spanGamut.after",e,n,a)})),t.subParser("strikethrough",(function(e,n,a){"use strict";return n.strikethrough&&(e=(e=a.converter._dispatch("strikethrough.before",e,n,a)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,(function(e,i){return function(e){return n.simplifiedAutoLink&&(e=t.subParser("simplifiedAutoLinks")(e,n,a)),"<del>"+e+"</del>"}(i)})),e=a.converter._dispatch("strikethrough.after",e,n,a)),e})),t.subParser("stripLinkDefinitions",(function(e,n,a){"use strict";var i=function(e,i,s,r,o,l,c){return i=i.toLowerCase(),s.match(/^data:.+?\/.+?;base64,/)?a.gUrls[i]=s.replace(/\s/g,""):a.gUrls[i]=t.subParser("encodeAmpsAndAngles")(s,n,a),l?l+c:(c&&(a.gTitles[i]=c.replace(/"|'/g,"&quot;")),n.parseImgDimensions&&r&&o&&(a.gDimensions[i]={width:r,height:o}),"")};return e=(e=(e=(e+="¨0").replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm,i)).replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,i)).replace(/¨0/,"")})),t.subParser("tables",(function(e,n,a){"use strict";if(!n.tables)return e;function i(e,i){return"<td"+i+">"+t.subParser("spanGamut")(e,n,a)+"</td>\n"}function s(e){var s,r=e.split("\n");for(s=0;s<r.length;++s)/^ {0,3}\|/.test(r[s])&&(r[s]=r[s].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(r[s])&&(r[s]=r[s].replace(/\|[ \t]*$/,"")),r[s]=t.subParser("codeSpans")(r[s],n,a);var o,l,c,d,u=r[0].split("|").map((function(e){return e.trim()})),p=r[1].split("|").map((function(e){return e.trim()})),f=[],h=[],g=[],m=[];for(r.shift(),r.shift(),s=0;s<r.length;++s)""!==r[s].trim()&&f.push(r[s].split("|").map((function(e){return e.trim()})));if(u.length<p.length)return e;for(s=0;s<p.length;++s)g.push((o=p[s],/^:[ \t]*--*$/.test(o)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(o)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(o)?' style="text-align:center;"':""));for(s=0;s<u.length;++s)t.helper.isUndefined(g[s])&&(g[s]=""),h.push((l=u[s],c=g[s],d=void 0,d="",l=l.trim(),(n.tablesHeaderId||n.tableHeaderId)&&(d=' id="'+l.replace(/ /g,"_").toLowerCase()+'"'),"<th"+d+c+">"+(l=t.subParser("spanGamut")(l,n,a))+"</th>\n"));for(s=0;s<f.length;++s){for(var v=[],b=0;b<h.length;++b)t.helper.isUndefined(f[s][b]),v.push(i(f[s][b],g[b]));m.push(v)}return function(e,t){for(var n="<table>\n<thead>\n<tr>\n",a=e.length,i=0;i<a;++i)n+=e[i];for(n+="</tr>\n</thead>\n<tbody>\n",i=0;i<t.length;++i){n+="<tr>\n";for(var s=0;s<a;++s)n+=t[i][s];n+="</tr>\n"}return n+"</tbody>\n</table>\n"}(h,m)}return e=(e=(e=(e=a.converter._dispatch("tables.before",e,n,a)).replace(/\\(\|)/g,t.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,s)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm,s),e=a.converter._dispatch("tables.after",e,n,a)})),t.subParser("underline",(function(e,n,a){"use strict";return n.underline?(e=a.converter._dispatch("underline.before",e,n,a),e=(e=n.literalMidWordUnderscores?(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,(function(e,t){return"<u>"+t+"</u>"}))).replace(/\b__(\S[\s\S]*?)__\b/g,(function(e,t){return"<u>"+t+"</u>"})):(e=e.replace(/___(\S[\s\S]*?)___/g,(function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e}))).replace(/__(\S[\s\S]*?)__/g,(function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e}))).replace(/(_)/g,t.helper.escapeCharactersCallback),e=a.converter._dispatch("underline.after",e,n,a)):e})),t.subParser("unescapeSpecialChars",(function(e,t,n){"use strict";return e=(e=n.converter._dispatch("unescapeSpecialChars.before",e,t,n)).replace(/¨E(\d+)E/g,(function(e,t){var n=parseInt(t);return String.fromCharCode(n)})),e=n.converter._dispatch("unescapeSpecialChars.after",e,t,n)})),t.subParser("makeMarkdown.blockquote",(function(e,n){"use strict";var a="";if(e.hasChildNodes())for(var i=e.childNodes,s=i.length,r=0;r<s;++r){var o=t.subParser("makeMarkdown.node")(i[r],n);""!==o&&(a+=o)}return a="> "+(a=a.trim()).split("\n").join("\n> ")})),t.subParser("makeMarkdown.codeBlock",(function(e,t){"use strict";var n=e.getAttribute("language"),a=e.getAttribute("precodenum");return"```"+n+"\n"+t.preList[a]+"\n```"})),t.subParser("makeMarkdown.codeSpan",(function(e){"use strict";return"`"+e.innerHTML+"`"})),t.subParser("makeMarkdown.emphasis",(function(e,n){"use strict";var a="";if(e.hasChildNodes()){a+="*";for(var i=e.childNodes,s=i.length,r=0;r<s;++r)a+=t.subParser("makeMarkdown.node")(i[r],n);a+="*"}return a})),t.subParser("makeMarkdown.header",(function(e,n,a){"use strict";var i=new Array(a+1).join("#"),s="";if(e.hasChildNodes()){s=i+" ";for(var r=e.childNodes,o=r.length,l=0;l<o;++l)s+=t.subParser("makeMarkdown.node")(r[l],n)}return s})),t.subParser("makeMarkdown.hr",(function(){"use strict";return"---"})),t.subParser("makeMarkdown.image",(function(e){"use strict";var t="";return e.hasAttribute("src")&&(t+="!["+e.getAttribute("alt")+"](",t+="<"+e.getAttribute("src")+">",e.hasAttribute("width")&&e.hasAttribute("height")&&(t+=" ="+e.getAttribute("width")+"x"+e.getAttribute("height")),e.hasAttribute("title")&&(t+=' "'+e.getAttribute("title")+'"'),t+=")"),t})),t.subParser("makeMarkdown.links",(function(e,n){"use strict";var a="";if(e.hasChildNodes()&&e.hasAttribute("href")){var i=e.childNodes,s=i.length;a="[";for(var r=0;r<s;++r)a+=t.subParser("makeMarkdown.node")(i[r],n);a+="](",a+="<"+e.getAttribute("href")+">",e.hasAttribute("title")&&(a+=' "'+e.getAttribute("title")+'"'),a+=")"}return a})),t.subParser("makeMarkdown.list",(function(e,n,a){"use strict";var i="";if(!e.hasChildNodes())return"";for(var s=e.childNodes,r=s.length,o=e.getAttribute("start")||1,l=0;l<r;++l)if(void 0!==s[l].tagName&&"li"===s[l].tagName.toLowerCase()){i+=("ol"===a?o.toString()+". ":"- ")+t.subParser("makeMarkdown.listItem")(s[l],n),++o}return(i+="\n\x3c!-- --\x3e\n").trim()})),t.subParser("makeMarkdown.listItem",(function(e,n){"use strict";for(var a="",i=e.childNodes,s=i.length,r=0;r<s;++r)a+=t.subParser("makeMarkdown.node")(i[r],n);return/\n$/.test(a)?a=a.split("\n").join("\n    ").replace(/^ {4}$/gm,"").replace(/\n\n+/g,"\n\n"):a+="\n",a})),t.subParser("makeMarkdown.node",(function(e,n,a){"use strict";a=a||!1;var i="";if(3===e.nodeType)return t.subParser("makeMarkdown.txt")(e,n);if(8===e.nodeType)return"\x3c!--"+e.data+"--\x3e\n\n";if(1!==e.nodeType)return"";switch(e.tagName.toLowerCase()){case"h1":a||(i=t.subParser("makeMarkdown.header")(e,n,1)+"\n\n");break;case"h2":a||(i=t.subParser("makeMarkdown.header")(e,n,2)+"\n\n");break;case"h3":a||(i=t.subParser("makeMarkdown.header")(e,n,3)+"\n\n");break;case"h4":a||(i=t.subParser("makeMarkdown.header")(e,n,4)+"\n\n");break;case"h5":a||(i=t.subParser("makeMarkdown.header")(e,n,5)+"\n\n");break;case"h6":a||(i=t.subParser("makeMarkdown.header")(e,n,6)+"\n\n");break;case"p":a||(i=t.subParser("makeMarkdown.paragraph")(e,n)+"\n\n");break;case"blockquote":a||(i=t.subParser("makeMarkdown.blockquote")(e,n)+"\n\n");break;case"hr":a||(i=t.subParser("makeMarkdown.hr")(e,n)+"\n\n");break;case"ol":a||(i=t.subParser("makeMarkdown.list")(e,n,"ol")+"\n\n");break;case"ul":a||(i=t.subParser("makeMarkdown.list")(e,n,"ul")+"\n\n");break;case"precode":a||(i=t.subParser("makeMarkdown.codeBlock")(e,n)+"\n\n");break;case"pre":a||(i=t.subParser("makeMarkdown.pre")(e,n)+"\n\n");break;case"table":a||(i=t.subParser("makeMarkdown.table")(e,n)+"\n\n");break;case"code":i=t.subParser("makeMarkdown.codeSpan")(e,n);break;case"em":case"i":i=t.subParser("makeMarkdown.emphasis")(e,n);break;case"strong":case"b":i=t.subParser("makeMarkdown.strong")(e,n);break;case"del":i=t.subParser("makeMarkdown.strikethrough")(e,n);break;case"a":i=t.subParser("makeMarkdown.links")(e,n);break;case"img":i=t.subParser("makeMarkdown.image")(e,n);break;default:i=e.outerHTML+"\n\n"}return i})),t.subParser("makeMarkdown.paragraph",(function(e,n){"use strict";var a="";if(e.hasChildNodes())for(var i=e.childNodes,s=i.length,r=0;r<s;++r)a+=t.subParser("makeMarkdown.node")(i[r],n);return a=a.trim()})),t.subParser("makeMarkdown.pre",(function(e,t){"use strict";var n=e.getAttribute("prenum");return"<pre>"+t.preList[n]+"</pre>"})),t.subParser("makeMarkdown.strikethrough",(function(e,n){"use strict";var a="";if(e.hasChildNodes()){a+="~~";for(var i=e.childNodes,s=i.length,r=0;r<s;++r)a+=t.subParser("makeMarkdown.node")(i[r],n);a+="~~"}return a})),t.subParser("makeMarkdown.strong",(function(e,n){"use strict";var a="";if(e.hasChildNodes()){a+="**";for(var i=e.childNodes,s=i.length,r=0;r<s;++r)a+=t.subParser("makeMarkdown.node")(i[r],n);a+="**"}return a})),t.subParser("makeMarkdown.table",(function(e,n){"use strict";var a,i,s="",r=[[],[]],o=e.querySelectorAll("thead>tr>th"),l=e.querySelectorAll("tbody>tr");for(a=0;a<o.length;++a){var c=t.subParser("makeMarkdown.tableCell")(o[a],n),d="---";if(o[a].hasAttribute("style"))switch(o[a].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":d=":---";break;case"text-align:right;":d="---:";break;case"text-align:center;":d=":---:"}r[0][a]=c.trim(),r[1][a]=d}for(a=0;a<l.length;++a){var u=r.push([])-1,p=l[a].getElementsByTagName("td");for(i=0;i<o.length;++i){var f=" ";void 0!==p[i]&&(f=t.subParser("makeMarkdown.tableCell")(p[i],n)),r[u].push(f)}}var h=3;for(a=0;a<r.length;++a)for(i=0;i<r[a].length;++i){var g=r[a][i].length;g>h&&(h=g)}for(a=0;a<r.length;++a){for(i=0;i<r[a].length;++i)1===a?":"===r[a][i].slice(-1)?r[a][i]=t.helper.padEnd(r[a][i].slice(-1),h-1,"-")+":":r[a][i]=t.helper.padEnd(r[a][i],h,"-"):r[a][i]=t.helper.padEnd(r[a][i],h);s+="| "+r[a].join(" | ")+" |\n"}return s.trim()})),t.subParser("makeMarkdown.tableCell",(function(e,n){"use strict";var a="";if(!e.hasChildNodes())return"";for(var i=e.childNodes,s=i.length,r=0;r<s;++r)a+=t.subParser("makeMarkdown.node")(i[r],n,!0);return a.trim()})),t.subParser("makeMarkdown.txt",(function(e){"use strict";var n=e.nodeValue;return n=(n=n.replace(/ +/g," ")).replace(/¨NBSP;/g," "),n=(n=(n=(n=(n=(n=(n=(n=(n=t.helper.unescapeHTMLEntities(n)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")}));"function"==typeof define&&define.amd?define((function(){"use strict";return t})):"undefined"!=typeof module&&module.exports?module.exports=t:this.showdown=t}.call(this),
/**
 * @license AngularJS v1.8.3
 * (c) 2010-2020 Google LLC. http://angularjs.org
 * License: MIT
 */
function(e){"use strict";var t={objectMaxDepth:5,urlErrorParamsEnabled:!0};function n(e){if(!z(e))return t;q(e.objectMaxDepth)&&(t.objectMaxDepth=a(e.objectMaxDepth)?e.objectMaxDepth:NaN),q(e.urlErrorParamsEnabled)&&X(e.urlErrorParamsEnabled)&&(t.urlErrorParamsEnabled=e.urlErrorParamsEnabled)}function a(e){return B(e)&&e>0}function i(e,n){n=n||Error;var a="https://errors.angularjs.org/1.8.3/",i=a.replace(".","\\.")+"[\\s\\S]*",s=new RegExp(i,"g");return function(){var i,r,o=arguments[0],l=arguments[1],c="["+(e?e+":":"")+o+"] ",d=pe(arguments,2).map((function(e){return Ye(e,t.objectMaxDepth)}));if(c+=l.replace(/\{\d+\}/g,(function(e){var t=+e.slice(1,-1);return t<d.length?d[t].replace(s,""):e})),c+="\n"+a+(e?e+"/":"")+o,t.urlErrorParamsEnabled)for(r=0,i="?";r<d.length;r++,i="&")c+=i+"p"+r+"="+encodeURIComponent(d[r]);return new n(c)}}var s,r,o,l,c=/^\/(.+)\/([a-z]*)$/,d="validity",u=Object.prototype.hasOwnProperty,p=function(e){return j(e)?e.toLowerCase():e},f=function(e){return j(e)?e.toUpperCase():e},h=[].slice,g=[].splice,m=[].push,v=Object.prototype.toString,b=Object.getPrototypeOf,w=i("ng"),y=e.angular||(e.angular={}),_=0;function x(e){if(null==e||K(e))return!1;if(H(e)||j(e)||r&&e instanceof r)return!0;var t="length"in Object(e)&&e.length;return B(t)&&(t>=0&&t-1 in e||"function"==typeof e.item)}function $(e,t,n){var a,i;if(e)if(G(e))for(a in e)"prototype"!==a&&"length"!==a&&"name"!==a&&e.hasOwnProperty(a)&&t.call(n,e[a],a,e);else if(H(e)||x(e)){var s="object"!=typeof e;for(a=0,i=e.length;a<i;a++)(s||a in e)&&t.call(n,e[a],a,e)}else if(e.forEach&&e.forEach!==$)e.forEach(t,n,e);else if(N(e))for(a in e)t.call(n,e[a],a,e);else if("function"==typeof e.hasOwnProperty)for(a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e);else for(a in e)u.call(e,a)&&t.call(n,e[a],a,e);return e}function k(e,t,n){for(var a=Object.keys(e).sort(),i=0;i<a.length;i++)t.call(n,e[a[i]],a[i]);return a}function S(e){return function(t,n){e(n,t)}}function C(){return++_}function A(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function T(e,t,n){for(var a=e.$$hashKey,i=0,s=t.length;i<s;++i){var r=t[i];if(z(r)||G(r))for(var o=Object.keys(r),l=0,c=o.length;l<c;l++){var d=o[l],u=r[d];n&&z(u)?V(u)?e[d]=new Date(u.valueOf()):Y(u)?e[d]=new RegExp(u):u.nodeName?e[d]=u.cloneNode(!0):ne(u)?e[d]=u.clone():"__proto__"!==d&&(z(e[d])||(e[d]=H(u)?[]:{}),T(e[d],[u],!0)):e[d]=u}}return A(e,a),e}function M(e){return T(e,h.call(arguments,1),!1)}function P(e){return T(e,h.call(arguments,1),!0)}function E(e){return parseInt(e,10)}s=e.document.documentMode;var D=Number.isNaN||function(e){return e!=e};function O(e,t){return M(Object.create(e),t)}function R(){}function L(e){return e}function I(e){return function(){return e}}function F(e){return G(e.toString)&&e.toString!==v}function U(e){return void 0===e}function q(e){return void 0!==e}function z(e){return null!==e&&"object"==typeof e}function N(e){return null!==e&&"object"==typeof e&&!b(e)}function j(e){return"string"==typeof e}function B(e){return"number"==typeof e}function V(e){return"[object Date]"===v.call(e)}function H(e){return Array.isArray(e)||e instanceof Array}function W(e){switch(v.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function G(e){return"function"==typeof e}function Y(e){return"[object RegExp]"===v.call(e)}function K(e){return e&&e.window===e}function Q(e){return e&&e.$evalAsync&&e.$watch}function X(e){return"boolean"==typeof e}function Z(e){return e&&G(e.then)}R.$inject=[],L.$inject=[];var J=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;var ee=function(e){return j(e)?e.trim():e},te=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function ne(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function ae(e){return p(e.nodeName||e[0]&&e[0].nodeName)}function ie(e,t){return-1!==Array.prototype.indexOf.call(e,t)}function se(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function re(e,t,n){var i,s,r=[],o=[];if(n=a(n)?n:NaN,t){if((s=t)&&B(s.length)&&J.test(v.call(s))||(i=t,"[object ArrayBuffer]"===v.call(i)))throw w("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw w("cpi","Can't copy! Source and destination are identical.");return H(t)?t.length=0:$(t,(function(e,n){"$$hashKey"!==n&&delete t[n]})),r.push(e),o.push(t),l(e,t,n)}return c(e,n);function l(e,t,n){if(--n<0)return"...";var a,i=t.$$hashKey;if(H(e))for(var s=0,r=e.length;s<r;s++)t.push(c(e[s],n));else if(N(e))for(a in e)t[a]=c(e[a],n);else if(e&&"function"==typeof e.hasOwnProperty)for(a in e)e.hasOwnProperty(a)&&(t[a]=c(e[a],n));else for(a in e)u.call(e,a)&&(t[a]=c(e[a],n));return A(t,i),t}function c(e,t){if(!z(e))return e;var n=r.indexOf(e);if(-1!==n)return o[n];if(K(e)||Q(e))throw w("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var a=!1,i=function(e){switch(v.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(c(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(G(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===i&&(i=H(e)?[]:Object.create(b(e)),a=!0),r.push(e),o.push(i),a?l(e,i,t):i}}function oe(e,t){return e===t||e!=e&&t!=t}function le(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,a,i,s=typeof e;if(s===typeof t&&"object"===s){if(!H(e)){if(V(e))return!!V(t)&&oe(e.getTime(),t.getTime());if(Y(e))return!!Y(t)&&e.toString()===t.toString();if(Q(e)||Q(t)||K(e)||K(t)||H(t)||V(t)||Y(t))return!1;for(a in i=ze(),e)if("$"!==a.charAt(0)&&!G(e[a])){if(!le(e[a],t[a]))return!1;i[a]=!0}for(a in t)if(!(a in i)&&"$"!==a.charAt(0)&&q(t[a])&&!G(t[a]))return!1;return!0}if(!H(t))return!1;if((n=e.length)===t.length){for(a=0;a<n;a++)if(!le(e[a],t[a]))return!1;return!0}}return!1}var ce=function(){if(!q(ce.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");ce.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else ce.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return ce.rules},de=function(){if(q(de.name_))return de.name_;var t,n,a,i,s=Ce.length;for(n=0;n<s;++n)if(a=Ce[n],t=e.document.querySelector("["+a.replace(":","\\:")+"jq]")){i=t.getAttribute(a+"jq");break}return de.name_=i};function ue(e,t,n){return e.concat(h.call(t,n))}function pe(e,t){return h.call(e,t||0)}function fe(e,t){var n=arguments.length>2?pe(arguments,2):[];return!G(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,ue(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function he(t,n){var a=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?a=void 0:K(n)?a="$WINDOW":n&&e.document===n?a="$DOCUMENT":Q(n)&&(a="$SCOPE"),a}function ge(e,t){if(!U(e))return B(t)||(t=t?2:null),JSON.stringify(e,he,t)}function me(e){return j(e)?JSON.parse(e):e}var ve=/:/g;function be(e,t){e=e.replace(ve,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return D(n)?t:n}function we(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function ye(e,t,n){n=n?-1:1;var a=e.getTimezoneOffset();return we(e,n*(be(t,a)-a))}function _e(e){e=r(e).clone().empty();var t=r("<div></div>").append(e).html();try{return e[0].nodeType===Be?p(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,(function(e,t){return"<"+p(t)}))}catch(e){return p(t)}}function xe(e){try{return decodeURIComponent(e)}catch(e){}}function $e(e){var t={};return $((e||"").split("&"),(function(e){var n,a,i;e&&(a=e=e.replace(/\+/g,"%20"),-1!==(n=e.indexOf("="))&&(a=e.substring(0,n),i=e.substring(n+1)),q(a=xe(a))&&(i=!q(i)||xe(i),u.call(t,a)?H(t[a])?t[a].push(i):t[a]=[t[a],i]:t[a]=i))})),t}function ke(e){return Se(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Se(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var Ce=["ng-","data-ng-","ng:","x-ng-"];var Ae=function(t){var n=t.currentScript;if(!n)return!0;if(!(n instanceof e.HTMLScriptElement||n instanceof e.SVGScriptElement))return!1;var a=n.attributes;return[a.getNamedItem("src"),a.getNamedItem("href"),a.getNamedItem("xlink:href")].every((function(e){if(!e)return!0;if(!e.value)return!1;var n=t.createElement("a");if(n.href=e.value,t.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}))}(e.document);function Te(t,n){var a,i,s={};if($(Ce,(function(e){var n=e+"app";!a&&t.hasAttribute&&t.hasAttribute(n)&&(a=t,i=t.getAttribute(n))})),$(Ce,(function(e){var n,s=e+"app";!a&&(n=t.querySelector("["+s.replace(":","\\:")+"]"))&&(a=n,i=n.getAttribute(s))})),a){if(!Ae)return void e.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");s.strictDi=null!==function(e,t){var n,a,i=Ce.length;for(a=0;a<i;++a)if(n=Ce[a]+t,j(n=e.getAttribute(n)))return n;return null}(a,"strict-di"),n(a,i?[i]:[],s)}}function Me(t,n,a){z(a)||(a={});a=M({strictDi:!1},a);var i=function(){if((t=r(t)).injector()){var i=t[0]===e.document?"document":_e(t);throw w("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}(n=n||[]).unshift(["$provide",function(e){e.value("$rootElement",t)}]),a.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var s=nn(n,a.strictDi);return s.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,a){e.$apply((function(){t.data("$injector",a),n(t)(e)}))}]),s},s=/^NG_ENABLE_DEBUG_INFO!/,o=/^NG_DEFER_BOOTSTRAP!/;if(e&&s.test(e.name)&&(a.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!o.test(e.name))return i();e.name=e.name.replace(o,""),y.resumeBootstrap=function(e){return $(e,(function(e){n.push(e)})),i()},G(y.resumeDeferredBootstrap)&&y.resumeDeferredBootstrap()}function Pe(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function Ee(e){var t=y.element(e).injector();if(!t)throw w("test","no injector found for element argument to getTestability");return t.get("$$testability")}var De=/[A-Z]/g;function Oe(e,t){return t=t||"_",e.replace(De,(function(e,n){return(n?t:"")+e.toLowerCase()}))}var Re=!1;function Le(){vt.legacyXHTMLReplacement=!0}function Ie(e,t,n){if(!e)throw w("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function Fe(e,t,n){return n&&H(e)&&(e=e[e.length-1]),Ie(G(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function Ue(e,t){if("hasOwnProperty"===e)throw w("badname","hasOwnProperty is not a valid {0} name",t)}function qe(e){for(var t,n=e[0],a=e[e.length-1],i=1;n!==a&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=r(h.call(e,0,i))),t.push(n));return t||e}function ze(){return Object.create(null)}function Ne(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!F(e)||H(e)||V(e)?ge(e):e.toString()}return e}var je=1,Be=3,Ve=8,He=9,We=11;function Ge(e,t){if(H(e)){t=t||[];for(var n=0,a=e.length;n<a;n++)t[n]=e[n]}else if(z(e))for(var i in t=t||{},e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i]);return t||e}function Ye(e,t){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):U(e)?"undefined":"string"!=typeof e?function(e,t){var n=[];return a(t)&&(e=y.copy(e,null,t)),JSON.stringify(e,(function(e,t){if(z(t=he(e,t))){if(n.indexOf(t)>=0)return"...";n.push(t)}return t}))}(e,t):e}var Ke={full:"1.8.3",major:1,minor:8,dot:3,codeName:"ultimate-farewell"};vt.expando="ng339";var Qe=vt.cache={},Xe=1;vt._data=function(e){return this.cache[e[this.expando]]||{}};var Ze=/-([a-z])/g,Je=/^-ms-/,et={mouseleave:"mouseout",mouseenter:"mouseover"},tt=i("jqLite");function nt(e,t){return t.toUpperCase()}function at(e){return e.replace(Ze,nt)}var it=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,st=/<|&#?\w+;/,rt=/<([\w:-]+)/,ot=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,lt={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};lt.tbody=lt.tfoot=lt.colgroup=lt.caption=lt.thead,lt.th=lt.td;var ct={option:[1,'<select multiple="multiple">',"</select>"],_default:[0,"",""]};for(var dt in lt){var ut=lt[dt],pt=ut.slice().reverse();ct[dt]=[pt.length,"<"+pt.join("><")+">","</"+ut.join("></")+">"]}function ft(e){return!st.test(e)}function ht(e){var t=e.nodeType;return t===je||!t||t===He}function gt(t,n){var a,i,r,o,l,c=n.createDocumentFragment(),d=[];if(ft(t))d.push(n.createTextNode(t));else{if(a=c.appendChild(n.createElement("div")),i=(rt.exec(t)||["",""])[1].toLowerCase(),o=vt.legacyXHTMLReplacement?t.replace(ot,"<$1></$2>"):t,s<10)for(r=ct[i]||ct._default,a.innerHTML=r[1]+o+r[2],l=r[0];l--;)a=a.firstChild;else{for(l=(r=lt[i]||[]).length;--l>-1;)a.appendChild(e.document.createElement(r[l])),a=a.firstChild;a.innerHTML=o}d=ue(d,a.childNodes),(a=c.firstChild).textContent=""}return c.textContent="",c.innerHTML="",$(d,(function(e){c.appendChild(e)})),c}ct.optgroup=ct.option;var mt=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};function vt(t){if(t instanceof vt)return t;var n,a,i,s;if(j(t)&&(t=ee(t),n=!0),!(this instanceof vt)){if(n&&"<"!==t.charAt(0))throw tt("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new vt(t)}n?Mt(this,(a=t,i=i||e.document,(s=it.exec(a))?[i.createElement(s[1])]:(s=gt(a,i))?s.childNodes:[])):G(t)?Rt(t):Mt(this,t)}function bt(e){return e.cloneNode(!0)}function wt(e,t){!t&&ht(e)&&r.cleanData([e]),e.querySelectorAll&&r.cleanData(e.querySelectorAll("*"))}function yt(e){var t;for(t in e)return!1;return!0}function _t(e){var t=e.ng339,n=t&&Qe[t],a=n&&n.events,i=n&&n.data;i&&!yt(i)||a&&!yt(a)||(delete Qe[t],e.ng339=void 0)}function xt(e,t,n,a){if(q(a))throw tt("offargs","jqLite#off() does not support the `selector` argument");var i=kt(e),s=i&&i.events,r=i&&i.handle;if(r){if(t){var o=function(t){var a=s[t];q(n)&&se(a||[],n),q(n)&&a&&a.length>0||(e.removeEventListener(t,r),delete s[t])};$(t.split(" "),(function(e){o(e),et[e]&&o(et[e])}))}else for(t in s)"$destroy"!==t&&e.removeEventListener(t,r),delete s[t];_t(e)}}function $t(e,t){var n=e.ng339,a=n&&Qe[n];a&&(t?delete a.data[t]:a.data={},_t(e))}function kt(e,t){var n=e.ng339,a=n&&Qe[n];return t&&!a&&(e.ng339=n=++Xe,a=Qe[n]={events:{},data:{},handle:void 0}),a}function St(e,t,n){if(ht(e)){var a,i=q(n),s=!i&&t&&!z(t),r=!t,o=kt(e,!s),l=o&&o.data;if(i)l[at(t)]=n;else{if(r)return l;if(s)return l&&l[at(t)];for(a in t)l[at(a)]=t[a]}}}function Ct(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function At(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),a=n;$(t.split(" "),(function(e){e=ee(e),a=a.replace(" "+e+" "," ")})),a!==n&&e.setAttribute("class",ee(a))}}function Tt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),a=n;$(t.split(" "),(function(e){e=ee(e),-1===a.indexOf(" "+e+" ")&&(a+=e+" ")})),a!==n&&e.setAttribute("class",ee(a))}}function Mt(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var a=0;a<n;a++)e[e.length++]=t[a]}else e[e.length++]=t}}function Pt(e,t){return Et(e,"$"+(t||"ngController")+"Controller")}function Et(e,t,n){e.nodeType===He&&(e=e.documentElement);for(var a=H(t)?t:[t];e;){for(var i=0,s=a.length;i<s;i++)if(q(n=r.data(e,a[i])))return n;e=e.parentNode||e.nodeType===We&&e.host}}function Dt(e){for(wt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ot(e,t){t||wt(e);var n=e.parentNode;n&&n.removeChild(e)}function Rt(t){function n(){e.document.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))}var Lt=vt.prototype={ready:Rt,toString:function(){var e=[];return $(this,(function(t){e.push(""+t)})),"["+e.join(", ")+"]"},eq:function(e){return r(e>=0?this[e]:this[this.length+e])},length:0,push:m,sort:[].sort,splice:[].splice},It={};$("multiple,selected,checked,disabled,readOnly,required,open".split(","),(function(e){It[p(e)]=e}));var Ft={};$("input,select,option,textarea,button,form,details".split(","),(function(e){Ft[e]=!0}));var Ut={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function qt(e,t){var n=It[t.toLowerCase()];return n&&Ft[ae(e)]&&n}function zt(e,t,n){n.call(e,t)}function Nt(e,t,n){var a=t.relatedTarget;a&&(a===e||mt.call(e,a))||n.call(e,t)}function jt(){this.$get=function(){return M(vt,{hasClass:function(e,t){return e.attr&&(e=e[0]),Ct(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Tt(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),At(e,t)}})}}function Bt(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var a=typeof e;return n="function"===a||"object"===a&&null!==e?e.$$hashKey=a+":"+(t||C)():a+":"+e}$({data:St,removeData:$t,hasData:function(e){for(var t in Qe[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)$t(e[t]),xt(e[t])}},(function(e,t){vt[t]=e})),$({data:St,inheritedData:Et,scope:function(e){return r.data(e,"$scope")||Et(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return r.data(e,"$isolateScope")||r.data(e,"$isolateScopeNoTemplate")},controller:Pt,injector:function(e){return Et(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Ct,css:function(e,t,n){if(t=function(e){return at(e.replace(Je,"ms-"))}(t),!q(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var a,i=e.nodeType;if(i!==Be&&2!==i&&i!==Ve&&e.getAttribute){var s=p(t),r=It[s];if(!q(n))return a=e.getAttribute(t),r&&null!==a&&(a=s),null===a?void 0:a;null===n||!1===n&&r?e.removeAttribute(t):e.setAttribute(t,r?s:n)}},prop:function(e,t,n){if(!q(n))return e[t];e[t]=n},text:function(){return e.$dv="",e;function e(e,t){if(U(t)){var n=e.nodeType;return n===je||n===Be?e.textContent:""}e.textContent=t}}(),val:function(e,t){if(U(t)){if(e.multiple&&"select"===ae(e)){var n=[];return $(e.options,(function(e){e.selected&&n.push(e.value||e.text)})),n}return e.value}e.value=t},html:function(e,t){if(U(t))return e.innerHTML;wt(e,!0),e.innerHTML=t},empty:Dt},(function(e,t){vt.prototype[t]=function(t,n){var a,i,s=this.length;if(e!==Dt&&U(2===e.length&&e!==Ct&&e!==Pt?t:n)){if(z(t)){for(a=0;a<s;a++)if(e===St)e(this[a],t);else for(i in t)e(this[a],i,t[i]);return this}for(var r=e.$dv,o=U(r)?Math.min(s,1):s,l=0;l<o;l++){var c=e(this[l],t,n);r=r?r+c:c}return r}for(a=0;a<s;a++)e(this[a],t,n);return this}})),$({removeData:$t,on:function(e,t,n,a){if(q(a))throw tt("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ht(e)){var i=kt(e,!0),s=i.events,r=i.handle;r||(r=i.handle=function(e,t){var n=function(n,a){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[a||n.type],s=i?i.length:0;if(s){if(U(n.immediatePropagationStopped)){var r=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),r&&r.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var o=i.specialHandlerWrapper||zt;s>1&&(i=Ge(i));for(var l=0;l<s;l++)n.isImmediatePropagationStopped()||o(e,n,i[l])}};return n.elem=e,n}(e,s));for(var o=t.indexOf(" ")>=0?t.split(" "):[t],l=o.length,c=function(t,a,i){var o=s[t];o||((o=s[t]=[]).specialHandlerWrapper=a,"$destroy"===t||i||e.addEventListener(t,r)),o.push(n)};l--;)t=o[l],et[t]?(c(et[t],Nt),c(t,void 0,!0)):c(t)}},off:xt,one:function(e,t,n){(e=r(e)).on(t,(function a(){e.off(t,n),e.off(t,a)})),e.on(t,n)},replaceWith:function(e,t){var n,a=e.parentNode;wt(e),$(new vt(t),(function(t){n?a.insertBefore(t,n.nextSibling):a.replaceChild(t,e),n=t}))},children:function(e){var t=[];return $(e.childNodes,(function(e){e.nodeType===je&&t.push(e)})),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===je||n===We)for(var a=0,i=(t=new vt(t)).length;a<i;a++){var s=t[a];e.appendChild(s)}},prepend:function(e,t){if(e.nodeType===je){var n=e.firstChild;$(new vt(t),(function(t){e.insertBefore(t,n)}))}},wrap:function(e,t){var n,a,i;n=e,a=r(t).eq(0).clone()[0],(i=n.parentNode)&&i.replaceChild(a,n),a.appendChild(n)},remove:Ot,detach:function(e){Ot(e,!0)},after:function(e,t){var n=e,a=e.parentNode;if(a)for(var i=0,s=(t=new vt(t)).length;i<s;i++){var r=t[i];a.insertBefore(r,n.nextSibling),n=r}},addClass:Tt,removeClass:At,toggleClass:function(e,t,n){t&&$(t.split(" "),(function(t){var a=n;U(a)&&(a=!Ct(e,t)),(a?Tt:At)(e,t)}))},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==We?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:bt,triggerHandler:function(e,t,n){var a,i,s,r=t.type||t,o=kt(e),l=o&&o.events,c=l&&l[r];c&&(a={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:R,type:r,target:e},t.type&&(a=M(a,t)),i=Ge(c),s=n?[a].concat(n):[a],$(i,(function(t){a.isImmediatePropagationStopped()||t.apply(e,s)})))}},(function(e,t){vt.prototype[t]=function(t,n,a){for(var i,s=0,o=this.length;s<o;s++)U(i)?q(i=e(this[s],t,n,a))&&(i=r(i)):Mt(i,e(this[s],t,n,a));return q(i)?i:this}})),vt.prototype.bind=vt.prototype.on,vt.prototype.unbind=vt.prototype.off;var Vt=Object.create(null);function Ht(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}Ht.prototype={_idx:function(e){return e!==this._lastKey&&(this._lastKey=e,this._lastIndex=this._keys.indexOf(e)),this._lastIndex},_transformKey:function(e){return D(e)?Vt:e},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(-1!==t)return this._values[t]},has:function(e){return e=this._transformKey(e),-1!==this._idx(e)},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){e=this._transformKey(e);var t=this._idx(e);return-1!==t&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Wt=Ht,Gt=[function(){this.$get=[function(){return Wt}]}],Yt=/^([^(]+?)=>/,Kt=/^[^(]*\(\s*([^)]*)\)/m,Qt=/,/,Xt=/^\s*(_?)(\S+?)\1\s*$/,Zt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Jt=i("$injector");function en(e){return Function.prototype.toString.call(e)}function tn(e){var t=en(e).replace(Zt,"");return t.match(Yt)||t.match(Kt)}function nn(e,t){t=!0===t;var n={},a="Provider",i=[],r=new Wt,o={$provide:{provider:h(g),factory:h(v),service:h((function(e,t){return v(e,["$injector",function(e){return e.instantiate(t)}])})),value:h((function(e,t){return v(e,I(t),!1)})),constant:h((function(e,t){Ue(e,"constant"),o[e]=t,d[e]=t})),decorator:function(e,t){var n=c.get(e+a),i=n.$get;n.$get=function(){var e=p.invoke(i,n);return p.invoke(t,null,{$delegate:e})}}}},c=o.$injector=w(o,(function(e,t){throw y.isString(t)&&i.push(t),Jt("unpr","Unknown provider: {0}",i.join(" <- "))})),d={},u=w(d,(function(e,t){var n=c.get(e+a,t);return p.invoke(n.$get,n,void 0,e)})),p=u;o["$injector"+a]={$get:I(u)},p.modules=c.modules=ze();var f=b(e);return(p=u.get("$injector")).strictDi=t,$(f,(function(e){e&&p.invoke(e)})),p.loadNewModules=function(e){$(b(e),(function(e){e&&p.invoke(e)}))},p;function h(e){return function(t,n){if(!z(t))return e(t,n);$(t,S(e))}}function g(e,t){if(Ue(e,"service"),(G(t)||H(t))&&(t=c.instantiate(t)),!t.$get)throw Jt("pget","Provider '{0}' must define $get factory method.",e);return o[e+a]=t}function m(e,t){return function(){var n=p.invoke(t,this);if(U(n))throw Jt("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function v(e,t,n){return g(e,{$get:!1!==n?m(e,t):t})}function b(e){Ie(U(e)||H(e),"modulesToLoad","not an array");var t,n=[];return $(e,(function(e){if(!r.get(e)){r.set(e,!0);try{j(e)?(t=l(e),p.modules[e]=t,n=n.concat(b(t.requires)).concat(t._runBlocks),a(t._invokeQueue),a(t._configBlocks)):G(e)||H(e)?n.push(c.invoke(e)):Fe(e,"module")}catch(t){throw H(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1===t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),Jt("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}function a(e){var t,n;for(t=0,n=e.length;t<n;t++){var a=e[t],i=c.get(a[0]);i[a[1]].apply(i,a[2])}}})),n}function w(e,r){function l(t,a){if(e.hasOwnProperty(t)){if(e[t]===n)throw Jt("cdep","Circular dependency found: {0}",t+" <- "+i.join(" <- "));return e[t]}try{return i.unshift(t),e[t]=n,e[t]=r(t,a),e[t]}catch(a){throw e[t]===n&&delete e[t],a}finally{i.shift()}}function c(e,n,a){for(var i=[],s=nn.$$annotate(e,t,a),r=0,o=s.length;r<o;r++){var c=s[r];if("string"!=typeof c)throw Jt("itkn","Incorrect injection token! Expected service name as string, got {0}",c);i.push(n&&n.hasOwnProperty(c)?n[c]:l(c,a))}return i}return{invoke:function(e,t,n,a){"string"==typeof n&&(a=n,n=null);var i=c(e,n,a);return H(e)&&(e=e[e.length-1]),function(e){if(s||"function"!=typeof e)return!1;var t=e.$$ngIsClass;return X(t)||(t=e.$$ngIsClass=/^class\b/.test(en(e))),t}(e)?(i.unshift(null),new(Function.prototype.bind.apply(e,i))):e.apply(t,i)},instantiate:function(e,t,n){var a=H(e)?e[e.length-1]:e,i=c(e,t,n);return i.unshift(null),new(Function.prototype.bind.apply(a,i))},get:l,annotate:nn.$$annotate,has:function(t){return o.hasOwnProperty(t+a)||e.hasOwnProperty(t)}}}}function an(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(n,a,i){var s=n.document;function o(e){if(e){e.scrollIntoView();var t=function(){var e=l.yOffset;if(G(e))e=e();else if(ne(e)){var t=e[0];e="fixed"!==n.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom}else B(e)||(e=0);return e}();if(t){var a=e.getBoundingClientRect().top;n.scrollBy(0,a-t)}}else n.scrollTo(0,0)}function l(e){var t,n,i;(e=j(e)?e:B(e)?e.toString():a.hash())?(t=s.getElementById(e))?o(t):(n=s.getElementsByName(e),i=null,Array.prototype.some.call(n,(function(e){if("a"===ae(e))return i=e,!0})),(t=i)?o(t):"top"===e&&o(null)):o(null)}return t&&i.$watch((function(){return a.hash()}),(function(t,n){var a,s;t===n&&""===t||(a=function(){i.$evalAsync(l)},"complete"===(s=s||e).document.readyState?s.setTimeout(a):r(s).on("load",a))})),l}]}nn.$$annotate=function(e,t,n){var a,i;if("function"==typeof e){if(!(a=e.$inject)){if(a=[],e.length){if(t)throw j(n)&&n||(n=e.name||function(e){var t=tn(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(e)),Jt("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);$(tn(e)[1].split(Qt),(function(e){e.replace(Xt,(function(e,t,n){a.push(n)}))}))}e.$inject=a}}else H(e)?(Fe(e[i=e.length-1],"fn"),a=e.slice(0,i)):Fe(e,"fn",!0);return a};var sn=i("$animate"),rn="ng-animate";function on(e,t){return e||t?e?t?(H(e)&&(e=e.join(" ")),H(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function ln(e){return z(e)?e:{}}var cn=function(){this.$get=R},dn=function(){var e=new Wt,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,a){return{enabled:R,on:R,off:R,pin:R,push:function(r,o,l,c){c&&c(),(l=l||{}).from&&r.css(l.from),l.to&&r.css(l.to),(l.addClass||l.removeClass)&&function(n,r,o){var l=e.get(n)||{},c=i(l,r,!0),d=i(l,o,!1);(c||d)&&(e.set(n,l),t.push(n),1===t.length&&a.$$postDigest(s))}(r,l.addClass,l.removeClass);var d=new n;return d.complete(),d}};function i(e,t,n){var a=!1;return t&&$(t=j(t)?t.split(" "):H(t)?t:[],(function(t){t&&(a=!0,e[t]=n)})),a}function s(){$(t,(function(t){var n=e.get(t);if(n){var a=function(e){j(e)&&(e=e.split(" "));var t=ze();return $(e,(function(e){e.length&&(t[e]=!0)})),t}(t.attr("class")),i="",s="";$(n,(function(e,t){e!==!!a[t]&&(e?i+=(i.length?" ":"")+t:s+=(s.length?" ":"")+t)})),$(t,(function(e){i&&Tt(e,i),s&&At(e,s)})),e.delete(t)}})),t.length=0}}]},un=["$provide",function(e){var t=this,n=null,a=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,a){if(n&&"."!==n.charAt(0))throw sn("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,a)},this.customFilter=function(e){return 1===arguments.length&&(a=G(e)?e:null),a},this.classNameFilter=function(e){if(1===arguments.length&&((n=e instanceof RegExp?e:null)&&new RegExp("[(\\s|\\/)]"+rn+"[(\\s|\\/)]").test(n.toString())))throw n=null,sn("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',rn);return n},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var a=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(1===n.nodeType)return n}}(n);!a||a.parentNode||a.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.cancel&&e.cancel()},enter:function(n,a,i,s){return a=a&&r(a),i=i&&r(i),t(n,a=a||i.parent(),i),e.push(n,"enter",ln(s))},move:function(n,a,i,s){return a=a&&r(a),i=i&&r(i),t(n,a=a||i.parent(),i),e.push(n,"move",ln(s))},leave:function(t,n){return e.push(t,"leave",ln(n),(function(){t.remove()}))},addClass:function(t,n,a){return(a=ln(a)).addClass=on(a.addclass,n),e.push(t,"addClass",a)},removeClass:function(t,n,a){return(a=ln(a)).removeClass=on(a.removeClass,n),e.push(t,"removeClass",a)},setClass:function(t,n,a,i){return(i=ln(i)).addClass=on(i.addClass,n),i.removeClass=on(i.removeClass,a),e.push(t,"setClass",i)},animate:function(t,n,a,i,s){return(s=ln(s)).from=s.from?M(s.from,n):n,s.to=s.to?M(s.to,a):a,i=i||"ng-inline-animate",s.tempClasses=on(s.tempClasses,i),e.push(t,"animate",s)}}}]}],pn=function(){this.$get=["$$rAF",function(e){var t=[];function n(n){t.push(n),t.length>1||e((function(){for(var e=0;e<t.length;e++)t[e]();t=[]}))}return function(){var e=!1;return n((function(){e=!0})),function(t){e?t():n(t)}}}]},fn=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,a,i){function s(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){a()?function(e){i(e,0,!1)}(e):t(e)},this._state=0}return s.chain=function(e,t){var n=0;!function a(){if(n===e.length)return void t(!0);e[n]((function(e){!1!==e?(n++,a()):t(!1)}))}()},s.all=function(e,t){var n=0,a=!0;function i(i){a=a&&i,++n===e.length&&t(a)}$(e,(function(e){e.done(i)}))},s.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:R,getPromise:function(){if(!this.promise){var t=this;this.promise=e((function(e,n){t.done((function(t){!1===t?n():e()}))}))}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick((function(){t._resolve(e)})))},_resolve:function(e){2!==this._state&&($(this._doneCallbacks,(function(t){t(e)})),this._doneCallbacks.length=0,this._state=2)}},s}]},hn=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,a){var i=a||{};i.$$prepared||(i=re(i)),i.cleanupStyles&&(i.from=i.to=null),i.from&&(t.css(i.from),i.from=null);var s,r=new n;return{start:o,end:o};function o(){return e((function(){!function(){i.addClass&&(t.addClass(i.addClass),i.addClass=null);i.removeClass&&(t.removeClass(i.removeClass),i.removeClass=null);i.to&&(t.css(i.to),i.to=null)}(),s||r.complete(),s=!0})),r}}}]};function gn(e,t,n,a,i){var s=this,o=e.location,l=e.history,c=e.setTimeout,d=e.clearTimeout,u={},p=i(n);s.isMock=!1,s.$$completeOutstandingRequest=p.completeTask,s.$$incOutstandingRequestCount=p.incTaskCount,s.notifyWhenNoOutstandingRequests=p.notifyWhenNoPendingTasks;var f,h,g=o.href,m=t.find("base"),v=null,b=a.history?function(){try{return l.state}catch(e){}}:R;k(),s.url=function(t,n,i){if(U(i)&&(i=null),o!==e.location&&(o=e.location),l!==e.history&&(l=e.history),t){var r=h===i;if(t=vi(t).href,g===t&&(!a.history||r))return s;var c=g&&ha(g)===ha(t);return g=t,h=i,!a.history||c&&r?(c||(v=t),n?o.replace(t):c?o.hash=function(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}(t):o.href=t,o.href!==t&&(v=t)):(l[n?"replaceState":"pushState"](i,"",t),k()),v&&(v=t),s}return function(e){return e.replace(/#$/,"")}(v||o.href)},s.state=function(){return f};var w=[],y=!1;function _(){v=null,S()}var x=null;function k(){le(f=U(f=b())?null:f,x)&&(f=x),x=f,h=f}function S(){var e=h;k(),g===s.url()&&e===f||(g=s.url(),h=f,$(w,(function(e){e(s.url(),f)})))}s.onUrlChange=function(t){return y||(a.history&&r(e).on("popstate",_),r(e).on("hashchange",_),y=!0),w.push(t),t},s.$$applicationDestroyed=function(){r(e).off("hashchange popstate",_)},s.$$checkUrlChange=S,s.baseHref=function(){var e=m.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},s.defer=function(e,t,n){var a;return t=t||0,n=n||p.DEFAULT_TASK_TYPE,p.incTaskCount(n),a=c((function(){delete u[a],p.completeTask(e,n)}),t),u[a]=n,a},s.defer.cancel=function(e){if(u.hasOwnProperty(e)){var t=u[e];return delete u[e],d(e),p.completeTask(R,t),!0}return!1}}function mn(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(e,t,n,a,i){return new gn(e,a,t,n,i)}]}function vn(){this.$get=function(){var e={};function t(t,n){if(t in e)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=M({},n,{id:t}),r=ze(),o=n&&n.capacity||Number.MAX_VALUE,l=ze(),c=null,d=null;return e[t]={put:function(e,t){if(!U(t)){if(o<Number.MAX_VALUE)u(l[e]||(l[e]={key:e}));return e in r||a++,r[e]=t,a>o&&this.remove(d.key),t}},get:function(e){if(o<Number.MAX_VALUE){var t=l[e];if(!t)return;u(t)}return r[e]},remove:function(e){if(o<Number.MAX_VALUE){var t=l[e];if(!t)return;t===c&&(c=t.p),t===d&&(d=t.n),p(t.n,t.p),delete l[e]}e in r&&(delete r[e],a--)},removeAll:function(){r=ze(),a=0,l=ze(),c=d=null},destroy:function(){r=null,s=null,l=null,delete e[t]},info:function(){return M({},s,{size:a})}};function u(e){e!==c&&(d?d===e&&(d=e.n):d=e,p(e.n,e.p),p(e,c),(c=e).n=null)}function p(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}}return t.info=function(){var t={};return $(e,(function(e,n){t[n]=e.info()})),t},t.get=function(t){return e[t]},t}}function bn(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var wn=i("$compile");var yn=new function(){};function _n(t,n){var a={},i="Directive",o=/^\s*directive:\s*([\w-]+)\s+(.*)$/,l=/(([\w-]+)(?::([^;]+))?;?)/,c=function(e){var t,n={},a=e.split(",");for(t=0;t<a.length;t++)n[a[t]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),d=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,f=/^(on[a-z]+|formaction)$/,h=ze();function g(e,t,n){var a=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,i=ze();return $(e,(function(e,s){if((e=e.trim())in h)i[s]=h[e];else{var r=e.match(a);if(!r)throw wn("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,s,e,n?"controller bindings definition":"isolate scope definition");i[s]={mode:r[1][0],collection:"*"===r[2],optional:"?"===r[3],attrName:r[4]||s},r[4]&&(h[e]=i[s])}})),i}function m(e,t){var n={isolateScope:null,bindToController:null};if(z(e.scope)&&(!0===e.bindToController?(n.bindToController=g(e.scope,t,!0),n.isolateScope={}):n.isolateScope=g(e.scope,t,!1)),z(e.bindToController)&&(n.bindToController=g(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw wn("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}this.directive=function e(n,s){return Ie(n,"name"),Ue(n,"directive"),j(n)?(!function(e){var t=e.charAt(0);if(!t||t!==p(t))throw wn("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw wn("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}(n),Ie(s,"directiveFactory"),a.hasOwnProperty(n)||(a[n]=[],t.factory(n+i,["$injector","$exceptionHandler",function(e,t){var i=[];return $(a[n],(function(a,s){try{var r=e.invoke(a);G(r)?r={compile:I(r)}:!r.compile&&r.link&&(r.compile=I(r.link)),r.priority=r.priority||0,r.index=s,r.name=r.name||n,r.require=function(e){var t=e.require||e.controller&&e.name;return!H(t)&&z(t)&&$(t,(function(e,n){var a=e.match(d);e.substring(a[0].length)||(t[n]=a[0]+n)})),t}(r),r.restrict=function(e,t){if(e&&(!j(e)||!/[EACM]/.test(e)))throw wn("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}(r.restrict,n),r.$$moduleName=a.$$moduleName,i.push(r)}catch(e){t(e)}})),i}])),a[n].push(s)):$(n,S(e)),this},this.component=function e(t,n){if(!j(t))return $(t,S(fe(this,e))),this;var a=n.controller||function(){};function i(e){function t(t){return G(t)||H(t)?function(n,a){return e.invoke(t,this,{$element:n,$attrs:a})}:t}var i=n.template||n.templateUrl?n.template:"",s={controller:a,controllerAs:Pn(n.controller)||n.controllerAs||"$ctrl",template:t(i),templateUrl:t(n.templateUrl),transclude:n.transclude,scope:{},bindToController:n.bindings||{},restrict:"E",require:n.require};return $(n,(function(e,t){"$"===t.charAt(0)&&(s[t]=e)})),s}return $(n,(function(e,t){"$"===t.charAt(0)&&(i[t]=e,G(a)&&(a[t]=e))})),i.$inject=["$injector"],this.directive(t,i)},this.aHrefSanitizationTrustedUrlList=function(e){return q(e)?(n.aHrefSanitizationTrustedUrlList(e),this):n.aHrefSanitizationTrustedUrlList()},Object.defineProperty(this,"aHrefSanitizationWhitelist",{get:function(){return this.aHrefSanitizationTrustedUrlList},set:function(e){this.aHrefSanitizationTrustedUrlList=e}}),this.imgSrcSanitizationTrustedUrlList=function(e){return q(e)?(n.imgSrcSanitizationTrustedUrlList(e),this):n.imgSrcSanitizationTrustedUrlList()},Object.defineProperty(this,"imgSrcSanitizationWhitelist",{get:function(){return this.imgSrcSanitizationTrustedUrlList},set:function(e){this.imgSrcSanitizationTrustedUrlList=e}});var b=!0;this.debugInfoEnabled=function(e){return q(e)?(b=e,this):b};var w=!1;this.strictComponentBindingsEnabled=function(e){return q(e)?(w=e,this):w};var y=10;this.onChangesTtl=function(e){return arguments.length?(y=e,this):y};var _=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(_=e,this):_};var x=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(x=e,this):x};var k=ze();this.addPropertySecurityContext=function(e,t,n){var a=e.toLowerCase()+"|"+t.toLowerCase();if(a in k&&k[a]!==n)throw wn("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",e,t,k[a],n);return k[a]=n,this},function(){function e(e,t){$(t,(function(t){k[t.toLowerCase()]=e}))}e(Ja.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),e(Ja.CSS,["*|style"]),e(Ja.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]),e(Ja.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]),e(Ja.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])}(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(t,n,h,g,S,C,A,T,P){var E,D=/^\w/,I=e.document.createElement("div"),F=_,q=x,N=y;function B(){try{if(!--N)throw E=void 0,wn("infchng","{0} $onChanges() iterations reached. Aborting!\n",y);A.$apply((function(){for(var e=0,t=E.length;e<t;++e)try{E[e]()}catch(e){h(e)}E=void 0}))}finally{N++}}function V(e,t){if(!e)return e;if(!j(e))throw wn("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',t,e.toString());for(var n="",a=ee(e),i=/\s/.test(a)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,s=a.split(i),r=Math.floor(s.length/2),o=0;o<r;o++){var l=2*o;n+=T.getTrustedMediaUrl(ee(s[l])),n+=" "+ee(s[l+1])}var c=ee(s[2*o]).split(/\s/);return n+=T.getTrustedMediaUrl(ee(c[0])),2===c.length&&(n+=" "+ee(c[1])),n}function Y(e,t){if(t){var n,a,i,s=Object.keys(t);for(n=0,a=s.length;n<a;n++)this[i=s[n]]=t[i]}else this.$attr={};this.$$element=e}function K(e,t){try{e.addClass(t)}catch(e){}}Y.prototype={$normalize:Sn,$addClass:function(e){e&&e.length>0&&P.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&P.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Cn(e,t);n&&n.length&&P.addClass(this.$$element,n);var a=Cn(t,e);a&&a.length&&P.removeClass(this.$$element,a)},$set:function(e,t,n,a){var i=qt(this.$$element[0],e),s=Ut[e],r=e;i?(this.$$element.prop(e,t),a=i):s&&(this[s]=t,r=s),this[e]=t,a?this.$attr[e]=a:(a=this.$attr[e])||(this.$attr[e]=a=Oe(e,"-")),"img"===ae(this.$$element)&&"srcset"===e&&(this[e]=t=V(t,"$set('srcset', value)")),!1!==n&&(null===t||U(t)?this.$$element.removeAttr(a):D.test(a)?i&&!1===t?this.$$element.removeAttr(a):this.$$element.attr(a,t):function(e,t,n){I.innerHTML="<span "+t+">";var a=I.firstChild.attributes,i=a[0];a.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}(this.$$element[0],a,t));var o=this.$$observers;o&&$(o[r],(function(e){try{e(t)}catch(e){h(e)}}))},$observe:function(e,t){var n=this,a=n.$$observers||(n.$$observers=ze()),i=a[e]||(a[e]=[]);return i.push(t),A.$evalAsync((function(){i.$$inter||!n.hasOwnProperty(e)||U(n[e])||t(n[e])})),function(){se(i,t)}}};var Z=n.startSymbol(),J=n.endSymbol(),te="{{"===Z&&"}}"===J?L:function(e){return e.replace(/\{\{/g,Z).replace(/}}/g,J)},ne=/^ng(Attr|Prop|On)([A-Z].*)$/,ie=/^(.+)Start$/;return re.$$addBindingInfo=b?function(e,t){var n=e.data("$binding")||[];H(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:R,re.$$addBindingClass=b?function(e){K(e,"ng-binding")}:R,re.$$addScopeInfo=b?function(e,t,n,a){var i=n?a?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:R,re.$$addScopeClass=b?function(e,t){K(e,t?"ng-isolate-scope":"ng-scope")}:R,re.$$createComment=function(t,n){var a="";return b&&(a=" "+(t||"")+": ",n&&(a+=n+" ")),e.document.createComment(a)},re;function re(e,t,n,a,i){e instanceof r||(e=r(e));var s=ce(e,t,e,n,a,i);re.$$addScopeClass(e);var o=null;return function(t,n,a){if(!e)throw wn("multilink","This element has already been linked.");Ie(t,"scope"),i&&i.needsNewScope&&(t=t.$parent.$new());var l,c,d,u=(a=a||{}).parentBoundTranscludeFn,p=a.transcludeControllers,f=a.futureParentElement;if(u&&u.$$boundTransclude&&(u=u.$$boundTransclude),o||(c=(l=f)&&l[0],o=c&&"foreignobject"!==ae(c)&&v.call(c).match(/SVG/)?"svg":"html"),d="html"!==o?r(Te(o,r("<div></div>").append(e).html())):n?Lt.clone.call(e):e,p)for(var h in p)d.data("$"+h+"Controller",p[h].instance);return re.$$addScopeInfo(d,t),n&&n(d,t),s&&s(t,d,d,u),n||(e=s=null),d}}function ce(e,t,n,a,i,o){for(var l,c,d,u,p,f,h,g=[],m=H(e)||e instanceof r,v=0;v<e.length;v++)l=new Y,11===s&&de(e,v,m),(d=(c=he(e[v],[],l,0===v?a:void 0,i)).length?be(c,e[v],l,t,n,null,[],[],o):null)&&d.scope&&re.$$addScopeClass(l.$$element),p=d&&d.terminal||!(u=e[v].childNodes)||!u.length?null:ce(u,d?(d.transcludeOnThisElement||!d.templateOnThisElement)&&d.transclude:t),(d||p)&&(g.push(v,d,p),f=!0,h=h||d),o=null;return f?function(e,n,a,i){var s,o,l,c,d,u,p,f;if(h){var m=n.length;for(f=new Array(m),d=0;d<g.length;d+=3)f[p=g[d]]=n[p]}else f=n;for(d=0,u=g.length;d<u;)l=f[g[d++]],s=g[d++],o=g[d++],s?(s.scope?(c=e.$new(),re.$$addScopeInfo(r(l),c)):c=e,s(o,c,l,a,s.transcludeOnThisElement?ue(e,s.transclude,i):!s.templateOnThisElement&&i?i:!i&&t?ue(e,t):null)):o&&o(e,l.childNodes,void 0,i)}:null}function de(e,t,n){var a,i=e[t],s=i.parentNode;if(i.nodeType===Be)for(;(a=s?i.nextSibling:e[t+1])&&a.nodeType===Be;)i.nodeValue=i.nodeValue+a.nodeValue,a.parentNode&&a.parentNode.removeChild(a),n&&a===e[t+1]&&e.splice(t+1,1)}function ue(e,t,n){function a(a,i,s,r,o){return a||((a=e.$new(!1,o)).$$transcluded=!0),t(a,i,{parentBoundTranscludeFn:n,transcludeControllers:s,futureParentElement:r})}var i=a.$$slots=ze();for(var s in t.$$slots)t.$$slots[s]?i[s]=ue(e,t.$$slots[s],n):i[s]=null;return a}function he(e,t,a,i,s){var r,c,d,u=e.nodeType,p=a.$attr;switch(u){case je:xe(t,Sn(c=ae(e)),"E",i,s);for(var f,h,g,m,v,b=e.attributes,w=0,y=b&&b.length;w<y;w++){var _,x=!1,$=!1,k=!1,S=!1,C=!1;h=(f=b[w]).name,m=f.value,(v=(g=Sn(h.toLowerCase())).match(ne))?(k="Attr"===v[1],S="Prop"===v[1],C="On"===v[1],h=h.replace($n,"").toLowerCase().substr(4+v[1].length).replace(/_(.)/g,(function(e,t){return t.toUpperCase()}))):(_=g.match(ie))&&$e(_[1])&&(x=h,$=h.substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),S||C?(a[g]=m,p[g]=f.name,S?Pe(e,t,g,h):Ee(t,g,h)):(p[g=Sn(h.toLowerCase())]=h,!k&&a.hasOwnProperty(g)||(a[g]=m,qt(e,g)&&(a[g]=!0)),De(e,t,m,g,k),xe(t,g,"A",i,s,x,$))}if("input"===c&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!q)break;if(z(d=e.className)&&(d=d.animVal),j(d)&&""!==d)for(;r=l.exec(d);)xe(t,g=Sn(r[2]),"C",i,s)&&(a[g]=ee(r[3])),d=d.substr(r.index+r[0].length);break;case Be:!function(e,t){var a=n(t,!0);a&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&re.$$addBindingClass(t),function(e,t){var i=t.parent();n||re.$$addBindingClass(i),re.$$addBindingInfo(i,a.expressions),e.$watch(a,(function(e){t[0].nodeValue=e}))}}})}(t,e.nodeValue);break;case Ve:if(!F)break;!function(e,t,n,a,i){try{var s=o.exec(e.nodeValue);if(s){var r=Sn(s[1]);xe(t,r,"M",a,i)&&(n[r]=ee(s[2]))}}catch(e){}}(e,t,a,i,s)}return t.sort(Ce),t}function ge(e,t,n){var a=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw wn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType===je&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),a.push(e),e=e.nextSibling}while(i>0);else a.push(e);return r(a)}function me(e,t,n){return function(a,i,s,r,o){return i=ge(i[0],t,n),e(a,i,s,r,o)}}function ve(e,t,n,a,i,s){var r;return e?re(t,n,a,i,s):function(){return r||(r=re(t,n,a,i,s),t=n=s=null),r.apply(this,arguments)}}function be(t,n,a,i,s,o,l,c,d){d=d||{};for(var u,p,f,g,m,v=-Number.MAX_VALUE,b=d.newScopeDirective,w=d.controllerDirectives,y=d.newIsolateScopeDirective,_=d.templateDirective,x=d.nonTlbTranscludeDirective,k=!1,S=!1,A=d.hasElementTranscludeDirective,T=a.$$element=r(n),P=o,E=i,D=!1,O=!1,R=0,L=t.length;R<L;R++){var I=(u=t[R]).$$start,F=u.$$end;if(I&&(T=ge(n,I,F)),f=void 0,v>u.priority)break;if((m=u.scope)&&(u.templateUrl||(z(m)?(Ae("new/isolated scope",y||b,u,T),y=u):Ae("new/isolated scope",y,u,T)),b=b||u),p=u.name,!D&&(u.replace&&(u.templateUrl||u.template)||u.transclude&&!u.$$tlb)){for(var q,N=R+1;q=t[N++];)if(q.transclude&&!q.$$tlb||q.replace&&(q.templateUrl||q.template)){O=!0;break}D=!0}if(!u.templateUrl&&u.controller&&(w=w||ze(),Ae("'"+p+"' controller",w[p],u,T),w[p]=u),m=u.transclude)if(k=!0,u.$$tlb||(Ae("transclusion",x,u,T),x=u),"element"===m)A=!0,v=u.priority,f=T,T=a.$$element=r(re.$$createComment(p,a[p])),n=T[0],Re(s,pe(f),n),E=ve(O,f,i,v,P&&P.name,{nonTlbTranscludeDirective:x});else{var j=ze();if(z(m)){f=e.document.createDocumentFragment();var B=ze(),V=ze();for(var W in $(m,(function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,B[e]=t,j[t]=null,V[t]=n})),$(T.contents(),(function(t){var n=B[Sn(ae(t))];n?(V[n]=!0,j[n]=j[n]||e.document.createDocumentFragment(),j[n].appendChild(t)):f.appendChild(t)})),$(V,(function(e,t){if(!e)throw wn("reqslot","Required transclusion slot `{0}` was not filled.",t)})),j)if(j[W]){var K=r(j[W].childNodes);j[W]=ve(O,K,i)}f=r(f.childNodes)}else f=r(bt(n)).contents();T.empty(),(E=ve(O,f,i,void 0,void 0,{needsNewScope:u.$$isolateScope||u.$$newScope})).$$slots=j}if(u.template)if(S=!0,Ae("template",_,u,T),_=u,m=G(u.template)?u.template(T,a):u.template,m=te(m),u.replace){if(P=u,f=ft(m)?[]:An(Te(u.templateNamespace,ee(m))),n=f[0],1!==f.length||n.nodeType!==je)throw wn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p,"");Re(s,T,n);var X={$attr:{}},Z=he(n,[],X),J=t.splice(R+1,t.length-(R+1));(y||b)&&ye(Z,y,b),t=t.concat(Z).concat(J),ke(a,X),L=t.length}else T.html(m);if(u.templateUrl)S=!0,Ae("template",_,u,T),_=u,u.replace&&(P=u),se=Se(t.splice(R,t.length-R),T,a,s,k&&E,l,c,{controllerDirectives:w,newScopeDirective:b!==u&&b,newIsolateScopeDirective:y,templateDirective:_,nonTlbTranscludeDirective:x}),L=t.length;else if(u.compile)try{g=u.compile(T,a,E);var ne=u.$$originalDirective||u;G(g)?ie(null,fe(ne,g),I,F):g&&ie(fe(ne,g.pre),fe(ne,g.post),I,F)}catch(e){h(e,_e(T))}u.terminal&&(se.terminal=!0,v=Math.max(v,u.priority))}return se.scope=b&&!0===b.scope,se.transcludeOnThisElement=k,se.templateOnThisElement=S,se.transclude=E,d.hasElementTranscludeDirective=A,se;function ie(e,t,n,a){e&&(n&&(e=me(e,n,a)),e.require=u.require,e.directiveName=p,(y===u||u.$$isolateScope)&&(e=Le(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=me(t,n,a)),t.require=u.require,t.directiveName=p,(y===u||u.$$isolateScope)&&(t=Le(t,{isolateScope:!0})),c.push(t))}function se(e,t,i,s,o){var d,u,p,f,g,m,v,x,k,S;for(var T in n===i?(k=a,x=a.$$element):k=new Y(x=r(i),a),g=t,y?f=t.$new(!0):b&&(g=t.$parent),o&&(v=function(e,t,n,a){var i;Q(e)||(a=n,n=t,t=e,e=void 0);A&&(i=m);n||(n=A?x.parent():x);if(!a)return o(e,t,i,n,O);var s=o.$$slots[a];if(s)return s(e,t,i,n,O);if(U(s))throw wn("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',a,_e(x))},v.$$boundTransclude=o,v.isSlotFilled=function(e){return!!o.$$slots[e]}),w&&(m=function(e,t,n,a,i,s,r){var o=ze();for(var l in a){var c=a[l],d={$scope:c===r||c.$$isolateScope?i:s,$element:e,$attrs:t,$transclude:n},u=c.controller;"@"===u&&(u=t[c.name]);var p=C(u,d,!0,c.controllerAs);o[c.name]=p,e.data("$"+c.name+"Controller",p.instance)}return o}(x,k,v,w,f,t,y)),y&&(re.$$addScopeInfo(x,f,!0,!(_&&(_===y||_===y.$$originalDirective))),re.$$addScopeClass(x,!0),f.$$isolateBindings=y.$$isolateBindings,(S=qe(t,k,f,f.$$isolateBindings,y)).removeWatches&&f.$on("$destroy",S.removeWatches)),m){var P=w[T],E=m[T],D=P.$$bindings.bindToController;E.instance=E(),x.data("$"+P.name+"Controller",E.instance),E.bindingInfo=qe(g,k,E.instance,D,P)}for($(w,(function(e,t){var n=e.require;e.bindToController&&!H(n)&&z(n)&&M(m[t].instance,we(t,n,x,m))})),$(m,(function(e){var t=e.instance;if(G(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){h(e)}if(G(t.$onInit))try{t.$onInit()}catch(e){h(e)}G(t.$doCheck)&&(g.$watch((function(){t.$doCheck()})),t.$doCheck()),G(t.$onDestroy)&&g.$on("$destroy",(function(){t.$onDestroy()}))})),d=0,u=l.length;d<u;d++)Fe(p=l[d],p.isolateScope?f:t,x,k,p.require&&we(p.directiveName,p.require,x,m),v);var O=t;for(y&&(y.template||null===y.templateUrl)&&(O=f),e&&e(O,i.childNodes,void 0,o),d=c.length-1;d>=0;d--)Fe(p=c[d],p.isolateScope?f:t,x,k,p.require&&we(p.directiveName,p.require,x,m),v);$(m,(function(e){var t=e.instance;G(t.$postLink)&&t.$postLink()}))}}function we(e,t,n,a){var i;if(j(t)){var s=t.match(d),r=t.substring(s[0].length),o=s[1]||s[3],l="?"===s[2];if("^^"===o?n=n.parent():i=(i=a&&a[r])&&i.instance,!i){var c="$"+r+"Controller";i="^^"===o&&n[0]&&n[0].nodeType===He?null:o?n.inheritedData(c):n.data(c)}if(!i&&!l)throw wn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",r,e)}else if(H(t)){i=[];for(var u=0,p=t.length;u<p;u++)i[u]=we(e,t[u],n,a)}else z(t)&&(i={},$(t,(function(t,s){i[s]=we(e,t,n,a)})));return i||null}function ye(e,t,n){for(var a=0,i=e.length;a<i;a++)e[a]=O(e[a],{$$isolateScope:t,$$newScope:n})}function xe(e,n,s,r,o,l,c){if(n===o)return null;var d=null;if(a.hasOwnProperty(n))for(var u,p=t.get(n+i),f=0,h=p.length;f<h;f++)if(u=p[f],(U(r)||r>u.priority)&&-1!==u.restrict.indexOf(s)){if(l&&(u=O(u,{$$start:l,$$end:c})),!u.$$bindings){var g=u.$$bindings=m(u,u.name);z(g.isolateScope)&&(u.$$isolateBindings=g.isolateScope)}e.push(u),d=u}return d}function $e(e){if(a.hasOwnProperty(e))for(var n=t.get(e+i),s=0,r=n.length;s<r;s++)if(n[s].multiElement)return!0;return!1}function ke(e,t){var n=t.$attr,a=e.$attr;$(e,(function(a,i){"$"!==i.charAt(0)&&(t[i]&&t[i]!==a&&(a.length?a+=("style"===i?";":" ")+t[i]:a=t[i]),e.$set(i,a,!0,n[i]))})),$(t,(function(t,i){e.hasOwnProperty(i)||"$"===i.charAt(0)||(e[i]=t,"class"!==i&&"style"!==i&&(a[i]=n[i]))}))}function Se(e,t,n,a,i,s,o,l){var c,d,u=[],p=t[0],f=e.shift(),m=O(f,{templateUrl:null,transclude:null,replace:null,$$originalDirective:f}),v=G(f.templateUrl)?f.templateUrl(t,n):f.templateUrl,b=f.templateNamespace;return t.empty(),g(v).then((function(h){var g,w,y,_;if(h=te(h),f.replace){if(y=ft(h)?[]:An(Te(b,ee(h))),g=y[0],1!==y.length||g.nodeType!==je)throw wn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",f.name,v);w={$attr:{}},Re(a,t,g);var x=he(g,[],w);z(f.scope)&&ye(x,!0),e=x.concat(e),ke(n,w)}else g=p,t.html(h);for(e.unshift(m),c=be(e,g,n,i,t,f,s,o,l),$(a,(function(e,n){e===g&&(a[n]=t[0])})),d=ce(t[0].childNodes,i);u.length;){var k=u.shift(),S=u.shift(),C=u.shift(),A=u.shift(),T=t[0];if(!k.$$destroyed){if(S!==p){var M=S.className;l.hasElementTranscludeDirective&&f.replace||(T=bt(g)),Re(C,r(S),T),K(r(T),M)}_=c.transcludeOnThisElement?ue(k,c.transclude,A):A,c(d,k,T,a,_)}}u=null})).catch((function(e){W(e)&&h(e)})),function(e,t,n,a,i){var s=i;t.$$destroyed||(u?u.push(t,n,a,s):(c.transcludeOnThisElement&&(s=ue(t,c.transclude,i)),c(d,t,n,a,s)))}}function Ce(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function Ae(e,t,n,a){function i(e){return e?" (module: "+e+")":""}if(t)throw wn("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,_e(a))}function Te(t,n){switch(t=p(t||"html")){case"svg":case"math":var a=e.document.createElement("div");return a.innerHTML="<"+t+">"+n+"</"+t+">",a.childNodes[0].childNodes;default:return n}}function Me(e){return V(T.valueOf(e),"ng-prop-srcset")}function Pe(e,t,n,a){if(f.test(a))throw wn("nodomevents","Property bindings for HTML DOM event properties are disallowed");var i=ae(e),s=function(e,t){var n=t.toLowerCase();return k[e+"|"+n]||k["*|"+n]}(i,a),r=L;"srcset"!==a||"img"!==i&&"source"!==i?s&&(r=T.getTrusted.bind(T,s)):r=Me,t.push({priority:100,compile:function(e,t){var i=S(t[n]),s=S(t[n],(function(e){return T.valueOf(e)}));return{pre:function(e,t){function n(){var n=i(e);t[0][a]=r(n)}n(),e.$watch(s,n)}}}})}function Ee(e,t,n){e.push(Ws(S,A,h,t,n,!1))}function De(e,t,a,i,s){var r=ae(e),o=function(e,t){return"srcdoc"===t?T.HTML:"src"===t||"ngSrc"===t?-1===["img","video","audio","source","track"].indexOf(e)?T.RESOURCE_URL:T.MEDIA_URL:"xlinkHref"===t?"image"===e?T.MEDIA_URL:"a"===e?T.URL:T.RESOURCE_URL:"form"===e&&"action"===t||"base"===e&&"href"===t||"link"===e&&"href"===t?T.RESOURCE_URL:"a"!==e||"href"!==t&&"ngHref"!==t?void 0:T.URL}(r,i),l=!s,d=c[i]||s,u=n(a,l,o,d);if(u){if("multiple"===i&&"select"===r)throw wn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",_e(e));if(f.test(i))throw wn("nodomevents","Interpolations for HTML DOM event attributes are disallowed");t.push({priority:100,compile:function(){return{pre:function(e,t,s){var r=s.$$observers||(s.$$observers=ze()),l=s[i];l!==a&&(u=l&&n(l,!0,o,d),a=l),u&&(s[i]=u(e),(r[i]||(r[i]=[])).$$inter=!0,(s.$$observers&&s.$$observers[i].$$scope||e).$watch(u,(function(e,t){"class"===i&&e!==t?s.$updateClass(e,t):s.$set(i,e)})))}}}})}}function Re(t,n,a){var i,s,o=n[0],l=n.length,c=o.parentNode;if(t)for(i=0,s=t.length;i<s;i++)if(t[i]===o){t[i++]=a;for(var d=i,u=d+l-1,p=t.length;d<p;d++,u++)u<p?t[d]=t[u]:delete t[d];t.length-=l-1,t.context===o&&(t.context=a);break}c&&c.replaceChild(a,o);var f=e.document.createDocumentFragment();for(i=0;i<l;i++)f.appendChild(n[i]);for(r.hasData(o)&&(r.data(a,r.data(o)),r(o).off("$destroy")),r.cleanData(f.querySelectorAll("*")),i=1;i<l;i++)delete n[i];n[0]=a,n.length=1}function Le(e,t){return M((function(){return e.apply(null,arguments)}),e,t)}function Fe(e,t,n,a,i,s){try{e(t,n,a,i,s)}catch(e){h(e,_e(n))}}function Ue(e,t){if(w)throw wn("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",e,t)}function qe(e,t,a,i,s){var r,o=[],l={};function c(t,n,i){G(a.$onChanges)&&!oe(n,i)&&(E||(e.$$postDigest(B),E=[]),r||(r={},E.push(d)),r[t]&&(i=r[t].previousValue),r[t]=new xn(i,n))}function d(){a.$onChanges(r),r=void 0}return $(i,(function(i,r){var d,p,f,h,g,m=i.attrName,v=i.optional;switch(i.mode){case"@":v||u.call(t,m)||(Ue(m,s.name),a[r]=t[m]=void 0),g=t.$observe(m,(function(e){if(j(e)||X(e)){var t=a[r];c(r,e,t),a[r]=e}})),t.$$observers[m].$$scope=e,j(d=t[m])?a[r]=n(d)(e):X(d)&&(a[r]=d),l[r]=new xn(yn,a[r]),o.push(g);break;case"=":if(!u.call(t,m)){if(v)break;Ue(m,s.name),t[m]=void 0}if(v&&!t[m])break;p=S(t[m]),h=p.literal?le:oe,f=p.assign||function(){throw d=a[r]=p(e),wn("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[m],m,s.name)},d=a[r]=p(e);var b=function(t){return h(t,a[r])||(h(t,d)?f(e,t=a[r]):a[r]=t),d=t};b.$stateful=!0,g=i.collection?e.$watchCollection(t[m],b):e.$watch(S(t[m],b),null,p.literal),o.push(g);break;case"<":if(!u.call(t,m)){if(v)break;Ue(m,s.name),t[m]=void 0}if(v&&!t[m])break;var w=(p=S(t[m])).literal,y=a[r]=p(e);l[r]=new xn(yn,a[r]),g=e[i.collection?"$watchCollection":"$watch"](p,(function(e,t){if(t===e){if(t===y||w&&le(t,y))return;t=y}c(r,e,t),a[r]=e})),o.push(g);break;case"&":if(v||u.call(t,m)||Ue(m,s.name),(p=t.hasOwnProperty(m)?S(t[m]):R)===R&&v)break;a[r]=function(t){return p(e,t)}}})),{initialChanges:l,removeWatches:o.length&&function(){for(var e=0,t=o.length;e<t;++e)o[e]()}}}}]}function xn(e,t){this.previousValue=e,this.currentValue=t}_n.$inject=["$provide","$$sanitizeUriProvider"],xn.prototype.isFirstChange=function(){return this.previousValue===yn};var $n=/^((?:x|data)[:\-_])/i,kn=/[:\-_]+(.)/g;function Sn(e){return e.replace($n,"").replace(kn,(function(e,t,n){return n?t.toUpperCase():t}))}function Cn(e,t){var n="",a=e.split(/\s+/),i=t.split(/\s+/);e:for(var s=0;s<a.length;s++){for(var r=a[s],o=0;o<i.length;o++)if(r===i[o])continue e;n+=(n.length>0?" ":"")+r}return n}function An(e){var t=(e=r(e)).length;if(t<=1)return e;for(;t--;){var n=e[t];(n.nodeType===Ve||n.nodeType===Be&&""===n.nodeValue.trim())&&g.call(e,t,1)}return e}var Tn=i("$controller"),Mn=/^(\S+)(\s+as\s+([\w$]+))?$/;function Pn(e,t){if(t&&j(t))return t;if(j(e)){var n=Mn.exec(e);if(n)return n[3]}}function En(){var e={};this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){Ue(t,"controller"),z(t)?M(e,t):e[t]=n},this.$get=["$injector",function(t){return function(a,i,s,r){var o,l,c,d;if(s=!0===s,r&&j(r)&&(d=r),j(a)){if(!(l=a.match(Mn)))throw Tn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",a);if(c=l[1],d=d||l[3],a=e.hasOwnProperty(c)?e[c]:function(e,t,n){if(!t)return e;for(var a,i=t.split("."),s=e,r=i.length,o=0;o<r;o++)a=i[o],e&&(e=(s=e)[a]);return!n&&G(e)?fe(s,e):e}(i.$scope,c,!0),!a)throw Tn("ctrlreg","The controller with the name '{0}' is not registered.",c);Fe(a,c,!0)}if(s){var u=(H(a)?a[a.length-1]:a).prototype;return o=Object.create(u||null),d&&n(i,d,o,c||a.name),M((function(){var e=t.invoke(a,o,i,c);return e!==o&&(z(e)||G(e))&&(o=e,d&&n(i,d,o,c||a.name)),o}),{instance:o,identifier:d})}return o=t.instantiate(a,i,c),d&&n(i,d,o,c||a.name),o};function n(e,t,n,a){if(!e||!z(e.$scope))throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",a,t);e.$scope[t]=n}}]}function Dn(){this.$get=["$window",function(e){return r(e.document)}]}function On(){this.$get=["$document","$rootScope",function(e,t){var n=e[0],a=n&&n.hidden;function i(){a=n.hidden}return e.on("visibilitychange",i),t.$on("$destroy",(function(){e.off("visibilitychange",i)})),function(){return a}}]}function Rn(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}var Ln=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof r&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},In="application/json",Fn={"Content-Type":In+";charset=utf-8"},Un=/^\[|^\{(?!\{)/,qn={"[":/]$/,"{":/}$/},zn=/^\)]\}',?\n/,Nn=i("$http");function jn(e){return z(e)?V(e)?e.toISOString():ge(e):e}function Bn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return k(e,(function(e,n){null===e||U(e)||G(e)||(H(e)?$(e,(function(e){t.push(Se(n)+"="+Se(jn(e)))})):t.push(Se(n)+"="+Se(jn(e))))})),t.join("&")}}}function Vn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function e(n,a,i){H(n)?$(n,(function(t,n){e(t,a+"["+(z(t)?n:"")+"]")})):z(n)&&!V(n)?k(n,(function(t,n){e(t,a+(i?"":"[")+n+(i?"":"]"))})):(G(n)&&(n=n()),t.push(Se(a)+"="+(null==n?"":Se(jn(n)))))}(e,"",!0),t.join("&")}}}function Hn(e,t){if(j(e)){var n=e.replace(zn,"").trim();if(n){var a=t("Content-Type"),i=a&&0===a.indexOf(In);if(i||(r=(s=n).match(Un))&&qn[r[0]].test(s))try{e=me(n)}catch(t){if(!i)return e;throw Nn("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',e,t)}}}var s,r;return e}function Wn(e){var t,n=ze();function a(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}return j(e)?$(e.split("\n"),(function(e){t=e.indexOf(":"),a(p(ee(e.substr(0,t))),ee(e.substr(t+1)))})):z(e)&&$(e,(function(e,t){a(p(t),ee(e))})),n}function Gn(e){var t;return function(n){if(t||(t=Wn(e)),n){var a=t[p(n)];return void 0===a&&(a=null),a}return t}}function Yn(e,t,n,a){return G(a)?a(e,t,n):($(a,(function(a){e=a(e,t,n)})),e)}function Kn(e){return 200<=e&&e<300}function Qn(){var e=this.defaults={transformResponse:[Hn],transformRequest:[function(e){return!z(e)||(t=e,"[object File]"===v.call(t))||function(e){return"[object Blob]"===v.call(e)}(e)||function(e){return"[object FormData]"===v.call(e)}(e)?e:ge(e);var t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:Ge(Fn),put:Ge(Fn),patch:Ge(Fn)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},t=!1;this.useApplyAsync=function(e){return q(e)?(t=!!e,this):t};var n=this.interceptors=[],a=this.xsrfTrustedOrigins=[];Object.defineProperty(this,"xsrfWhitelistedOrigins",{get:function(){return this.xsrfTrustedOrigins},set:function(e){this.xsrfTrustedOrigins=e}}),this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(s,r,o,l,c,d,u,h){var g=l("$http");e.paramSerializer=j(e.paramSerializer)?u.get(e.paramSerializer):e.paramSerializer;var m=[];$(n,(function(e){m.unshift(j(e)?u.get(e):u.invoke(e))}));var v,b=(v=[gi].concat(a.map(vi)),function(e){var t=vi(e);return v.some(bi.bind(null,t))});function w(n){if(!z(n))throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!j(h.valueOf(n.url)))throw i("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",n.url);var a=M({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},n);a.headers=function(t){var n,a,i,s=e.headers,r=M({},t.headers);s=M({},s.common,s[p(t.method)]);e:for(n in s){for(i in a=p(n),r)if(p(i)===a)continue e;r[n]=s[n]}return function(e,t){var n,a={};return $(e,(function(e,i){G(e)?null!=(n=e(t))&&(a[i]=n):a[i]=e})),a}(r,Ge(t))}(n),a.method=f(a.method),a.paramSerializer=j(a.paramSerializer)?u.get(a.paramSerializer):a.paramSerializer,s.$$incOutstandingRequestCount("$http");var l=[],v=[],y=d.resolve(a);return $(m,(function(e){(e.request||e.requestError)&&l.unshift(e.request,e.requestError),(e.response||e.responseError)&&v.push(e.response,e.responseError)})),y=(y=_(y,l)).then((function(n){var a=n.headers,i=Yn(n.data,Gn(a),void 0,n.transformRequest);U(i)&&$(a,(function(e,t){"content-type"===p(t)&&delete a[t]}));U(n.withCredentials)&&!U(e.withCredentials)&&(n.withCredentials=e.withCredentials);return function(n,a){var i,s,l=d.defer(),u=l.promise,f=n.headers,m="jsonp"===p(n.method),v=n.url;m?v=h.getTrustedResourceUrl(v):j(v)||(v=h.valueOf(v));v=function(e,t){t.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+t);return e}(v,n.paramSerializer(n.params)),m&&(v=function(e,t){var n=e.split("?");if(n.length>2)throw Nn("badjsonp",'Illegal use more than one "?", in url, "{1}"',e);return $($e(n[1]),(function(n,a){if("JSON_CALLBACK"===n)throw Nn("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e);if(a===t)throw Nn("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e)})),e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK",e}(v,n.jsonpCallbackParam));w.pendingRequests.push(n),u.then(C,C),!n.cache&&!e.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(i=z(n.cache)?n.cache:z(e.cache)?e.cache:g);i&&(q(s=i.get(v))?Z(s)?s.then(S,S):H(s)?k(s[1],s[0],Ge(s[2]),s[3],s[4]):k(s,200,{},"OK","complete"):i.put(v,u));if(U(s)){var y=b(n.url)?o()[n.xsrfCookieName||e.xsrfCookieName]:void 0;y&&(f[n.xsrfHeaderName||e.xsrfHeaderName]=y),r(n.method,v,a,x,f,n.timeout,n.withCredentials,n.responseType,_(n.eventHandlers),_(n.uploadEventHandlers))}return u;function _(e){if(e){var n={};return $(e,(function(e,a){n[a]=function(n){function a(){e(n)}t?c.$applyAsync(a):c.$$phase?a():c.$apply(a)}})),n}}function x(e,n,a,s,r){function o(){k(n,e,a,s,r)}i&&(Kn(e)?i.put(v,[e,n,Wn(a),s,r]):i.remove(v)),t?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function k(e,t,a,i,s){(Kn(t=t>=-1?t:0)?l.resolve:l.reject)({data:e,status:t,headers:Gn(a),config:n,statusText:i,xhrStatus:s})}function S(e){k(e.data,e.status,Ge(e.headers()),e.statusText,e.xhrStatus)}function C(){var e=w.pendingRequests.indexOf(n);-1!==e&&w.pendingRequests.splice(e,1)}}(n,i).then(x,x)})),y=(y=_(y,v)).finally((function(){s.$$completeOutstandingRequest(R,"$http")}));function _(e,t){for(var n=0,a=t.length;n<a;){var i=t[n++],s=t[n++];e=e.then(i,s)}return t.length=0,e}function x(e){var t=M({},e);return t.data=Yn(e.data,e.headers,e.status,a.transformResponse),Kn(e.status)?t:d.reject(t)}}return w.pendingRequests=[],function(e){$(arguments,(function(e){w[e]=function(t,n){return w(M({},n||{},{method:e,url:t}))}}))}("get","delete","head","jsonp"),function(e){$(arguments,(function(e){w[e]=function(t,n,a){return w(M({},a||{},{method:e,url:t,data:n}))}}))}("post","put","patch"),w.defaults=e,w}]}function Xn(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Zn(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,a){return function(e,t,n,a,i){return function(i,r,o,l,c,d,u,f,h,g){if(r=r||e.url(),"jsonp"===p(i))var m=a.createCallback(r),v=s(r,m,(function(e,t){var n=200===e&&a.getResponse(m);C(l,e,n,"",t,"complete"),a.removeCallback(m)}));else{var b=t(i,r),w=!1;b.open(i,r,!0),$(c,(function(e,t){q(e)&&b.setRequestHeader(t,e)})),b.onload=function(){var e=b.statusText||"",t="response"in b?b.response:b.responseText,n=1223===b.status?204:b.status;0===n&&(n=t?200:"file"===vi(r).protocol?404:0),C(l,n,t,b.getAllResponseHeaders(),e,"complete")};var y=function(){C(l,-1,null,null,"","error")},_=function(){C(l,-1,null,null,"",w?"timeout":"abort")},x=function(){C(l,-1,null,null,"","timeout")};if(b.onerror=y,b.ontimeout=x,b.onabort=_,$(h,(function(e,t){b.addEventListener(t,e)})),$(g,(function(e,t){b.upload.addEventListener(t,e)})),u&&(b.withCredentials=!0),f)try{b.responseType=f}catch(e){if("json"!==f)throw e}b.send(U(o)?null:o)}if(d>0)var k=n((function(){S("timeout")}),d);else Z(d)&&d.then((function(){S(q(d.$$timeoutId)?"timeout":"abort")}));function S(e){w="timeout"===e,v&&v(),b&&b.abort()}function C(e,t,a,i,s,r){q(k)&&n.cancel(k),v=b=null,e(t,a,i,s,r)}};function s(e,t,n){e=e.replace("JSON_CALLBACK",t);var s=i.createElement("script"),r=null;return s.type="text/javascript",s.src=e,s.async=!0,r=function(e){s.removeEventListener("load",r),s.removeEventListener("error",r),i.body.removeChild(s),s=null;var o=-1,l="unknown";e&&("load"!==e.type||a.wasCalled(t)||(e={type:"error"}),l=e.type,o="error"===e.type?404:200),n&&n(o,l)},s.addEventListener("load",r),s.addEventListener("error",r),i.body.appendChild(s),r}}(e,a,e.defer,t,n[0])}]}var Jn=y.$interpolateMinErr=i("$interpolate");function ea(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,a,i){var s=e.length,r=t.length,o=new RegExp(e.replace(/./g,c),"g"),l=new RegExp(t.replace(/./g,c),"g");function c(e){return"\\\\\\"+e}function d(n){return n.replace(o,e).replace(l,t)}function u(e,t,n,a){var i=e.$watch((function(e){return i(),a(e)}),t,n);return i}function p(o,l,c,p){var f=c===i.URL||c===i.MEDIA_URL;if(!o.length||-1===o.indexOf(e)){if(l)return;var h=d(o);f&&(h=i.getTrusted(c,h));var g=I(h);return g.exp=o,g.expressions=[],g.$$watchDelegate=u,g}p=!!p;for(var m,v,b,w,y,_=0,x=[],$=o.length,k=[],S=[];_<$;){if(-1===(m=o.indexOf(e,_))||-1===(v=o.indexOf(t,m+s))){_!==$&&k.push(d(o.substring(_)));break}_!==m&&k.push(d(o.substring(_,m))),w=o.substring(m+s,v),x.push(w),_=v+r,S.push(k.length),k.push("")}y=1===k.length&&1===S.length;var C=f&&y?void 0:function(e){try{return e=c&&!f?i.getTrusted(c,e):i.valueOf(e),p&&!q(e)?e:Ne(e)}catch(e){a(Jn.interr(o,e))}};if(b=x.map((function(e){return n(e,C)})),!l||x.length){var A=function(e){for(var t=0,n=x.length;t<n;t++){if(p&&U(e[t]))return;k[S[t]]=e[t]}return f?i.getTrusted(c,y?k[0]:k.join("")):(c&&k.length>1&&Jn.throwNoconcat(o),k.join(""))};return M((function(e){var t=0,n=x.length,i=new Array(n);try{for(;t<n;t++)i[t]=b[t](e);return A(i)}catch(e){a(Jn.interr(o,e))}}),{exp:o,expressions:x,$$watchDelegate:function(e,t){var n;return e.$watchGroup(b,(function(a,i){var s=A(a);t.call(this,s,a!==i?n:s,e),n=s}))}})}}return p.startSymbol=function(){return e},p.endSymbol=function(){return t},p}]}Jn.throwNoconcat=function(e){throw Jn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Jn.interr=function(e,t){return Jn("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var ta=i("$interval");function na(){this.$get=["$$intervalFactory","$window",function(e,t){var n={},a=function(e){t.clearInterval(e),delete n[e]},i=e((function(e,a,i){var s=t.setInterval(e,a);return n[s]=i,s}),a);return i.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$intervalId"))throw ta("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!n.hasOwnProperty(e.$$intervalId))return!1;var t=e.$$intervalId,i=n[t];return Ya(i.promise),i.reject("canceled"),a(t),!0},i}]}function aa(){this.$get=["$browser","$q","$$q","$rootScope",function(e,t,n,a){return function(i,s){return function(r,o,l,c){var d=arguments.length>4,u=d?pe(arguments,4):[],p=0,f=q(c)&&!c,h=(f?n:t).defer(),g=h.promise;function m(){d?r.apply(null,u):r(p)}return l=q(l)?l:0,g.$$intervalId=i((function(){f?e.defer(m):a.$evalAsync(m),h.notify(p++),l>0&&p>=l&&(h.resolve(p),s(g.$$intervalId)),f||a.$apply()}),o,h,f),g}}}]}var ia=function(){this.$get=function(){var e=y.callbacks,t={};return{createCallback:function(n){var a="_"+(e.$$counter++).toString(36),i="angular.callbacks."+a,s=function(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}(a);return t[i]=e[a]=s,i},wasCalled:function(e){return t[e].called},getResponse:function(e){return t[e].data},removeCallback:function(n){var a=t[n];delete e[a.id],delete t[n]}}}},sa=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,ra={http:80,https:443,ftp:21},oa=i("$location");function la(e,t,n){var a,i=(a=[],$(t,(function(e,t){H(e)?$(e,(function(e){a.push(Se(t,!0)+(!0===e?"":"="+Se(e,!0)))})):a.push(Se(t,!0)+(!0===e?"":"="+Se(e,!0)))})),a.length?a.join("&"):""),s=n?"#"+ke(n):"";return function(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ke(t[n].replace(/%2F/g,"/"));return t.join("/")}(e)+(i?"?"+i:"")+s}function ca(e,t){var n=vi(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=E(n.port)||ra[n.protocol]||null}var da=/^\s*[\\/]{2,}/;function ua(e,t,n){if(da.test(e))throw oa("badpath",'Invalid url "{0}".',e);var a="/"!==e.charAt(0);a&&(e="/"+e);var i=vi(e),s=a&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname;t.$$path=function(e,t){for(var n=e.split("/"),a=n.length;a--;)n[a]=decodeURIComponent(n[a]),t&&(n[a]=n[a].replace(/\//g,"%2F"));return n.join("/")}(s,n),t.$$search=$e(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function pa(e,t){return e.slice(0,t.length)===t}function fa(e,t){if(pa(t,e))return t.substr(e.length)}function ha(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function ga(e,t,n){this.$$html5=!0,n=n||"",ca(e,this),this.$$parse=function(e){var n=fa(t,e);if(!j(n))throw oa("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);ua(n,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(e){return t+e.substr(1)},this.$$parseLinkUrl=function(a,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(q(s=fa(e,a))?(r=s,o=n&&q(s=fa(n,s))?t+(fa("/",s)||s):e+r):q(s=fa(t,a))?o=t+s:t===a+"/"&&(o=t),o&&this.$$parse(o),!!o);var s,r,o}}function ma(e,t,n){ca(e,this),this.$$parse=function(a){var i,s=fa(e,a)||fa(t,a);U(s)||"#"!==s.charAt(0)?this.$$html5?i=s:(i="",U(s)&&(e=a,this.replace())):U(i=fa(n,s))&&(i=s),ua(i,this,!1),this.$$path=function(e,t,n){var a,i=/^\/[A-Z]:(\/.*)/;pa(t,n)&&(t=t.replace(n,""));if(i.exec(t))return e;return(a=i.exec(e))?a[1]:e}(this.$$path,i,e),this.$$compose()},this.$$normalizeUrl=function(t){return e+(t?n+t:"")},this.$$parseLinkUrl=function(t,n){return ha(e)===ha(t)&&(this.$$parse(t),!0)}}function va(e,t,n){this.$$html5=!0,ma.apply(this,arguments),this.$$parseLinkUrl=function(a,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(e===ha(a)?s=a:(r=fa(t,a))?s=e+n+r:t===a+"/"&&(s=t),s&&this.$$parse(s),!!s);var s,r},this.$$normalizeUrl=function(t){return e+n+t}}var ba={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){this.$$url=la(this.$$path,this.$$search,this.$$hash),this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:wa("$$absUrl"),url:function(e){if(U(e))return this.$$url;var t=sa.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:wa("$$protocol"),host:wa("$$host"),port:wa("$$port"),path:ya("$$path",(function(e){return"/"===(e=null!==e?e.toString():"").charAt(0)?e:"/"+e})),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(j(e)||B(e))e=e.toString(),this.$$search=$e(e);else{if(!z(e))throw oa("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");$(e=re(e,{}),(function(t,n){null==t&&delete e[n]})),this.$$search=e}break;default:U(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:ya("$$hash",(function(e){return null!==e?e.toString():""})),replace:function(){return this.$$replace=!0,this}};function wa(e){return function(){return this[e]}}function ya(e,t){return function(n){return U(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function _a(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return q(t)?(e=t,this):e},this.html5Mode=function(e){return X(e)?(t.enabled=e,this):z(e)?(X(e.enabled)&&(t.enabled=e.enabled),X(e.requireBase)&&(t.requireBase=e.requireBase),(X(e.rewriteLinks)||j(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,a,i,s,o){var l,c,d,u,p=a.baseHref(),f=a.url();if(t.enabled){if(!p&&t.requireBase)throw oa("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=(u=f).substring(0,u.indexOf("/",u.indexOf("//")+2))+(p||"/"),c=i.history?ga:va}else d=ha(f),c=ma;var h=function(e){return e.substr(0,ha(e).lastIndexOf("/")+1)}(d);(l=new c(d,h,"#"+e)).$$parseLinkUrl(f,f),l.$$state=a.state();var g=/^\s*(javascript|mailto):/i;function m(e,t,n){var i=l.url(),s=l.$$state;try{a.url(e,t,n),l.$$state=a.state()}catch(e){throw l.url(i),l.$$state=s,e}}s.on("click",(function(e){var i=t.rewriteLinks;if(i&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var o=r(e.target);"a"!==ae(o[0]);)if(o[0]===s[0]||!(o=o.parent())[0])return;if(!j(i)||!U(o.attr(i))){var c=o.prop("href"),d=o.attr("href")||o.attr("xlink:href");z(c)&&"[object SVGAnimatedString]"===c.toString()&&(c=vi(c.animVal).href),g.test(c)||!c||o.attr("target")||e.isDefaultPrevented()||l.$$parseLinkUrl(c,d)&&(e.preventDefault(),l.absUrl()!==a.url()&&n.$apply())}}})),l.absUrl()!==f&&a.url(l.absUrl(),!0);var v=!0;return a.onUrlChange((function(e,t){pa(e,h)?(n.$evalAsync((function(){var a,i=l.absUrl(),s=l.$$state;l.$$parse(e),l.$$state=t,a=n.$broadcast("$locationChangeStart",e,i,t,s).defaultPrevented,l.absUrl()===e&&(a?(l.$$parse(i),l.$$state=s,m(i,!1,s)):(v=!1,b(i,s)))})),n.$$phase||n.$digest()):o.location.href=e})),n.$watch((function(){if(v||l.$$urlUpdatedByLocation){l.$$urlUpdatedByLocation=!1;var e=a.url(),t=l.absUrl(),s=a.state(),r=l.$$replace,o=!((c=e)===(d=t)||vi(c).href===vi(d).href)||l.$$html5&&i.history&&s!==l.$$state;(v||o)&&(v=!1,n.$evalAsync((function(){var t=l.absUrl(),a=n.$broadcast("$locationChangeStart",t,e,l.$$state,s).defaultPrevented;l.absUrl()===t&&(a?(l.$$parse(e),l.$$state=s):(o&&m(t,r,s===l.$$state?null:l.$$state),b(e,s)))})))}var c,d;l.$$replace=!1})),l;function b(e,t){n.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}}]}function xa(){var e=!0,t=this;this.debugEnabled=function(t){return q(t)?(e=t,this):e},this.$get=["$window",function(n){var a,i=s||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:(a=r("debug"),function(){e&&a.apply(t,arguments)})};function r(e){var t=n.console||{},a=t[e]||t.log||R;return function(){var e=[];return $(arguments,(function(t){e.push(function(e){return W(e)&&(e.stack&&i?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}(t))})),Function.prototype.apply.call(a,t,e)}}}]}$([va,ma,ga],(function(e){e.prototype=Object.create(ba),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==ga||!this.$$html5)throw oa("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=U(t)?null:t,this.$$urlUpdatedByLocation=!0,this}}));var $a=i("$parse"),ka={}.constructor.prototype.valueOf;function Sa(e){return e+""}var Ca=ze();$("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),(function(e){Ca[e]=!0}));var Aa={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Ta=function(e){this.options=e};Ta.prototype={constructor:Ta,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),a=n+this.peek(2),i=Ca[t],s=Ca[n],r=Ca[a];if(i||s||r){var o=r?a:s?n:t;this.tokens.push({index:this.index,text:o,operator:!0}),this.index+=o.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),a=t.charCodeAt(0);return n>=55296&&n<=56319&&a>=56320&&a<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var a=q(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw $a("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,a,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=p(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var a=this.peek();if("e"===n&&this.isExpOperator(a))e+=n;else if(this.isExpOperator(n)&&a&&this.isNumber(a)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||a&&this.isNumber(a)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",a=e,i=!1;this.index<this.text.length;){var s=this.text.charAt(this.index);if(a+=s,i){if("u"===s){var r=this.text.substring(this.index+1,this.index+5);r.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,n+=String.fromCharCode(parseInt(r,16))}else{n+=Aa[s]||s}i=!1}else if("\\"===s)i=!0;else{if(s===e)return this.index++,void this.tokens.push({index:t,text:a,constant:!0,value:n});n+=s}this.index++}this.throwError("Unterminated quote",t)}};var Ma=function(e,t){this.lexer=e,this.options=t};function Pa(e,t){return void 0!==e?e:t}function Ea(e,t){return void 0===e?t:void 0===t?e:e+t}Ma.Program="Program",Ma.ExpressionStatement="ExpressionStatement",Ma.AssignmentExpression="AssignmentExpression",Ma.ConditionalExpression="ConditionalExpression",Ma.LogicalExpression="LogicalExpression",Ma.BinaryExpression="BinaryExpression",Ma.UnaryExpression="UnaryExpression",Ma.CallExpression="CallExpression",Ma.MemberExpression="MemberExpression",Ma.Identifier="Identifier",Ma.Literal="Literal",Ma.ArrayExpression="ArrayExpression",Ma.Property="Property",Ma.ObjectExpression="ObjectExpression",Ma.ThisExpression="ThisExpression",Ma.LocalsExpression="LocalsExpression",Ma.NGValueParameter="NGValueParameter",Ma.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Ma.Program,body:e}},expressionStatement:function(){return{type:Ma.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!Ia(e))throw $a("lval","Trying to assign a value to a non l-value");e={type:Ma.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Ma.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Ma.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Ma.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Ma.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Ma.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Ma.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Ma.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Ma.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=re(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:Ma.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:Ma.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Ma.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Ma.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:Ma.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.filterChain())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Ma.Identifier,name:e.text}},constant:function(){return{type:Ma.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Ma.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Ma.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Ma.ObjectExpression,properties:t}},throwError:function(e,t){throw $a("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw $a("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw $a("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,a){return this.peekAhead(0,e,t,n,a)},peekAhead:function(e,t,n,a,i){if(this.tokens.length>e){var s=this.tokens[e],r=s.text;if(r===t||r===n||r===a||r===i||!t&&!n&&!a&&!i)return s}return!1},expect:function(e,t,n,a){var i=this.peek(e,t,n,a);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:Ma.ThisExpression},$locals:{type:Ma.LocalsExpression}}};var Da=1,Oa=2;function Ra(e,t,n){var a,i,s,r=e.isPure=function(e,t){switch(e.type){case Ma.MemberExpression:if(e.computed)return!1;break;case Ma.UnaryExpression:return Da;case Ma.BinaryExpression:return"+"!==e.operator&&Da;case Ma.CallExpression:return!1}return void 0===t?Oa:t}(e,n);switch(e.type){case Ma.Program:a=!0,$(e.body,(function(e){Ra(e.expression,t,r),a=a&&e.expression.constant})),e.constant=a;break;case Ma.Literal:e.constant=!0,e.toWatch=[];break;case Ma.UnaryExpression:Ra(e.argument,t,r),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Ma.BinaryExpression:Ra(e.left,t,r),Ra(e.right,t,r),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Ma.LogicalExpression:Ra(e.left,t,r),Ra(e.right,t,r),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Ma.ConditionalExpression:Ra(e.test,t,r),Ra(e.alternate,t,r),Ra(e.consequent,t,r),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Ma.Identifier:e.constant=!1,e.toWatch=[e];break;case Ma.MemberExpression:Ra(e.object,t,r),e.computed&&Ra(e.property,t,r),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case Ma.CallExpression:s=!!e.filter&&function(e,t){return!e(t).$stateful}(t,e.callee.name),a=s,i=[],$(e.arguments,(function(e){Ra(e,t,r),a=a&&e.constant,i.push.apply(i,e.toWatch)})),e.constant=a,e.toWatch=s?i:[e];break;case Ma.AssignmentExpression:Ra(e.left,t,r),Ra(e.right,t,r),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Ma.ArrayExpression:a=!0,i=[],$(e.elements,(function(e){Ra(e,t,r),a=a&&e.constant,i.push.apply(i,e.toWatch)})),e.constant=a,e.toWatch=i;break;case Ma.ObjectExpression:a=!0,i=[],$(e.properties,(function(e){Ra(e.value,t,r),a=a&&e.value.constant,i.push.apply(i,e.value.toWatch),e.computed&&(Ra(e.key,t,!1),a=a&&e.key.constant,i.push.apply(i,e.key.toWatch))})),e.constant=a,e.toWatch=i;break;case Ma.ThisExpression:case Ma.LocalsExpression:e.constant=!1,e.toWatch=[]}}function La(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length||n[0]!==t?n:void 0}}function Ia(e){return e.type===Ma.Identifier||e.type===Ma.MemberExpression}function Fa(e){if(1===e.body.length&&Ia(e.body[0].expression))return{type:Ma.AssignmentExpression,left:e.body[0].expression,right:{type:Ma.NGValueParameter},operator:"="}}function Ua(e){this.$filter=e}function qa(e){this.$filter=e}function za(e,t,n){this.ast=new Ma(e,n),this.astCompiler=n.csp?new qa(t):new Ua(t)}function Na(e){return G(e.valueOf)?e.valueOf():ka.call(e)}function ja(){var e,t,n=ze(),a={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){a[e]=t},this.setIdentifierFns=function(n,a){return e=n,t=a,this},this.$get=["$filter",function(i){var s={csp:ce().noUnsafeEval,literals:re(a),isIdentifierStart:G(e)&&e,isIdentifierContinue:G(t)&&t};return r.$$getAst=function(e){return new za(new Ta(s),i,s).getAst(e).ast},r;function r(e,t){var a,r;switch(typeof e){case"string":if(e=e.trim(),!(a=n[r=e]))a=new za(new Ta(s),i,s).parse(e),n[r]=p(a);return f(a,t);case"function":return f(e,t);default:return f(R,t)}}function o(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&"object"==typeof(e=Na(e))&&!n)&&(e===t||e!=e&&t!=t)}function l(e,t,n,a,i){var s,r=a.inputs;if(1===r.length){var l=o;return r=r[0],e.$watch((function(e){var t=r(e);return o(t,l,r.isPure)||(s=a(e,void 0,void 0,[t]),l=t&&Na(t)),s}),t,n,i)}for(var c=[],d=[],u=0,p=r.length;u<p;u++)c[u]=o,d[u]=null;return e.$watch((function(e){for(var t=!1,n=0,i=r.length;n<i;n++){var l=r[n](e);(t||(t=!o(l,c[n],r[n].isPure)))&&(d[n]=l,c[n]=l&&Na(l))}return t&&(s=a(e,void 0,void 0,d)),s}),t,n,i)}function c(e,t,n,a,i){var s,r,o=a.literal?d:q,l=a.$$intercepted||a,c=a.$$interceptor||L,u=a.inputs&&!l.inputs;return h.literal=a.literal,h.constant=a.constant,h.inputs=a.inputs,p(h),s=e.$watch(h,t,n,i);function f(){o(r)&&s()}function h(e,t,n,a){return r=u&&a?a[0]:l(e,t,n,a),o(r)&&e.$$postDigest(f),c(r)}}function d(e){var t=!0;return $(e,(function(e){q(e)||(t=!1)})),t}function u(e,t,n,a){var i=e.$watch((function(e){return i(),a(e)}),t,n);return i}function p(e){return e.constant?e.$$watchDelegate=u:e.oneTime?e.$$watchDelegate=c:e.inputs&&(e.$$watchDelegate=l),e}function f(e,t){if(!t)return e;e.$$interceptor&&(t=function(e,t){function n(n){return t(e(n))}return n.$stateful=e.$stateful||t.$stateful,n.$$pure=e.$$pure&&t.$$pure,n}(e.$$interceptor,t),e=e.$$intercepted);var n=!1,a=function(a,i,s,r){var o=n&&r?r[0]:e(a,i,s,r);return t(o)};return a.$$intercepted=e,a.$$interceptor=t,a.literal=e.literal,a.oneTime=e.oneTime,a.constant=e.constant,t.$stateful||(n=!e.inputs,a.inputs=e.inputs?e.inputs:[e],t.$$pure||(a.inputs=a.inputs.map((function(e){return e.isPure===Oa?function(t){return e(t)}:e})))),p(a)}}]}function Ba(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return Ha((function(e){t.$evalAsync(e)}),n,e)}],this.errorOnUnhandledRejections=function(t){return q(t)?(e=t,this):e}}function Va(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return Ha((function(e){t.defer(e)}),n,e)}],this.errorOnUnhandledRejections=function(t){return q(t)?(e=t,this):e}}function Ha(e,t,n){var a=i("$q",TypeError),s=0,r=[];function o(){return new l}function l(){var e=this.promise=new c;this.resolve=function(t){p(e,t)},this.reject=function(t){h(e,t)},this.notify=function(t){m(e,t)}}function c(){this.$$state={status:0}}function d(){for(;!s&&r.length;){var e=r.shift();if(!Wa(e)){Ga(e);var n="Possibly unhandled rejection: "+Ye(e.value);W(e.value)?t(e.value,n):t(n)}}}function u(a){!n||a.pending||2!==a.status||Wa(a)||(0===s&&0===r.length&&e(d),r.push(a)),!a.processScheduled&&a.pending&&(a.processScheduled=!0,++s,e((function(){!function(a){var i,r,o;o=a.pending,a.processScheduled=!1,a.pending=void 0;try{for(var l=0,c=o.length;l<c;++l){Ga(a),r=o[l][0],i=o[l][a.status];try{G(i)?p(r,i(a.value)):1===a.status?p(r,a.value):h(r,a.value)}catch(e){h(r,e),e&&!0===e.$$passToExceptionHandler&&t(e)}}}finally{--s,n&&0===s&&e(d)}}(a)})))}function p(e,t){e.$$state.status||(t===e?g(e,a("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):f(e,t))}function f(e,t){var n,a=!1;try{(z(t)||G(t))&&(n=t.then),G(n)?(e.$$state.status=-1,n.call(t,(function(t){if(a)return;a=!0,f(e,t)}),i,(function(t){m(e,t)}))):(e.$$state.value=t,e.$$state.status=1,u(e.$$state))}catch(e){i(e)}function i(t){a||(a=!0,g(e,t))}}function h(e,t){e.$$state.status||g(e,t)}function g(e,t){e.$$state.value=t,e.$$state.status=2,u(e.$$state)}function m(n,a){var i=n.$$state.pending;n.$$state.status<=0&&i&&i.length&&e((function(){for(var e,n,s=0,r=i.length;s<r;s++){n=i[s][0],e=i[s][3];try{m(n,G(e)?e(a):a)}catch(e){t(e)}}}))}function v(e){var t=new c;return h(t,e),t}function b(e,t,n){var a=null;try{G(n)&&(a=n())}catch(e){return v(e)}return Z(a)?a.then((function(){return t(e)}),v):t(e)}function w(e,t,n,a){var i=new c;return p(i,e),i.then(t,n,a)}M(c.prototype,{then:function(e,t,n){if(U(e)&&U(t)&&U(n))return this;var a=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([a,e,t,n]),this.$$state.status>0&&u(this.$$state),a},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then((function(t){return b(t,y,e)}),(function(t){return b(t,v,e)}),t)}});var y=w;function _(e){if(!G(e))throw a("norslvr","Expected resolverFn, got '{0}'",e);var t=new c;return e((function(e){p(t,e)}),(function(e){h(t,e)})),t}return _.prototype=c.prototype,_.defer=o,_.reject=v,_.when=w,_.resolve=y,_.all=function(e){var t=new c,n=0,a=H(e)?[]:{};return $(e,(function(e,i){n++,w(e).then((function(e){a[i]=e,--n||p(t,a)}),(function(e){h(t,e)}))})),0===n&&p(t,a),t},_.race=function(e){var t=o();return $(e,(function(e){w(e).then(t.resolve,t.reject)})),t.promise},_}function Wa(e){return!!e.pur}function Ga(e){e.pur=!0}function Ya(e){e.$$state&&Ga(e.$$state)}function Ka(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,a=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,s=i?function(e){var t=n(e);return function(){a(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return s.supported=i,s}]}function Qa(){var e=10,t=i("$rootScope"),n=null,a=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$exceptionHandler","$parse","$browser",function(i,r,o){function l(e){e.currentScope.$$destroyed=!0}function c(e){9===s&&(e.$$childHead&&c(e.$$childHead),e.$$nextSibling&&c(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function d(){this.$id=C(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}d.prototype={constructor:d,$new:function(e,t){var n;return t=t||this,e?(n=new d).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=C(),this.$$ChildScope=null,this.$$suspended=!1}return t.prototype=e,t}(this)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,(e||t!==this)&&n.$on("$destroy",l),n},$watch:function(e,t,a,i){var s=r(e),o=G(t)?t:R;if(s.$$watchDelegate)return s.$$watchDelegate(this,o,a,s,e);var l=this,c=l.$$watchers,d={fn:o,last:_,get:s,exp:i||e,eq:!!a};return n=null,c||((c=l.$$watchers=[]).$$digestWatchIndex=-1),c.unshift(d),c.$$digestWatchIndex++,w(this,1),function(){var e=se(c,d);e>=0&&(w(l,-1),e<c.$$digestWatchIndex&&c.$$digestWatchIndex--),n=null}},$watchGroup:function(e,t){var n=new Array(e.length),a=new Array(e.length),i=[],s=this,r=!1,o=!0;if(!e.length){var l=!0;return s.$evalAsync((function(){l&&t(a,a,s)})),function(){l=!1}}if(1===e.length)return this.$watch(e[0],(function(e,i,s){a[0]=e,n[0]=i,t(a,e===i?a:n,s)}));function c(){r=!1;try{o?(o=!1,t(a,a,s)):t(a,n,s)}finally{for(var i=0;i<e.length;i++)n[i]=a[i]}}return $(e,(function(e,t){var n=s.$watch(e,(function(e){a[t]=e,r||(r=!0,s.$evalAsync(c))}));i.push(n)})),function(){for(;i.length;)i.shift()()}},$watchCollection:function(e,t){g.$$pure=r(e).literal,g.$stateful=!g.$$pure;var n,a,i,s=this,o=t.length>1,l=0,c=r(e,g),d=[],p={},f=!0,h=0;function g(e){var t,i,s,r;if(!U(n=e)){if(z(n))if(x(n)){a!==d&&(h=(a=d).length=0,l++),t=n.length,h!==t&&(l++,a.length=h=t);for(var o=0;o<t;o++)r=a[o],s=n[o],r!=r&&s!=s||r===s||(l++,a[o]=s)}else{for(i in a!==p&&(a=p={},h=0,l++),t=0,n)u.call(n,i)&&(t++,s=n[i],r=a[i],i in a?r!=r&&s!=s||r===s||(l++,a[i]=s):(h++,a[i]=s,l++));if(h>t)for(i in l++,a)u.call(n,i)||(h--,delete a[i])}else a!==n&&(a=n,l++);return l}}return this.$watch(c,(function(){if(f?(f=!1,t(n,n,s)):t(n,i,s),o)if(z(n))if(x(n)){i=new Array(n.length);for(var e=0;e<n.length;e++)i[e]=n[e]}else for(var a in i={},n)u.call(n,a)&&(i[a]=n[a]);else i=n}))},$digest:function(){var s,r,l,c,d,u,g,w,y,x=e,$=f.length?p:this,S=[];v("$digest"),o.$$checkUrlChange(),this===p&&null!==a&&(o.defer.cancel(a),k()),n=null;do{d=!1,g=$;for(var C=0;C<f.length;C++){try{(0,(y=f[C]).fn)(y.scope,y.locals)}catch(e){i(e)}n=null}f.length=0;e:do{if(c=!g.$$suspended&&g.$$watchers)for(c.$$digestWatchIndex=c.length;c.$$digestWatchIndex--;)try{if(s=c[c.$$digestWatchIndex])if((r=(0,s.get)(g))===(l=s.last)||(s.eq?le(r,l):D(r)&&D(l))){if(s===n){d=!1;break e}}else d=!0,n=s,s.last=s.eq?re(r,null):r,(0,s.fn)(r,l===_?r:l,g),x<5&&(S[w=4-x]||(S[w]=[]),S[w].push({msg:G(s.exp)?"fn: "+(s.exp.name||s.exp.toString()):s.exp,newVal:r,oldVal:l}))}catch(e){i(e)}if(!(u=!g.$$suspended&&g.$$watchersCount&&g.$$childHead||g!==$&&g.$$nextSibling))for(;g!==$&&!(u=g.$$nextSibling);)g=g.$parent}while(g=u);if((d||f.length)&&!x--)throw b(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,S)}while(d||f.length);for(b();m<h.length;)try{h[m++]()}catch(e){i(e)}h.length=m=0,o.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;for(var t in this.$broadcast("$destroy"),this.$$destroyed=!0,this===p&&o.$$applicationDestroyed(),w(this,-this.$$watchersCount),this.$$listenerCount)y(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=R,this.$on=this.$watch=this.$watchGroup=function(){return R},this.$$listeners={},this.$$nextSibling=null,c(this)}},$eval:function(e,t){return r(e)(this,t)},$evalAsync:function(e,t){p.$$phase||f.length||o.defer((function(){f.length&&p.$digest()}),null,"$evalAsync"),f.push({scope:this,fn:r(e),locals:t})},$$postDigest:function(e){h.push(e)},$apply:function(e){try{v("$apply");try{return this.$eval(e)}finally{b()}}catch(e){i(e)}finally{try{p.$digest()}catch(e){throw i(e),e}}},$applyAsync:function(e){var t=this;e&&g.push((function(){t.$eval(e)})),e=r(e),null===a&&(a=o.defer((function(){p.$apply(k)}),null,"$applyAsync"))},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var a=this;do{a.$$listenerCount[e]||(a.$$listenerCount[e]=0),a.$$listenerCount[e]++}while(a=a.$parent);var i=this;return function(){var a=n.indexOf(t);-1!==a&&(delete n[a],y(i,1,e))}},$emit:function(e,t){var n,a,s,r=[],o=this,l=!1,c={name:e,targetScope:o,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},d=ue([c],arguments,1);do{for(n=o.$$listeners[e]||r,c.currentScope=o,a=0,s=n.length;a<s;a++)if(n[a])try{n[a].apply(null,d)}catch(e){i(e)}else n.splice(a,1),a--,s--;if(l)break;o=o.$parent}while(o);return c.currentScope=null,c},$broadcast:function(e,t){var n=this,a=n,s=n,r={name:e,targetScope:n,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return r;for(var o,l,c,d=ue([r],arguments,1);a=s;){for(r.currentScope=a,l=0,c=(o=a.$$listeners[e]||[]).length;l<c;l++)if(o[l])try{o[l].apply(null,d)}catch(e){i(e)}else o.splice(l,1),l--,c--;if(!(s=a.$$listenerCount[e]&&a.$$childHead||a!==n&&a.$$nextSibling))for(;a!==n&&!(s=a.$$nextSibling);)a=a.$parent}return r.currentScope=null,r}};var p=new d,f=p.$$asyncQueue=[],h=p.$$postDigestQueue=[],g=p.$$applyAsyncQueue=[],m=0;return p;function v(e){if(p.$$phase)throw t("inprog","{0} already in progress",p.$$phase);p.$$phase=e}function b(){p.$$phase=null}function w(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function y(e,t,n){do{e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n]}while(e=e.$parent)}function _(){}function k(){for(;g.length;)try{g.shift()()}catch(e){i(e)}a=null}}]}function Xa(){var e=/^\s*(https?|s?ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationTrustedUrlList=function(t){return q(t)?(e=t,this):e},this.imgSrcSanitizationTrustedUrlList=function(e){return q(e)?(t=e,this):t},this.$get=function(){return function(n,a){var i=a?t:e,s=vi(n&&n.trim()).href;return""===s||s.match(i)?n:"unsafe:"+s}}}Ua.prototype={compile:function(e){var t=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Ra(e,t.$filter);var n,a="";if(this.stage="assign",n=Fa(e)){this.state.computing="assign";var i=this.nextId();this.recurse(n,i),this.return_(i),a="fn.assign="+this.generateFunction("assign","s,v,l")}var s=La(e.body);t.stage="inputs",$(s,(function(e,n){var a="fn"+n;t.state[a]={vars:[],body:[],own:{}},t.state.computing=a;var i=t.nextId();t.recurse(e,i),t.return_(i),t.state.inputs.push({name:a,isPure:e.isPure}),e.watchId=n})),this.state.computing="fn",this.stage="main",this.recurse(e);var r='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",o=new Function("$filter","getStringValue","ifDefined","plus",r)(this.$filter,Sa,Pa,Ea);return this.state=this.stage=void 0,o},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return $(t,(function(t){e.push("var "+t.name+"="+n.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")})),t.length&&e.push("fn.inputs=["+t.map((function(e){return e.name})).join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return $(this.state.filters,(function(n,a){e.push(n+"=$filter("+t.escape(a)+")")})),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,a,i,s){var r,o,l,c,d,u=this;if(a=a||R,!s&&q(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,a,i,!0));switch(e.type){case Ma.Program:$(e.body,(function(t,n){u.recurse(t.expression,void 0,void 0,(function(e){o=e})),n!==e.body.length-1?u.current().body.push(o,";"):u.return_(o)}));break;case Ma.Literal:c=this.escape(e.value),this.assign(t,c),a(t||c);break;case Ma.UnaryExpression:this.recurse(e.argument,void 0,void 0,(function(e){o=e})),c=e.operator+"("+this.ifDefined(o,0)+")",this.assign(t,c),a(c);break;case Ma.BinaryExpression:this.recurse(e.left,void 0,void 0,(function(e){r=e})),this.recurse(e.right,void 0,void 0,(function(e){o=e})),c="+"===e.operator?this.plus(r,o):"-"===e.operator?this.ifDefined(r,0)+e.operator+this.ifDefined(o,0):"("+r+")"+e.operator+"("+o+")",this.assign(t,c),a(c);break;case Ma.LogicalExpression:t=t||this.nextId(),u.recurse(e.left,t),u.if_("&&"===e.operator?t:u.not(t),u.lazyRecurse(e.right,t)),a(t);break;case Ma.ConditionalExpression:t=t||this.nextId(),u.recurse(e.test,t),u.if_(t,u.lazyRecurse(e.alternate,t),u.lazyRecurse(e.consequent,t)),a(t);break;case Ma.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===u.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),u.if_("inputs"===u.stage||u.not(u.getHasOwnProperty("l",e.name)),(function(){u.if_("inputs"===u.stage||"s",(function(){i&&1!==i&&u.if_(u.isNull(u.nonComputedMember("s",e.name)),u.lazyAssign(u.nonComputedMember("s",e.name),"{}")),u.assign(t,u.nonComputedMember("s",e.name))}))}),t&&u.lazyAssign(t,u.nonComputedMember("l",e.name))),a(t);break;case Ma.MemberExpression:r=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),u.recurse(e.object,r,void 0,(function(){u.if_(u.notNull(r),(function(){e.computed?(o=u.nextId(),u.recurse(e.property,o),u.getStringValue(o),i&&1!==i&&u.if_(u.not(u.computedMember(r,o)),u.lazyAssign(u.computedMember(r,o),"{}")),c=u.computedMember(r,o),u.assign(t,c),n&&(n.computed=!0,n.name=o)):(i&&1!==i&&u.if_(u.isNull(u.nonComputedMember(r,e.property.name)),u.lazyAssign(u.nonComputedMember(r,e.property.name),"{}")),c=u.nonComputedMember(r,e.property.name),u.assign(t,c),n&&(n.computed=!1,n.name=e.property.name))}),(function(){u.assign(t,"undefined")})),a(t)}),!!i);break;case Ma.CallExpression:t=t||this.nextId(),e.filter?(o=u.filter(e.callee.name),l=[],$(e.arguments,(function(e){var t=u.nextId();u.recurse(e,t),l.push(t)})),c=o+"("+l.join(",")+")",u.assign(t,c),a(t)):(o=u.nextId(),r={},l=[],u.recurse(e.callee,o,r,(function(){u.if_(u.notNull(o),(function(){$(e.arguments,(function(t){u.recurse(t,e.constant?void 0:u.nextId(),void 0,(function(e){l.push(e)}))})),c=r.name?u.member(r.context,r.name,r.computed)+"("+l.join(",")+")":o+"("+l.join(",")+")",u.assign(t,c)}),(function(){u.assign(t,"undefined")})),a(t)})));break;case Ma.AssignmentExpression:o=this.nextId(),r={},this.recurse(e.left,void 0,r,(function(){u.if_(u.notNull(r.context),(function(){u.recurse(e.right,o),c=u.member(r.context,r.name,r.computed)+e.operator+o,u.assign(t,c),a(t||c)}))}),1);break;case Ma.ArrayExpression:l=[],$(e.elements,(function(t){u.recurse(t,e.constant?void 0:u.nextId(),void 0,(function(e){l.push(e)}))})),c="["+l.join(",")+"]",this.assign(t,c),a(t||c);break;case Ma.ObjectExpression:l=[],d=!1,$(e.properties,(function(e){e.computed&&(d=!0)})),d?(t=t||this.nextId(),this.assign(t,"{}"),$(e.properties,(function(e){e.computed?(r=u.nextId(),u.recurse(e.key,r)):r=e.key.type===Ma.Identifier?e.key.name:""+e.key.value,o=u.nextId(),u.recurse(e.value,o),u.assign(u.member(t,r,e.computed),o)}))):($(e.properties,(function(t){u.recurse(t.value,e.constant?void 0:u.nextId(),void 0,(function(e){l.push(u.escape(t.key.type===Ma.Identifier?t.key.name:""+t.key.value)+":"+e)}))})),c="{"+l.join(",")+"}",this.assign(t,c)),a(t||c);break;case Ma.ThisExpression:this.assign(t,"s"),a(t||"s");break;case Ma.LocalsExpression:this.assign(t,"l"),a(t||"l");break;case Ma.NGValueParameter:this.assign(t,"v"),a(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,a=this.current().own;return a.hasOwnProperty(n)||(a[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),a[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var a=this.current().body;a.push("if(",e,"){"),t(),a.push("}"),n&&(a.push("else{"),n(),a.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,a,i,s){var r=this;return function(){r.recurse(e,t,n,a,i,s)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(j(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(B(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw $a("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},qa.prototype={compile:function(e){var t,n,a=this;Ra(e,a.$filter),(t=Fa(e))&&(n=this.recurse(t));var i,s=La(e.body);s&&(i=[],$(s,(function(e,t){var n=a.recurse(e);n.isPure=e.isPure,e.input=n,i.push(n),e.watchId=t})));var r=[];$(e.body,(function(e){r.push(a.recurse(e.expression))}));var o=0===e.body.length?R:1===e.body.length?r[0]:function(e,t){var n;return $(r,(function(a){n=a(e,t)})),n};return n&&(o.assign=function(e,t,a){return n(e,a,t)}),i&&(o.inputs=i),o},recurse:function(e,t,n){var a,i,s,r=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Ma.Literal:return this.value(e.value,t);case Ma.UnaryExpression:return i=this.recurse(e.argument),this["unary"+e.operator](i,t);case Ma.BinaryExpression:case Ma.LogicalExpression:return a=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](a,i,t);case Ma.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Ma.Identifier:return r.identifier(e.name,t,n);case Ma.MemberExpression:return a=this.recurse(e.object,!1,!!n),e.computed||(i=e.property.name),e.computed&&(i=this.recurse(e.property)),e.computed?this.computedMember(a,i,t,n):this.nonComputedMember(a,i,t,n);case Ma.CallExpression:return s=[],$(e.arguments,(function(e){s.push(r.recurse(e))})),e.filter&&(i=this.$filter(e.callee.name)),e.filter||(i=this.recurse(e.callee,!0)),e.filter?function(e,n,a,r){for(var o=[],l=0;l<s.length;++l)o.push(s[l](e,n,a,r));var c=i.apply(void 0,o,r);return t?{context:void 0,name:void 0,value:c}:c}:function(e,n,a,r){var o,l=i(e,n,a,r);if(null!=l.value){for(var c=[],d=0;d<s.length;++d)c.push(s[d](e,n,a,r));o=l.value.apply(l.context,c)}return t?{value:o}:o};case Ma.AssignmentExpression:return a=this.recurse(e.left,!0,1),i=this.recurse(e.right),function(e,n,s,r){var o=a(e,n,s,r),l=i(e,n,s,r);return o.context[o.name]=l,t?{value:l}:l};case Ma.ArrayExpression:return s=[],$(e.elements,(function(e){s.push(r.recurse(e))})),function(e,n,a,i){for(var r=[],o=0;o<s.length;++o)r.push(s[o](e,n,a,i));return t?{value:r}:r};case Ma.ObjectExpression:return s=[],$(e.properties,(function(e){e.computed?s.push({key:r.recurse(e.key),computed:!0,value:r.recurse(e.value)}):s.push({key:e.key.type===Ma.Identifier?e.key.name:""+e.key.value,computed:!1,value:r.recurse(e.value)})})),function(e,n,a,i){for(var r={},o=0;o<s.length;++o)s[o].computed?r[s[o].key(e,n,a,i)]=s[o].value(e,n,a,i):r[s[o].key]=s[o].value(e,n,a,i);return t?{value:r}:r};case Ma.ThisExpression:return function(e){return t?{value:e}:e};case Ma.LocalsExpression:return function(e,n){return t?{value:n}:n};case Ma.NGValueParameter:return function(e,n,a){return t?{value:a}:a}}},"unary+":function(e,t){return function(n,a,i,s){var r=e(n,a,i,s);return r=q(r)?+r:0,t?{value:r}:r}},"unary-":function(e,t){return function(n,a,i,s){var r=e(n,a,i,s);return r=q(r)?-r:-0,t?{value:r}:r}},"unary!":function(e,t){return function(n,a,i,s){var r=!e(n,a,i,s);return t?{value:r}:r}},"binary+":function(e,t,n){return function(a,i,s,r){var o=Ea(e(a,i,s,r),t(a,i,s,r));return n?{value:o}:o}},"binary-":function(e,t,n){return function(a,i,s,r){var o=e(a,i,s,r),l=t(a,i,s,r),c=(q(o)?o:0)-(q(l)?l:0);return n?{value:c}:c}},"binary*":function(e,t,n){return function(a,i,s,r){var o=e(a,i,s,r)*t(a,i,s,r);return n?{value:o}:o}},"binary/":function(e,t,n){return function(a,i,s,r){var o=e(a,i,s,r)/t(a,i,s,r);return n?{value:o}:o}},"binary%":function(e,t,n){return function(a,i,s,r){var o=e(a,i,s,r)%t(a,i,s,r);return n?{value:o}:o}},"binary===":function(e,t,n){return function(a,i,s,r){var o=e(a,i,s,r)===t(a,i,s,r);return n?{value:o}:o}},"binary!==":function(e,t,n){return function(a,i,s,r){var o=e(a,i,s,r)!==t(a,i,s,r);return n?{value:o}:o}},"binary==":function(e,t,n){return function(a,i,s,r){var o=e(a,i,s,r)==t(a,i,s,r);return n?{value:o}:o}},"binary!=":function(e,t,n){return function(a,i,s,r){var o=e(a,i,s,r)!=t(a,i,s,r);return n?{value:o}:o}},"binary<":function(e,t,n){return function(a,i,s,r){var o=e(a,i,s,r)<t(a,i,s,r);return n?{value:o}:o}},"binary>":function(e,t,n){return function(a,i,s,r){var o=e(a,i,s,r)>t(a,i,s,r);return n?{value:o}:o}},"binary<=":function(e,t,n){return function(a,i,s,r){var o=e(a,i,s,r)<=t(a,i,s,r);return n?{value:o}:o}},"binary>=":function(e,t,n){return function(a,i,s,r){var o=e(a,i,s,r)>=t(a,i,s,r);return n?{value:o}:o}},"binary&&":function(e,t,n){return function(a,i,s,r){var o=e(a,i,s,r)&&t(a,i,s,r);return n?{value:o}:o}},"binary||":function(e,t,n){return function(a,i,s,r){var o=e(a,i,s,r)||t(a,i,s,r);return n?{value:o}:o}},"ternary?:":function(e,t,n,a){return function(i,s,r,o){var l=e(i,s,r,o)?t(i,s,r,o):n(i,s,r,o);return a?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(a,i,s,r){var o=i&&e in i?i:a;n&&1!==n&&o&&null==o[e]&&(o[e]={});var l=o?o[e]:void 0;return t?{context:o,name:e,value:l}:l}},computedMember:function(e,t,n,a){return function(i,s,r,o){var l,c,d=e(i,s,r,o);return null!=d&&(l=Sa(l=t(i,s,r,o)),a&&1!==a&&d&&!d[l]&&(d[l]={}),c=d[l]),n?{context:d,name:l,value:c}:c}},nonComputedMember:function(e,t,n,a){return function(i,s,r,o){var l=e(i,s,r,o);a&&1!==a&&l&&null==l[t]&&(l[t]={});var c=null!=l?l[t]:void 0;return n?{context:l,name:t,value:c}:c}},inputs:function(e,t){return function(n,a,i,s){return s?s[t]:e(n,a,i)}}},za.prototype={constructor:za,parse:function(e){var t=this.getAst(e),n=this.astCompiler.compile(t.ast);return n.literal=function(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===Ma.Literal||e.body[0].expression.type===Ma.ArrayExpression||e.body[0].expression.type===Ma.ObjectExpression)}(t.ast),n.constant=function(e){return e.constant}(t.ast),n.oneTime=t.oneTime,n},getAst:function(e){var t=!1;return":"===(e=e.trim()).charAt(0)&&":"===e.charAt(1)&&(t=!0,e=e.substring(2)),{ast:this.ast.ast(e),oneTime:t}}};var Za=i("$sce"),Ja={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ei=/_([a-z])/g;function ti(e){return e.replace(ei,nt)}function ni(e){var t=[];return q(e)&&$(e,(function(e){t.push(function(e){if("self"===e)return e;if(j(e)){if(e.indexOf("***")>-1)throw Za("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=te(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(Y(e))return new RegExp("^"+e.source+"$");throw Za("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(e))})),t}function ai(){this.SCE_CONTEXTS=Ja;var t=["self"],n=[];this.trustedResourceUrlList=function(e){return arguments.length&&(t=ni(e)),t},Object.defineProperty(this,"resourceUrlWhitelist",{get:function(){return this.trustedResourceUrlList},set:function(e){this.trustedResourceUrlList=e}}),this.bannedResourceUrlList=function(e){return arguments.length&&(n=ni(e)),n},Object.defineProperty(this,"resourceUrlBlacklist",{get:function(){return this.bannedResourceUrlList},set:function(e){this.bannedResourceUrlList=e}}),this.$get=["$injector","$$sanitizeUri",function(a,i){var s=function(e){throw Za("unsafe","Attempting to use an unsafe value in a safe context.")};function r(t,n){return"self"===t?bi(n,gi)||function(t){return bi(t,function(){if(e.document.baseURI)return e.document.baseURI;fi||((fi=e.document.createElement("a")).href=".",fi=fi.cloneNode(!1));return fi.href}())}(n):!!t.exec(n.href)}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}a.has("$sanitize")&&(s=a.get("$sanitize"));var l=o(),c={};return c[Ja.HTML]=o(l),c[Ja.CSS]=o(l),c[Ja.MEDIA_URL]=o(l),c[Ja.URL]=o(c[Ja.MEDIA_URL]),c[Ja.JS]=o(l),c[Ja.RESOURCE_URL]=o(c[Ja.URL]),{trustAs:function(e,t){var n=c.hasOwnProperty(e)?c[e]:null;if(!n)throw Za("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||U(t)||""===t)return t;if("string"!=typeof t)throw Za("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)},getTrusted:function(e,a){if(null===a||U(a)||""===a)return a;var o=c.hasOwnProperty(e)?c[e]:null;if(o&&a instanceof o)return a.$$unwrapTrustedValue();if(G(a.$$unwrapTrustedValue)&&(a=a.$$unwrapTrustedValue()),e===Ja.MEDIA_URL||e===Ja.URL)return i(a.toString(),e===Ja.MEDIA_URL);if(e===Ja.RESOURCE_URL){if(function(e){var a,i,s=vi(e.toString()),o=!1;for(a=0,i=t.length;a<i;a++)if(r(t[a],s)){o=!0;break}if(o)for(a=0,i=n.length;a<i;a++)if(r(n[a],s)){o=!1;break}return o}(a))return a;throw Za("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",a.toString())}if(e===Ja.HTML)return s(a);throw Za("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof l?e.$$unwrapTrustedValue():e}}}]}function ii(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&s<8)throw Za("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var a=Ge(Ja);a.isEnabled=function(){return e},a.trustAs=n.trustAs,a.getTrusted=n.getTrusted,a.valueOf=n.valueOf,e||(a.trustAs=a.getTrusted=function(e,t){return t},a.valueOf=L),a.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,(function(t){return a.getTrusted(e,t)}))};var i=a.parseAs,r=a.getTrusted,o=a.trustAs;return $(Ja,(function(e,t){var n=p(t);a[ti("parse_as_"+n)]=function(t){return i(e,t)},a[ti("get_trusted_"+n)]=function(t){return r(e,t)},a[ti("trust_as_"+n)]=function(t){return o(e,t)}})),a}]}function si(){this.$get=["$window","$document",function(e,t){var n={},a=!(!(e.nw&&e.nw.process)&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,i=E((/android (\d+)/.exec(p((e.navigator||{}).userAgent))||[])[1]),r=/Boxee/i.test((e.navigator||{}).userAgent),o=t[0]||{},l=o.body&&o.body.style,c=!1,d=!1;return l&&(c=!(!("transition"in l)&&!("webkitTransition"in l)),d=!(!("animation"in l)&&!("webkitAnimation"in l))),{history:!(!a||i<4||r),hasEvent:function(e){if("input"===e&&s)return!1;if(U(n[e])){var t=o.createElement("div");n[e]="on"+e in t}return n[e]},csp:ce(),transitions:c,animations:d,android:i}}]}function ri(){this.$get=I((function(e){return new oi(e)}))}function oi(e){var t=this,n={},a=[],i=t.ALL_TASKS_TYPE="$$all$$",s=t.DEFAULT_TASK_TYPE="$$default$$";function r(){var e=a.pop();return e&&e.cb}function o(e){for(var t=a.length-1;t>=0;--t){var n=a[t];if(n.type===e)return a.splice(t,1),n.cb}}t.completeTask=function(t,a){a=a||s;try{t()}finally{!function(e){e=e||s,n[e]&&(n[e]--,n[i]--)}(a);var l=n[a],c=n[i];if(!c||!l)for(var d,u=c?o:r;d=u(a);)try{d()}catch(t){e.error(t)}}},t.incTaskCount=function(e){n[e=e||s]=(n[e]||0)+1,n[i]=(n[i]||0)+1},t.notifyWhenNoPendingTasks=function(e,t){n[t=t||i]?a.push({type:t,cb:e}):e()}}var li=i("$templateRequest");function ci(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,a,i,s){function r(o,l){r.totalPendingRequests++,j(o)&&!U(n.get(o))||(o=s.getTrustedResourceUrl(o));var c=a.defaults&&a.defaults.transformResponse;return H(c)?c=c.filter((function(e){return e!==Hn})):c===Hn&&(c=null),a.get(o,M({cache:n,transformResponse:c},e)).finally((function(){r.totalPendingRequests--})).then((function(e){return n.put(o,e.data)}),(function(e){l||(e=li("tpload","Failed to load template: {0} (HTTP status: {1} {2})",o,e.status,e.statusText),t(e));return i.reject(e)}))}return r.totalPendingRequests=0,r}]}function di(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var a={findBindings:function(e,t,n){var a=e.getElementsByClassName("ng-binding"),i=[];return $(a,(function(e){var a=y.element(e).data("$binding");a&&$(a,(function(a){n?new RegExp("(^|\\s)"+te(t)+"(\\s|\\||$)").test(a)&&i.push(e):-1!==a.indexOf(t)&&i.push(e)}))})),i},findModels:function(e,t,n){for(var a=["ng-","data-ng-","ng\\:"],i=0;i<a.length;++i){var s="["+a[i]+"model"+(n?"=":"*=")+'"'+t+'"]',r=e.querySelectorAll(s);if(r.length)return r}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}};return a}]}var ui=i("$timeout");function pi(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,a,i){var s={};function r(r,o,l){G(r)||(l=o,o=r,r=R);var c,d=pe(arguments,3),u=q(l)&&!l,p=(u?a:n).defer(),f=p.promise;return c=t.defer((function(){try{p.resolve(r.apply(null,d))}catch(e){p.reject(e),i(e)}finally{delete s[f.$$timeoutId]}u||e.$apply()}),o,"$timeout"),f.$$timeoutId=c,s[c]=p,f}return r.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$timeoutId"))throw ui("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!s.hasOwnProperty(e.$$timeoutId))return!1;var n=e.$$timeoutId,a=s[n];return Ya(a.promise),a.reject("canceled"),delete s[n],t.defer.cancel(n)},r}]}var fi,hi=e.document.createElement("a"),gi=vi(e.location.href);hi.href="http://[::1]";var mi="[::1]"===hi.hostname;function vi(e){if(!j(e))return e;var t=e;s&&(hi.setAttribute("href",t),t=hi.href),hi.setAttribute("href",t);var n=hi.hostname;return!mi&&n.indexOf(":")>-1&&(n="["+n+"]"),{href:hi.href,protocol:hi.protocol?hi.protocol.replace(/:$/,""):"",host:hi.host,search:hi.search?hi.search.replace(/^\?/,""):"",hash:hi.hash?hi.hash.replace(/^#/,""):"",hostname:n,port:hi.port,pathname:"/"===hi.pathname.charAt(0)?hi.pathname:"/"+hi.pathname}}function bi(e,t){return e=vi(e),t=vi(t),e.protocol===t.protocol&&e.host===t.host}function wi(){this.$get=I(e)}function yi(e){var t=e[0]||{},n={},a="";function i(e){try{return decodeURIComponent(e)}catch(t){return e}}return function(){var e,s,r,o,l,c=function(e){try{return e.cookie||""}catch(e){return""}}(t);if(c!==a)for(e=(a=c).split("; "),n={},r=0;r<e.length;r++)(o=(s=e[r]).indexOf("="))>0&&(l=i(s.substring(0,o)),U(n[l])&&(n[l]=i(s.substring(o+1))));return n}}function _i(){this.$get=yi}function xi(e){var t="Filter";function n(a,i){if(z(a)){var s={};return $(a,(function(e,t){s[t]=n(t,e)})),s}return e.factory(a+t,i)}this.register=n,this.$get=["$injector",function(e){return function(n){return e.get(n+t)}}],n("currency",Mi),n("date",Ni),n("filter",$i),n("json",ji),n("limitTo",Hi),n("lowercase",Bi),n("number",Pi),n("orderBy",Gi),n("uppercase",Vi)}function $i(){return function(e,t,n,a){if(!x(e)){if(null==e)return e;throw i("filter")("notarray","Expected array but received: {0}",e)}var s,r;switch(a=a||"$",Si(t)){case"function":s=t;break;case"boolean":case"null":case"number":case"string":r=!0;case"object":s=function(e,t,n,a){var i,s=z(e)&&n in e;!0===t?t=le:G(t)||(t=function(e,t){return!U(e)&&(null===e||null===t?e===t:!(z(t)||z(e)&&!F(e))&&(e=p(""+e),t=p(""+t),-1!==e.indexOf(t)))});return i=function(i){return s&&!z(i)?ki(i,e[n],t,n,!1):ki(i,e,t,n,a)},i}(t,n,a,r);break;default:return e}return Array.prototype.filter.call(e,s)}}function ki(e,t,n,a,i,s){var r=Si(e),o=Si(t);if("string"===o&&"!"===t.charAt(0))return!ki(e,t.substring(1),n,a,i);if(H(e))return e.some((function(e){return ki(e,t,n,a,i)}));switch(r){case"object":var l;if(i){for(l in e)if(l.charAt&&"$"!==l.charAt(0)&&ki(e[l],t,n,a,!0))return!0;return!s&&ki(e,t,n,a,!1)}if("object"===o){for(l in t){var c=t[l];if(!G(c)&&!U(c)){var d=l===a;if(!ki(d?e:e[l],c,n,a,d,d))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Si(e){return null===e?"null":typeof e}yi.$inject=["$document"],xi.$inject=["$provide"];var Ci=22,Ai=".",Ti="0";function Mi(e){var t=e.NUMBER_FORMATS;return function(e,n,a){U(n)&&(n=t.CURRENCY_SYM),U(a)&&(a=t.PATTERNS[1].maxFrac);var i=n?/\u00A4/g:/\s*\u00A4\s*/g;return null==e?e:Ei(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,a).replace(i,n)}}function Pi(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Ei(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Ei(e,t,n,a,i){if(!j(e)&&!B(e)||isNaN(e))return"";var s,r=!isFinite(e),o=!1,l=Math.abs(e)+"",c="";if(r)c="∞";else{s=function(e){var t,n,a,i,s,r=0;for((n=e.indexOf(Ai))>-1&&(e=e.replace(Ai,"")),(a=e.search(/e/i))>0?(n<0&&(n=a),n+=+e.slice(a+1),e=e.substring(0,a)):n<0&&(n=e.length),a=0;e.charAt(a)===Ti;a++);if(a===(s=e.length))t=[0],n=1;else{for(s--;e.charAt(s)===Ti;)s--;for(n-=a,t=[],i=0;a<=s;a++,i++)t[i]=+e.charAt(a)}return n>Ci&&(t=t.splice(0,Ci-1),r=n-1,n=1),{d:t,e:r,i:n}}(l),function(e,t,n,a){var i=e.d,s=i.length-e.i,r=(t=U(t)?Math.min(Math.max(n,s),a):+t)+e.i,o=i[r];if(r>0){i.splice(Math.max(e.i,r));for(var l=r;l<i.length;l++)i[l]=0}else{s=Math.max(0,s),e.i=1,i.length=Math.max(1,r=t+1),i[0]=0;for(var c=1;c<r;c++)i[c]=0}if(o>=5)if(r-1<0){for(var d=0;d>r;d--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[r-1]++;for(;s<Math.max(0,t);s++)i.push(0);var u=i.reduceRight((function(e,t,n,a){return t+=e,a[n]=t%10,Math.floor(t/10)}),0);u&&(i.unshift(u),e.i++)}(s,i,t.minFrac,t.maxFrac);var d=s.d,u=s.i,p=s.e,f=[];for(o=d.reduce((function(e,t){return e&&!t}),!0);u<0;)d.unshift(0),u++;u>0?f=d.splice(u,d.length):(f=d,d=[0]);var h=[];for(d.length>=t.lgSize&&h.unshift(d.splice(-t.lgSize,d.length).join(""));d.length>t.gSize;)h.unshift(d.splice(-t.gSize,d.length).join(""));d.length&&h.unshift(d.join("")),c=h.join(n),f.length&&(c+=a+f.join("")),p&&(c+="e+"+p)}return e<0&&!o?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf}function Di(e,t,n,a){var i="";for((e<0||a&&e<=0)&&(a?e=1-e:(e=-e,i="-")),e=""+e;e.length<t;)e=Ti+e;return n&&(e=e.substr(e.length-t)),i+e}function Oi(e,t,n,a,i){return n=n||0,function(s){var r=s["get"+e]();return(n>0||r>-n)&&(r+=n),0===r&&-12===n&&(r=12),Di(r,t,a,i)}}function Ri(e,t,n){return function(a,i){var s=a["get"+e]();return i[f((n?"STANDALONE":"")+(t?"SHORT":"")+e)][s]}}function Li(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function Ii(e){return function(t){var n,a=Li(t.getFullYear()),i=+(n=t,new Date(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay())))-+a;return Di(1+Math.round(i/6048e5),e)}}function Fi(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}Mi.$inject=["$locale"],Pi.$inject=["$locale"];var Ui={yyyy:Oi("FullYear",4,0,!1,!0),yy:Oi("FullYear",2,0,!0,!0),y:Oi("FullYear",1,0,!1,!0),MMMM:Ri("Month"),MMM:Ri("Month",!0),MM:Oi("Month",2,1),M:Oi("Month",1,1),LLLL:Ri("Month",!1,!0),dd:Oi("Date",2),d:Oi("Date",1),HH:Oi("Hours",2),H:Oi("Hours",1),hh:Oi("Hours",2,-12),h:Oi("Hours",1,-12),mm:Oi("Minutes",2),m:Oi("Minutes",1),ss:Oi("Seconds",2),s:Oi("Seconds",1),sss:Oi("Milliseconds",3),EEEE:Ri("Day"),EEE:Ri("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){var a=-1*n,i=a>=0?"+":"";return i+=Di(Math[a>0?"floor":"ceil"](a/60),2)+Di(Math.abs(a%60),2)},ww:Ii(2),w:Ii(1),G:Fi,GG:Fi,GGG:Fi,GGGG:function(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}},qi=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,zi=/^-?\d+$/;function Ni(e){var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,a,i){var s,r,o="",l=[];if(a=a||"mediumDate",a=e.DATETIME_FORMATS[a]||a,j(n)&&(n=zi.test(n)?E(n):function(e){var n;if(n=e.match(t)){var a=new Date(0),i=0,s=0,r=n[8]?a.setUTCFullYear:a.setFullYear,o=n[8]?a.setUTCHours:a.setHours;n[9]&&(i=E(n[9]+n[10]),s=E(n[9]+n[11])),r.call(a,E(n[1]),E(n[2])-1,E(n[3]));var l=E(n[4]||0)-i,c=E(n[5]||0)-s,d=E(n[6]||0),u=Math.round(1e3*parseFloat("0."+(n[7]||0)));return o.call(a,l,c,d,u),a}return e}(n)),B(n)&&(n=new Date(n)),!V(n)||!isFinite(n.getTime()))return n;for(;a;)(r=qi.exec(a))?a=(l=ue(l,r,1)).pop():(l.push(a),a=null);var c=n.getTimezoneOffset();return i&&(c=be(i,c),n=ye(n,i,!0)),$(l,(function(t){s=Ui[t],o+=s?s(n,e.DATETIME_FORMATS,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),o}}function ji(){return function(e,t){return U(t)&&(t=2),ge(e,t)}}Ni.$inject=["$locale"];var Bi=I(p),Vi=I(f);function Hi(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):E(t),D(t)?e:(B(e)&&(e=e.toString()),x(e)?(n=(n=!n||isNaN(n)?0:E(n))<0?Math.max(0,e.length+n):n,t>=0?Wi(e,n,n+t):0===n?Wi(e,t,e.length):Wi(e,Math.max(0,n+t),n)):e)}}function Wi(e,t,n){return j(e)?e.slice(t,n):h.call(e,t,n)}function Gi(e){return function(a,s,r,o){if(null==a)return a;if(!x(a))throw i("orderBy")("notarray","Expected array but received: {0}",a);H(s)||(s=[s]),0===s.length&&(s=["+"]);var l=s.map((function(t){var n=1,a=L;if(G(t))a=t;else if(j(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(a=e(t)).constant)){var i=a();a=function(e){return e[i]}}return{get:a,descending:n}})),c=r?-1:1,d=G(o)?o:n,u=Array.prototype.map.call(a,(function(e,n){return{value:e,tieBreaker:{value:n,type:"number",index:n},predicateValues:l.map((function(a){return function(e,n){var a=typeof e;null===e?a="null":"object"===a&&(e=function(e){if(G(e.valueOf)&&t(e=e.valueOf()))return e;if(F(e)&&t(e=e.toString()))return e;return e}(e));return{value:e,type:a,index:n}}(a.get(e),n)}))}}));return u.sort((function(e,t){for(var a=0,i=l.length;a<i;a++){var s=d(e.predicateValues[a],t.predicateValues[a]);if(s)return s*l[a].descending*c}return(d(e.tieBreaker,t.tieBreaker)||n(e.tieBreaker,t.tieBreaker))*c})),a=u.map((function(e){return e.value}))};function t(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function n(e,t){var n=0,a=e.type,i=t.type;if(a===i){var s=e.value,r=t.value;"string"===a?(s=s.toLowerCase(),r=r.toLowerCase()):"object"===a&&(z(s)&&(s=e.index),z(r)&&(r=t.index)),s!==r&&(n=s<r?-1:1)}else n="undefined"===a?1:"undefined"===i?-1:"null"===a?1:"null"===i||a<i?-1:1;return n}}function Yi(e){return G(e)&&(e={link:e}),e.restrict=e.restrict||"AC",I(e)}Gi.$inject=["$parse"];var Ki=I({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===v.call(t.prop("href"))?"xlink:href":"href";t.on("click",(function(e){t.attr(n)||e.preventDefault()}))}}}}),Qi={};$(It,(function(e,t){if("multiple"!==e){var n=Sn("ng-"+t),a=i;"checked"===e&&(a=function(e,t,a){a.ngModel!==a[n]&&i(e,0,a)}),Qi[n]=function(){return{restrict:"A",priority:100,link:a}}}function i(e,a,i){e.$watch(i[n],(function(e){i.$set(t,!!e)}))}})),$(Ut,(function(e,t){Qi[t]=function(){return{priority:100,link:function(e,n,a){if("ngPattern"===t&&"/"===a.ngPattern.charAt(0)){var i=a.ngPattern.match(c);if(i)return void a.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(a[t],(function(e){a.$set(t,e)}))}}}})),$(["src","srcset","href"],(function(e){var t=Sn("ng-"+e);Qi[t]=["$sce",function(n){return{priority:99,link:function(a,i,r){var o=e,l=e;"href"===e&&"[object SVGAnimatedString]"===v.call(i.prop("href"))&&(l="xlinkHref",r.$attr[l]="xlink:href",o=null),r.$set(t,n.getTrustedMediaUrl(r[t])),r.$observe(t,(function(t){t?(r.$set(l,t),s&&o&&i.prop(o,r[l])):"href"===e&&r.$set(l,null)}))}}}]}));var Xi={$addControl:R,$getControls:I([]),$$renameControl:function(e,t){e.$name=t},$removeControl:R,$setValidity:R,$setDirty:R,$setPristine:R,$setSubmitted:R,$$setSubmitted:R},Zi="ng-pending",Ji="ng-submitted";function es(e,t,n,a,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Xi,this.$$element=e,this.$$animate=a,is(this)}es.$inject=["$element","$attrs","$scope","$animate","$interpolate"],es.prototype={$rollbackViewValue:function(){$(this.$$controls,(function(e){e.$rollbackViewValue()}))},$commitViewValue:function(){$(this.$$controls,(function(e){e.$commitViewValue()}))},$addControl:function(e){Ue(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$getControls:function(){return Ge(this.$$controls)},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],$(this.$pending,(function(t,n){this.$setValidity(n,null,e)}),this),$(this.$error,(function(t,n){this.$setValidity(n,null,e)}),this),$(this.$$success,(function(t,n){this.$setValidity(n,null,e)}),this),se(this.$$controls,e),e.$$parentForm=Xi},$setDirty:function(){this.$$animate.removeClass(this.$$element,er),this.$$animate.addClass(this.$$element,tr),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,er,tr+" "+Ji),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,$(this.$$controls,(function(e){e.$setPristine()}))},$setUntouched:function(){$(this.$$controls,(function(e){e.$setUntouched()}))},$setSubmitted:function(){for(var e=this;e.$$parentForm&&e.$$parentForm!==Xi;)e=e.$$parentForm;e.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,Ji),this.$submitted=!0,$(this.$$controls,(function(e){e.$$setSubmitted&&e.$$setSubmitted()}))}},ss({clazz:es,set:function(e,t,n){var a=e[t];a?-1===a.indexOf(n)&&a.push(n):e[t]=[n]},unset:function(e,t,n){var a=e[t];a&&(se(a,n),0===a.length&&delete e[t])}});var ts=function(e){return["$timeout","$parse",function(t,n){return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:es,compile:function(n,i){n.addClass(er).addClass(Zs);var s=i.name?"name":!(!e||!i.ngForm)&&"ngForm";return{pre:function(e,n,i,r){var o=r[0];if(!("action"in i)){var l=function(t){e.$apply((function(){o.$commitViewValue(),o.$setSubmitted()})),t.preventDefault()};n[0].addEventListener("submit",l),n.on("$destroy",(function(){t((function(){n[0].removeEventListener("submit",l)}),0,!1)}))}(r[1]||o.$$parentForm).$addControl(o);var c=s?a(o.$name):R;s&&(c(e,o),i.$observe(s,(function(t){o.$name!==t&&(c(e,void 0),o.$$parentForm.$$renameControl(o,t),(c=a(o.$name))(e,o))}))),n.on("$destroy",(function(){o.$$parentForm.$removeControl(o),c(e,void 0),M(o,Xi)}))}}}};function a(e){return""===e?n('this[""]').assign:n(e).assign||R}}]},ns=ts(),as=ts(!0);function is(e){e.$$classCache={},e.$$classCache[Js]=!(e.$$classCache[Zs]=e.$$element.hasClass(Zs))}function ss(e){var t=e.clazz,n=e.set,a=e.unset;function i(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function s(e,t,n){t=t?"-"+Oe(t,"-"):"",i(e,Zs+t,!0===n),i(e,Js+t,!1===n)}t.prototype.$setValidity=function(e,t,r){var o;U(t)?function(e,t,a,i){e[t]||(e[t]={});n(e[t],a,i)}(this,"$pending",e,r):function(e,t,n,i){e[t]&&a(e[t],n,i);rs(e[t])&&(e[t]=void 0)}(this,"$pending",e,r),X(t)?t?(a(this.$error,e,r),n(this.$$success,e,r)):(n(this.$error,e,r),a(this.$$success,e,r)):(a(this.$error,e,r),a(this.$$success,e,r)),this.$pending?(i(this,Zi,!0),this.$valid=this.$invalid=void 0,s(this,"",null)):(i(this,Zi,!1),this.$valid=rs(this.$error),this.$invalid=!this.$valid,s(this,"",this.$valid)),s(this,e,o=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null)),this.$$parentForm.$setValidity(e,o,this)}}function rs(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var os=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,ls=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,cs=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,ds=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,us=/^(\d{4,})-(\d{2})-(\d{2})$/,ps=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,fs=/^(\d{4,})-W(\d\d)$/,hs=/^(\d{4,})-(\d\d)$/,gs=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ms="keydown wheel mousedown",vs=ze();$("date,datetime-local,month,time,week".split(","),(function(e){vs[e]=!0}));var bs={text:function(e,t,n,a,i,s){ys(e,t,n,a,i,s),ws(a)},date:xs("date",us,_s(us,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":xs("datetimelocal",ps,_s(ps,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:xs("time",gs,_s(gs,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:xs("week",fs,(function(e,t){if(V(e))return e;if(j(e)){fs.lastIndex=0;var n=fs.exec(e);if(n){var a=+n[1],i=+n[2],s=0,r=0,o=0,l=0,c=Li(a),d=7*(i-1);return t&&(s=t.getHours(),r=t.getMinutes(),o=t.getSeconds(),l=t.getMilliseconds()),new Date(a,0,c.getDate()+d,s,r,o,l)}}return NaN}),"yyyy-Www"),month:xs("month",hs,_s(hs,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,a,i,s,r,o){var l;if($s(e,t,n,a,"number"),ks(a),ys(e,t,n,a,i,s),q(n.min)||n.ngMin){var c=n.min||o(n.ngMin)(e);l=Ss(c),a.$validators.min=function(e,t){return a.$isEmpty(t)||U(l)||t>=l},n.$observe("min",(function(e){e!==c&&(l=Ss(e),c=e,a.$validate())}))}if(q(n.max)||n.ngMax){var d=n.max||o(n.ngMax)(e),u=Ss(d);a.$validators.max=function(e,t){return a.$isEmpty(t)||U(u)||t<=u},n.$observe("max",(function(e){e!==d&&(u=Ss(e),d=e,a.$validate())}))}if(q(n.step)||n.ngStep){var p=n.step||o(n.ngStep)(e),f=Ss(p);a.$validators.step=function(e,t){return a.$isEmpty(t)||U(f)||Ts(t,l||0,f)},n.$observe("step",(function(e){e!==p&&(f=Ss(e),p=e,a.$validate())}))}},url:function(e,t,n,a,i,s){ys(e,t,n,a,i,s),ws(a),a.$validators.url=function(e,t){var n=e||t;return a.$isEmpty(n)||ls.test(n)}},email:function(e,t,n,a,i,s){ys(e,t,n,a,i,s),ws(a),a.$validators.email=function(e,t){var n=e||t;return a.$isEmpty(n)||cs.test(n)}},radio:function(e,t,n,a){var i=!n.ngTrim||"false"!==ee(n.ngTrim);U(n.name)&&t.attr("name",C());t.on("change",(function(e){var s;t[0].checked&&(s=n.value,i&&(s=ee(s)),a.$setViewValue(s,e&&e.type))})),a.$render=function(){var e=n.value;i&&(e=ee(e)),t[0].checked=e===a.$viewValue},n.$observe("value",a.$render)},range:function(e,t,n,a,i,s){$s(e,t,n,a,"range"),ks(a),ys(e,t,n,a,i,s);var r=a.$$hasNativeValidators&&"range"===t[0].type,o=r?0:void 0,l=r?100:void 0,c=r?1:void 0,d=t[0].validity,u=q(n.min),p=q(n.max),f=q(n.step),h=a.$render;a.$render=r&&q(d.rangeUnderflow)&&q(d.rangeOverflow)?function(){h(),a.$setViewValue(t.val())}:h,u&&(o=Ss(n.min),a.$validators.min=r?function(){return!0}:function(e,t){return a.$isEmpty(t)||U(o)||t>=o},g("min",(function(e){if(o=Ss(e),D(a.$modelValue))return;if(r){var n=t.val();o>n&&(n=o,t.val(n)),a.$setViewValue(n)}else a.$validate()})));p&&(l=Ss(n.max),a.$validators.max=r?function(){return!0}:function(e,t){return a.$isEmpty(t)||U(l)||t<=l},g("max",(function(e){if(l=Ss(e),D(a.$modelValue))return;if(r){var n=t.val();l<n&&(t.val(l),n=l<o?o:l),a.$setViewValue(n)}else a.$validate()})));f&&(c=Ss(n.step),a.$validators.step=r?function(){return!d.stepMismatch}:function(e,t){return a.$isEmpty(t)||U(c)||Ts(t,o||0,c)},g("step",(function(e){if(c=Ss(e),D(a.$modelValue))return;r?a.$viewValue!==t.val()&&a.$setViewValue(t.val()):a.$validate()})));function g(e,a){t.attr(e,n[e]);var i=n[e];n.$observe(e,(function(e){e!==i&&(i=e,a(e))}))}},checkbox:function(e,t,n,a,i,s,r,o){var l=Ms(o,e,"ngTrueValue",n.ngTrueValue,!0),c=Ms(o,e,"ngFalseValue",n.ngFalseValue,!1);t.on("change",(function(e){a.$setViewValue(t[0].checked,e&&e.type)})),a.$render=function(){t[0].checked=a.$viewValue},a.$isEmpty=function(e){return!1===e},a.$formatters.push((function(e){return le(e,l)})),a.$parsers.push((function(e){return e?l:c}))},hidden:R,button:R,submit:R,reset:R,file:R};function ws(e){e.$formatters.push((function(t){return e.$isEmpty(t)?t:t.toString()}))}function ys(e,t,n,a,i,s){var r,o=p(t[0].type);if(!i.android){var l=!1;t.on("compositionstart",(function(){l=!0})),t.on("compositionupdate",(function(e){(U(e.data)||""===e.data)&&(l=!1)})),t.on("compositionend",(function(){l=!1,c()}))}var c=function(e){if(r&&(s.defer.cancel(r),r=null),!l){var i=t.val(),c=e&&e.type;"password"===o||n.ngTrim&&"false"===n.ngTrim||(i=ee(i)),(a.$viewValue!==i||""===i&&a.$$hasNativeValidators)&&a.$setViewValue(i,c)}};if(i.hasEvent("input"))t.on("input",c);else{var u=function(e,t,n){r||(r=s.defer((function(){r=null,t&&t.value===n||c(e)})))};t.on("keydown",(function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||u(e,this,this.value)})),i.hasEvent("paste")&&t.on("paste cut drop",u)}t.on("change",c),vs[o]&&a.$$hasNativeValidators&&o===n.type&&t.on(ms,(function(e){if(!r){var t=this[d],n=t.badInput,a=t.typeMismatch;r=s.defer((function(){r=null,t.badInput===n&&t.typeMismatch===a||c(e)}))}})),a.$render=function(){var e=a.$isEmpty(a.$viewValue)?"":a.$viewValue;t.val()!==e&&t.val(e)}}function _s(e,t){return function(n,a){var i,s;if(V(n))return n;if(j(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),os.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n)){i.shift(),s=a?{yyyy:a.getFullYear(),MM:a.getMonth()+1,dd:a.getDate(),HH:a.getHours(),mm:a.getMinutes(),ss:a.getSeconds(),sss:a.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},$(i,(function(e,n){n<t.length&&(s[t[n]]=+e)}));var r=new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0);return s.yyyy<100&&r.setFullYear(s.yyyy),r}}return NaN}}function xs(e,t,n,a){return function(i,s,r,o,l,c,d,u){$s(i,s,r,o,e),ys(0,s,r,o,l,c);var p,f,h="time"===e||"datetimelocal"===e;if(o.$parsers.push((function(n){return o.$isEmpty(n)?null:t.test(n)?_(n,p):void(o.$$parserName=e)})),o.$formatters.push((function(e){if(e&&!V(e))throw rr("datefmt","Expected `{0}` to be a date",e);if(w(e)){p=e;var t=o.$options.getOption("timezone");return t&&(f=t,p=ye(p,t,!0)),function(e,t){var n=a;h&&j(o.$options.getOption("timeSecondsFormat"))&&(n=a.replace("ss.sss",o.$options.getOption("timeSecondsFormat")).replace(/:$/,""));var i=d("date")(e,n,t);h&&o.$options.getOption("timeStripZeroSeconds")&&(i=i.replace(/(?::00)?(?:\.000)?$/,""));return i}(e,t)}return p=null,f=null,""})),q(r.min)||r.ngMin){var g=r.min||u(r.ngMin)(i),m=y(g);o.$validators.min=function(e){return!w(e)||U(m)||n(e)>=m},r.$observe("min",(function(e){e!==g&&(m=y(e),g=e,o.$validate())}))}if(q(r.max)||r.ngMax){var v=r.max||u(r.ngMax)(i),b=y(v);o.$validators.max=function(e){return!w(e)||U(b)||n(e)<=b},r.$observe("max",(function(e){e!==v&&(b=y(e),v=e,o.$validate())}))}function w(e){return e&&!(e.getTime&&e.getTime()!=e.getTime())}function y(e){return q(e)&&!V(e)?_(e)||void 0:e}function _(e,t){var a=o.$options.getOption("timezone");f&&f!==a&&(t=we(t,be(f)));var i=n(e,t);return!isNaN(i)&&a&&(i=ye(i,a)),i}}}function $s(e,t,n,a,i){var s=t[0];(a.$$hasNativeValidators=z(s.validity))&&a.$parsers.push((function(e){var n=t.prop(d)||{};if(!n.badInput&&!n.typeMismatch)return e;a.$$parserName=i}))}function ks(e){e.$parsers.push((function(t){return e.$isEmpty(t)?null:ds.test(t)?parseFloat(t):void(e.$$parserName="number")})),e.$formatters.push((function(t){if(!e.$isEmpty(t)){if(!B(t))throw rr("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}))}function Ss(e){return q(e)&&!B(e)&&(e=parseFloat(e)),D(e)?void 0:e}function Cs(e){return(0|e)===e}function As(e){var t=e.toString(),n=t.indexOf(".");if(-1===n){if(-1<e&&e<1){var a=/e-(\d+)$/.exec(t);if(a)return Number(a[1])}return 0}return t.length-n-1}function Ts(e,t,n){var a=Number(e),i=!Cs(a),s=!Cs(t),r=!Cs(n);if(i||s||r){var o=i?As(a):0,l=s?As(t):0,c=r?As(n):0,d=Math.max(o,l,c),u=Math.pow(10,d);a*=u,t*=u,n*=u,i&&(a=Math.round(a)),s&&(t=Math.round(t)),r&&(n=Math.round(n))}return(a-t)%n==0}function Ms(e,t,n,a,i){var s;if(q(a)){if(!(s=e(a)).constant)throw rr("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,a);return s(t)}return i}var Ps=["$browser","$sniffer","$filter","$parse",function(e,t,n,a){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,s,r,o){o[0]&&(bs[p(r.type)]||bs.text)(i,s,r,o[0],t,e,n,a)}}}}],Es=function(){var e={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(e){this.setAttribute("value",e)}};return{restrict:"E",priority:200,compile:function(t,n){if("hidden"===p(n.type))return{pre:function(t,n,a,i){var s=n[0];s.parentNode&&s.parentNode.insertBefore(s,s.nextSibling),Object.defineProperty&&Object.defineProperty(s,"value",e)}}}}},Ds=/^(true|false|\d+)$/,Os=function(){function e(e,t,n){var a=q(n)?n:9===s?"":null;e.prop("value",a),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,n){return Ds.test(n.ngValue)?function(t,n,a){e(n,a,t.$eval(a.ngValue))}:function(t,n,a){t.$watch(a.ngValue,(function(t){e(n,a,t)}))}}}},Rs=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,a){e.$$addBindingInfo(n,a.ngBind),n=n[0],t.$watch(a.ngBind,(function(e){n.textContent=Ne(e)}))}}}}],Ls=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,a,i){var s=e(a.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(a,s.expressions),a=a[0],i.$observe("ngBindTemplate",(function(e){a.textContent=U(e)?"":e}))}}}}],Is=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(a,i){var s=t(i.ngBindHtml),r=t(i.ngBindHtml,(function(t){return e.valueOf(t)}));return n.$$addBindingClass(a),function(t,a,i){n.$$addBindingInfo(a,i.ngBindHtml),t.$watch(r,(function(){var n=s(t);a.html(e.getTrustedHtml(n)||"")}))}}}}],Fs=I({restrict:"A",require:"ngModel",link:function(e,t,n,a){a.$viewChangeListeners.push((function(){e.$eval(n.ngChange)}))}});function Us(e,t){var n;return e="ngClass"+e,["$parse",function(r){return{restrict:"AC",link:function(o,l,c){var d,u=l.data("$classCounts"),p=!0;function f(e,t){var n=[];return $(e,(function(e){(t>0||u[e])&&(u[e]=(u[e]||0)+t,u[e]===+(t>0)&&n.push(e))})),n.join(" ")}u||(u=ze(),l.data("$classCounts",u)),"ngClass"!==e&&(n||(n=r("$index",(function(e){return 1&e}))),o.$watch(n,(function(e){e===t?(n=f(i(n=d),1),c.$addClass(n)):function(e){e=f(i(e),-1),c.$removeClass(e)}(d);var n;p=e}))),o.$watch(r(c[e],s),(function(e){p===t&&function(e,t){var n=i(e),s=i(t),r=a(n,s),o=a(s,n),l=f(r,-1),d=f(o,1);c.$addClass(d),c.$removeClass(l)}(d,e);d=e}))}}}];function a(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var a=0;a<e.length;a++){for(var i=e[a],s=0;s<t.length;s++)if(i===t[s])continue e;n.push(i)}return n}function i(e){return e&&e.split(" ")}function s(e){if(!e)return e;var t=e;return H(e)?t=e.map(s).join(" "):z(e)?t=Object.keys(e).filter((function(t){return e[t]})).join(" "):j(e)||(t=e+""),t}}var qs=Us("",!0),zs=Us("Odd",0),Ns=Us("Even",1),js=Yi({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Bs=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Vs={},Hs={blur:!0,focus:!0};function Ws(e,t,n,a,i,s){return{restrict:"A",compile:function(r,o){var l=e(o[a]);return function(e,a){a.on(i,(function(a){var i=function(){l(e,{$event:a})};if(t.$$phase)if(s)e.$evalAsync(i);else try{i()}catch(e){n(e)}else e.$apply(i)}))}}}}$("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),(function(e){var t=Sn("ng-"+e);Vs[t]=["$parse","$rootScope","$exceptionHandler",function(n,a,i){return Ws(n,a,i,t,e,Hs[e])}]}));var Gs=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,a,i,s,r){var o,l,c;n.$watch(i.ngIf,(function(n){n?l||r((function(n,s){l=s,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),o={clone:n},e.enter(n,a.parent(),a)})):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),o&&(c=qe(o.clone),e.leave(c).done((function(e){!1!==e&&(c=null)})),o=null))}))}}}],Ys=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:y.noop,compile:function(a,i){var s=i.ngInclude||i.src,r=i.onload||"",o=i.autoscroll;return function(a,i,l,c,d){var u,p,f,h=0,g=function(){p&&(p.remove(),p=null),u&&(u.$destroy(),u=null),f&&(n.leave(f).done((function(e){!1!==e&&(p=null)})),p=f,f=null)};a.$watch(s,(function(s){var l=function(e){!1===e||!q(o)||o&&!a.$eval(o)||t()},p=++h;s?(e(s,!0).then((function(e){if(!a.$$destroyed&&p===h){var t=a.$new();c.template=e;var o=d(t,(function(e){g(),n.enter(e,null,i).done(l)}));f=o,(u=t).$emit("$includeContentLoaded",s),a.$eval(r)}}),(function(){a.$$destroyed||p===h&&(g(),a.$emit("$includeContentError",s))})),a.$emit("$includeContentRequested",s)):(g(),c.template=null)}))}}}}],Ks=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,a,i,s){if(v.call(a[0]).match(/SVG/))return a.empty(),void t(gt(s.template,e.document).childNodes)(n,(function(e){a.append(e)}),{futureParentElement:a});a.html(s.template),t(a.contents())(n)}}}],Qs=Yi({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Xs=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,a){var i=n.ngList||", ",s="false"!==n.ngTrim,r=s?ee(i):i;a.$parsers.push((function(e){if(!U(e)){var t=[];return e&&$(e.split(r),(function(e){e&&t.push(s?ee(e):e)})),t}})),a.$formatters.push((function(e){if(H(e))return e.join(i)})),a.$isEmpty=function(e){return!e||!e.length}}}},Zs="ng-valid",Js="ng-invalid",er="ng-pristine",tr="ng-dirty",nr="ng-untouched",ar="ng-touched",ir="ng-empty",sr="ng-not-empty",rr=i("ngModel");function or(e,t,n,a,i,s,r,o,l){var c;this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=Xi,this.$options=lr,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=e,this.$$rootScope=e.$root,this.$$attr=n,this.$$element=a,this.$$animate=s,this.$$timeout=r,this.$$parse=i,this.$$q=o,this.$$exceptionHandler=t,is(this),(c=this).$$scope.$watch((function(e){var t=c.$$ngModelGet(e);return t===c.$modelValue||c.$modelValue!=c.$modelValue&&t!=t||c.$$setModelValue(t),t}))}or.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],or.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return G(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){G(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw rr("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,_e(this.$$element))},$render:R,$isEmpty:function(e){return U(e)||""===e||null===e||e!=e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,sr),this.$$animate.addClass(this.$$element,ir)):(this.$$animate.removeClass(this.$$element,ir),this.$$animate.addClass(this.$$element,sr))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,tr),this.$$animate.addClass(this.$$element,er)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,er),this.$$animate.addClass(this.$$element,tr),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,nr,ar)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,ar,nr)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!D(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,a=this.$modelValue,i=this.$options.getOption("allowInvalid"),s=this;this.$$runValidators(t,e,(function(e){i||n===e||(s.$modelValue=e?t:void 0,s.$modelValue!==a&&s.$$writeModelToScope())}))}},$$runValidators:function(e,t,n){this.$$currentValidationRunId++;var a,i,s=this.$$currentValidationRunId,r=this;(function(){var e=r.$$parserName;if(!U(r.$$parserValid))return r.$$parserValid||($(r.$validators,(function(e,t){o(t,null)})),$(r.$asyncValidators,(function(e,t){o(t,null)}))),o(e,r.$$parserValid),r.$$parserValid;o(e,null);return!0})()?!function(){var n=!0;if($(r.$validators,(function(a,i){var s=Boolean(a(e,t));n=n&&s,o(i,s)})),!n)return $(r.$asyncValidators,(function(e,t){o(t,null)})),!1;return!0}()?l(!1):(a=[],i=!0,$(r.$asyncValidators,(function(n,s){var r=n(e,t);if(!Z(r))throw rr("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",r);o(s,void 0),a.push(r.then((function(){o(s,!0)}),(function(){i=!1,o(s,!1)})))})),a.length?r.$$q.all(a).then((function(){l(i)}),R):l(!0)):l(!1);function o(e,t){s===r.$$currentValidationRunId&&r.$setValidity(e,t)}function l(e){s===r.$$currentValidationRunId&&n(e)}},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var e=this.$$lastCommittedViewValue,t=this;if(this.$$parserValid=!U(e)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var n=0;n<this.$parsers.length;n++)if(U(e=this.$parsers[n](e))){this.$$parserValid=!1;break}D(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var a=this.$modelValue,i=this.$options.getOption("allowInvalid");function s(){t.$modelValue!==a&&t.$$writeModelToScope()}this.$$rawModelValue=e,i&&(this.$modelValue=e,s()),this.$$runValidators(e,this.$$lastCommittedViewValue,(function(n){i||(t.$modelValue=n?e:void 0,s())}))},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),$(this.$viewChangeListeners,(function(e){try{e()}catch(e){this.$$exceptionHandler(e)}}),this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");B(t[e])?t=t[e]:B(t.default)&&-1===this.$options.getOption("updateOn").indexOf(e)?t=t.default:B(t["*"])&&(t=t["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;t>0?this.$$pendingDebounce=this.$$timeout((function(){n.$commitViewValue()}),t):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply((function(){n.$commitViewValue()}))},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e),this.$$setUpdateOnEvents()},$processModelValue:function(){var e=this.$$format();this.$viewValue!==e&&(this.$$updateEmptyClasses(e),this.$viewValue=this.$$lastCommittedViewValue=e,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,R))},$$format:function(){for(var e=this.$formatters,t=e.length,n=this.$modelValue;t--;)n=e[t](n);return n},$$setModelValue:function(e){this.$modelValue=this.$$rawModelValue=e,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(e){this.$$debounceViewValueCommit(e&&e.type)}},ss({clazz:or,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var lr,cr=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:or,priority:1,compile:function(t){return t.addClass(er).addClass(nr).addClass(Zs),{pre:function(e,t,n,a){var i=a[0],s=a[1]||i.$$parentForm,r=a[2];r&&(i.$options=r.$options),i.$$initGetterSetters(),s.$addControl(i),n.$observe("name",(function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)})),e.$on("$destroy",(function(){i.$$parentForm.$removeControl(i)}))},post:function(t,n,a,i){var s=i[0];function r(){s.$setTouched()}s.$$setUpdateOnEvents(),n.on("blur",(function(){s.$touched||(e.$$phase?t.$evalAsync(r):t.$apply(r))}))}}}}}],dr=/(\s+|^)default(\s+|$)/;function ur(e){this.$$options=e}ur.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return $(e=M({},e),(function(n,a){"$inherit"===n?"*"===a?t=!0:(e[a]=this.$$options[a],"updateOn"===a&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===a&&(e.updateOnDefault=!1,e[a]=ee(n.replace(dr,(function(){return e.updateOnDefault=!0," "}))))}),this),t&&(delete e["*"],fr(e,this.$$options)),fr(e,lr.$$options),new ur(e)}},lr=new ur({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var pr=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:lr,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}};function fr(e,t){$(t,(function(t,n){q(e[n])||(e[n]=t)}))}var hr=Yi({terminal:!0,priority:1e3}),gr=i("ngOptions"),mr=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,vr=["$compile","$document","$parse",function(t,n,a){var i=e.document.createElement("option"),s=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,a){a[0].registerOption=R},post:function(e,o,l,c){for(var d=c[0],u=c[1],p=l.multiple,f=0,h=o.children(),g=h.length;f<g;f++)if(""===h[f].value){d.hasEmptyOption=!0,d.emptyOption=h.eq(f);break}o.empty();var m,v=!!d.emptyOption;r(i.cloneNode(!1)).val("?");var b=function(e,t,n){var i=e.match(mr);if(!i)throw gr("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,_e(t));var s=i[5]||i[7],r=i[6],o=/ as /.test(i[0])&&i[1],l=i[9],c=a(i[2]?i[1]:s),d=o&&a(o)||c,u=l&&a(l),p=l?function(e,t){return u(n,t)}:function(e){return Bt(e)},f=function(e,t){return p(e,w(e,t))},h=a(i[2]||i[1]),g=a(i[3]||""),m=a(i[4]||""),v=a(i[8]),b={},w=r?function(e,t){return b[r]=t,b[s]=e,b}:function(e){return b[s]=e,b};function y(e,t,n,a,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=a,this.disabled=i}function _(e){var t;if(!r&&x(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n);return t}return{trackBy:l,getTrackByValue:f,getWatchables:a(v,(function(e){for(var t=[],a=_(e=e||[]),s=a.length,r=0;r<s;r++){var o=e===a?r:a[r],l=e[o],c=w(l,o),d=p(l,c);if(t.push(d),i[2]||i[1]){var u=h(n,c);t.push(u)}if(i[4]){var f=m(n,c);t.push(f)}}return t})),getOptions:function(){for(var e=[],t={},a=v(n)||[],i=_(a),s=i.length,r=0;r<s;r++){var o=a===i?r:i[r],c=a[o],u=w(c,o),b=d(n,u),x=p(b,u),$=new y(x,b,h(n,u),g(n,u),m(n,u));e.push($),t[x]=$}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[f(e)]},getViewValueFromOption:function(e){return l?re(e.viewValue):e.viewValue}}}}}(l.ngOptions,o,e),w=n[0].createDocumentFragment();function y(e,t){var n=i.cloneNode(!1);t.appendChild(n),function(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label);t.value=e.selectValue}(e,n)}function _(e){var t=m.getOptionFromViewValue(e),n=t&&t.element;return n&&!n.selected&&(n.selected=!0),t}d.generateUnknownOptionValue=function(e){return"?"},p?(d.writeValue=function(e){if(m){var t=e&&e.map(_)||[];m.items.forEach((function(e){e.element.selected&&!ie(t,e)&&(e.element.selected=!1)}))}},d.readValue=function(){var e=o.val()||[],t=[];return $(e,(function(e){var n=m.selectValueMap[e];n&&!n.disabled&&t.push(m.getViewValueFromOption(n))})),t},b.trackBy&&e.$watchCollection((function(){if(H(u.$viewValue))return u.$viewValue.map((function(e){return b.getTrackByValue(e)}))}),(function(){u.$render()}))):(d.writeValue=function(e){if(m){var t=o[0].options[o[0].selectedIndex],n=m.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),n?(o[0].value!==n.selectValue&&(d.removeUnknownOption(),o[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):d.selectUnknownOrEmptyOption(e)}},d.readValue=function(){var e=m.selectValueMap[o.val()];return e&&!e.disabled?(d.unselectEmptyOption(),d.removeUnknownOption(),m.getViewValueFromOption(e)):null},b.trackBy&&e.$watch((function(){return b.getTrackByValue(u.$viewValue)}),(function(){u.$render()}))),v&&(t(d.emptyOption)(e),o.prepend(d.emptyOption),d.emptyOption[0].nodeType===Ve?(d.hasEmptyOption=!1,d.registerOption=function(e,t){""===t.val()&&(d.hasEmptyOption=!0,d.emptyOption=t,d.emptyOption.removeClass("ng-scope"),u.$render(),t.on("$destroy",(function(){var e=d.$isEmptyOptionSelected();d.hasEmptyOption=!1,d.emptyOption=void 0,e&&u.$render()})))}):d.emptyOption.removeClass("ng-scope")),e.$watchCollection(b.getWatchables,(function(){var e=m&&d.readValue();if(m)for(var t=m.items.length-1;t>=0;t--){var n=m.items[t];q(n.group)?Ot(n.element.parentNode):Ot(n.element)}m=b.getOptions();var a={};if(m.items.forEach((function(e){var t;q(e.group)?((t=a[e.group])||(t=s.cloneNode(!1),w.appendChild(t),t.label=null===e.group?"null":e.group,a[e.group]=t),y(e,t)):y(e,w)})),o[0].appendChild(w),u.$render(),!u.$isEmpty(e)){var i=d.readValue();(b.trackBy||p?le(e,i):e===i)||(u.$setViewValue(i),u.$render())}}))}}}}],br=["$locale","$interpolate","$log",function(e,t,n){var a=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(s,r,o){var l,c=o.count,d=o.$attr.when&&r.attr(o.$attr.when),u=o.offset||0,f=s.$eval(d)||{},h={},g=t.startSymbol(),m=t.endSymbol(),v=g+c+"-"+u+m,b=y.noop;function w(e){r.text(e||"")}$(o,(function(e,t){var n=i.exec(t);if(n){var a=(n[1]?"-":"")+p(n[2]);f[a]=r.attr(o.$attr[t])}})),$(f,(function(e,n){h[n]=t(e.replace(a,v))})),s.$watch(c,(function(t){var a=parseFloat(t),i=D(a);if(i||a in f||(a=e.pluralCat(a-u)),!(a===l||i&&D(l))){b();var r=h[a];U(r)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+a+"' in "+d),b=R,w()):b=s.$watch(r,w),l=a}}))}}}],wr=i("ngRef"),yr=["$parse",function(e){return{priority:-1,restrict:"A",compile:function(t,n){var a=Sn(ae(t)),i=e(n.ngRef),s=i.assign||function(){throw wr("nonassign",'Expression in ngRef="{0}" is non-assignable!',n.ngRef)};return function(e,t,r){var o;if(r.hasOwnProperty("ngRefRead")){if("$element"===r.ngRefRead)o=t;else if(!(o=t.data("$"+r.ngRefRead+"Controller")))throw wr("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',r.ngRefRead,n.ngRef)}else o=t.data("$"+a+"Controller");s(e,o=o||t),t.on("$destroy",(function(){i(e)===o&&s(e,null)}))}}}}],_r=["$parse","$animate","$compile",function(e,t,n){var a="$$NG_REMOVED",s=i("ngRepeat"),r=function(e,t,n,a,i,s,r){e[n]=a,i&&(e[i]=s),e.$index=t,e.$first=0===t,e.$last=t===r-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))},o=function(e){return e.clone[0]},l=function(e){return e.clone[e.clone.length-1]},c=function(e,t,n){return Bt(n)},d=function(e,t){return t};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,p){var f=p.ngRepeat,h=n.$$createComment("end ngRepeat",f),g=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var m=g[1],v=g[2],b=g[3],w=g[4];if(!(g=m.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var y,_=g[3]||g[1],k=g[2];if(b&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(b)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(b)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",b);if(w){var S={$id:Bt},C=e(w);y=function(e,t,n,a){return k&&(S[k]=t),S[_]=n,S.$index=a,C(e,S)}}return function(e,n,i,p,g){var m=ze();e.$watchCollection(v,(function(i){var p,v,w,C,A,T,M,P,E,D,O,R,L=n[0],I=ze();if(b&&(e[b]=i),x(i))E=i,P=y||c;else for(var F in P=y||d,E=[],i)u.call(i,F)&&"$"!==F.charAt(0)&&E.push(F);for(C=E.length,O=new Array(C),p=0;p<C;p++)if(A=i===E?p:E[p],T=i[A],M=P(e,A,T,p),m[M])D=m[M],delete m[M],I[M]=D,O[p]=D;else{if(I[M])throw $(O,(function(e){e&&e.scope&&(m[e.id]=e)})),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,M,T);O[p]={id:M,scope:void 0,clone:void 0},I[M]=!0}for(var U in S&&(S[_]=void 0),m){if(R=qe((D=m[U]).clone),t.leave(R),R[0].parentNode)for(p=0,v=R.length;p<v;p++)R[p][a]=!0;D.scope.$destroy()}for(p=0;p<C;p++)if(A=i===E?p:E[p],T=i[A],(D=O[p]).scope){w=L;do{w=w.nextSibling}while(w&&w[a]);o(D)!==w&&t.move(qe(D.clone),null,L),L=l(D),r(D.scope,p,_,T,k,A,C)}else g((function(e,n){D.scope=n;var a=h.cloneNode(!1);e[e.length++]=a,t.enter(e,null,L),L=a,D.clone=e,I[D.id]=D,r(D.scope,p,_,T,k,A,C)}));m=I}))}}}}],xr="ng-hide",$r="ng-hide-animate",kr=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,a){t.$watch(a.ngShow,(function(t){e[t?"removeClass":"addClass"](n,xr,{tempClasses:$r})}))}}}],Sr=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,a){t.$watch(a.ngHide,(function(t){e[t?"addClass":"removeClass"](n,xr,{tempClasses:$r})}))}}}],Cr=Yi((function(e,t,n){e.$watchCollection(n.ngStyle,(function(e,n){n&&e!==n&&$(n,(function(e,n){t.css(n,"")})),e&&t.css(e)}))})),Ar=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,a,i,s){var r=i.ngSwitch||i.on,o=[],l=[],c=[],d=[],u=function(e,t){return function(n){!1!==n&&e.splice(t,1)}};n.$watch(r,(function(n){for(var a,i;c.length;)e.cancel(c.pop());for(a=0,i=d.length;a<i;++a){var r=qe(l[a].clone);d[a].$destroy(),(c[a]=e.leave(r)).done(u(c,a))}l.length=0,d.length=0,(o=s.cases["!"+n]||s.cases["?"])&&$(o,(function(n){n.transclude((function(a,i){d.push(i);var s=n.element;a[a.length++]=t.$$createComment("end ngSwitchWhen");var r={clone:a};l.push(r),e.enter(a,s.parent(),s)}))}))}))}}}],Tr=Yi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,a,i){var s=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter((function(e,t,n){return n[t-1]!==e}));$(s,(function(e){a.cases["!"+e]=a.cases["!"+e]||[],a.cases["!"+e].push({transclude:i,element:t})}))}}),Mr=Yi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,a,i){a.cases["?"]=a.cases["?"]||[],a.cases["?"].push({transclude:i,element:t})}}),Pr=i("ngTransclude"),Er=["$compile",function(e){return{restrict:"EAC",compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,a,i,s){if(!s)throw Pr("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",_e(t));a.ngTransclude===a.$attr.ngTransclude&&(a.ngTransclude="");var r=a.ngTransclude||a.ngTranscludeSlot;function o(){n(e,(function(e){t.append(e)}))}s((function(e,n){e.length&&function(e){for(var t=0,n=e.length;t<n;t++){var a=e[t];if(a.nodeType!==Be||a.nodeValue.trim())return!0}}(e)?t.append(e):(o(),n.$destroy())}),null,r),r&&!s.isSlotFilled(r)&&o()}}}}],Dr=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"===n.type){var a=n.id,i=t[0].text;e.put(a,i)}}}}],Or={$setViewValue:R,$render:R};function Rr(e,t){e.prop("selected",t),e.attr("selected",t)}var Lr=["$element","$scope",function(t,n){var a=this,i=new Wt;a.selectValueMap={},a.ngModelCtrl=Or,a.multiple=!1,a.unknownOption=r(e.document.createElement("option")),a.hasEmptyOption=!1,a.emptyOption=void 0,a.renderUnknownOption=function(e){var n=a.generateUnknownOptionValue(e);a.unknownOption.val(n),t.prepend(a.unknownOption),Rr(a.unknownOption,!0),t.val(n)},a.updateUnknownOption=function(e){var n=a.generateUnknownOptionValue(e);a.unknownOption.val(n),Rr(a.unknownOption,!0),t.val(n)},a.generateUnknownOptionValue=function(e){return"? "+Bt(e)+" ?"},a.removeUnknownOption=function(){a.unknownOption.parent()&&a.unknownOption.remove()},a.selectEmptyOption=function(){a.emptyOption&&(t.val(""),Rr(a.emptyOption,!0))},a.unselectEmptyOption=function(){a.hasEmptyOption&&Rr(a.emptyOption,!1)},n.$on("$destroy",(function(){a.renderUnknownOption=R})),a.readValue=function(){var e=t.val(),n=e in a.selectValueMap?a.selectValueMap[e]:e;return a.hasOption(n)?n:null},a.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];if(n&&Rr(r(n),!1),a.hasOption(e)){a.removeUnknownOption();var i=Bt(e);t.val(i in a.selectValueMap?i:e);var s=t[0].options[t[0].selectedIndex];Rr(r(s),!0)}else a.selectUnknownOrEmptyOption(e)},a.addOption=function(e,t){if(t[0].nodeType!==Ve){Ue(e,'"option value"'),""===e&&(a.hasEmptyOption=!0,a.emptyOption=t);var n=i.get(e)||0;i.set(e,n+1),o()}},a.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.delete(e),""===e&&(a.hasEmptyOption=!1,a.emptyOption=void 0)):i.set(e,t-1))},a.hasOption=function(e){return!!i.get(e)},a.$hasEmptyOption=function(){return a.hasEmptyOption},a.$isUnknownOptionSelected=function(){return t[0].options[0]===a.unknownOption[0]},a.$isEmptyOptionSelected=function(){return a.hasEmptyOption&&t[0].options[t[0].selectedIndex]===a.emptyOption[0]},a.selectUnknownOrEmptyOption=function(e){null==e&&a.emptyOption?(a.removeUnknownOption(),a.selectEmptyOption()):a.unknownOption.parent().length?a.updateUnknownOption(e):a.renderUnknownOption(e)};var s=!1;function o(){s||(s=!0,n.$$postDigest((function(){s=!1,a.ngModelCtrl.$render()})))}var l=!1;function c(e){l||(l=!0,n.$$postDigest((function(){n.$$destroyed||(l=!1,a.ngModelCtrl.$setViewValue(a.readValue()),e&&a.ngModelCtrl.$render())})))}a.registerOption=function(e,t,n,i,s){var r,l;n.$attr.ngValue?n.$observe("value",(function(e){var n,i=t.prop("selected");q(l)&&(a.removeOption(r),delete a.selectValueMap[l],n=!0),l=Bt(e),r=e,a.selectValueMap[l]=e,a.addOption(e,t),t.attr("value",l),n&&i&&c()})):i?n.$observe("value",(function(e){var n;a.readValue();var i=t.prop("selected");q(r)&&(a.removeOption(r),n=!0),r=e,a.addOption(e,t),n&&i&&c()})):s?e.$watch(s,(function(e,i){n.$set("value",e);var s=t.prop("selected");i!==e&&a.removeOption(i),a.addOption(e,t),i&&s&&c()})):a.addOption(n.value,t);n.$observe("disabled",(function(e){("true"===e||e&&t.prop("selected"))&&(a.multiple?c(!0):(a.ngModelCtrl.$setViewValue(null),a.ngModelCtrl.$render()))})),t.on("$destroy",(function(){var e=a.readValue(),t=n.value;a.removeOption(t),o(),(a.multiple&&e&&-1!==e.indexOf(t)||e===t)&&c(!0)}))}}],Ir=function(){return{restrict:"E",require:["select","?ngModel"],controller:Lr,priority:1,link:{pre:function(e,t,n,a){var i=a[0],s=a[1];if(!s)return void(i.registerOption=R);if(i.ngModelCtrl=s,t.on("change",(function(){i.removeUnknownOption(),e.$apply((function(){s.$setViewValue(i.readValue())}))})),n.multiple){i.multiple=!0,i.readValue=function(){var e=[];return $(t.find("option"),(function(t){if(t.selected&&!t.disabled){var n=t.value;e.push(n in i.selectValueMap?i.selectValueMap[n]:n)}})),e},i.writeValue=function(e){$(t.find("option"),(function(t){var n=!!e&&(ie(e,t.value)||ie(e,i.selectValueMap[t.value]));n!==t.selected&&Rr(r(t),n)}))};var o,l=NaN;e.$watch((function(){l!==s.$viewValue||le(o,s.$viewValue)||(o=Ge(s.$viewValue),s.$render()),l=s.$viewValue})),s.$isEmpty=function(e){return!e||0===e.length}}},post:function(e,t,n,a){var i=a[1];if(!i)return;var s=a[0];i.$render=function(){s.writeValue(i.$viewValue)}}}}},Fr=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var a,i;return q(n.ngValue)||(q(n.value)?a=e(n.value,!0):(i=e(t.text(),!0))||n.$set("value",t.text())),function(e,t,n){var s="$selectController",r=t.parent(),o=r.data(s)||r.parent().data(s);o&&o.registerOption(e,t,n,a,i)}}}}],Ur=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,a,i){if(i){var s=a.hasOwnProperty("required")||e(a.ngRequired)(t);a.ngRequired||(a.required=!0),i.$validators.required=function(e,t){return!s||!i.$isEmpty(t)},a.$observe("required",(function(e){s!==e&&(s=e,i.$validate())}))}}}}],qr=["$parse",function(e){return{restrict:"A",require:"?ngModel",compile:function(t,n){var a,i;return n.ngPattern&&(a=n.ngPattern,i="/"===n.ngPattern.charAt(0)&&c.test(n.ngPattern)?function(){return n.ngPattern}:e(n.ngPattern)),function(e,t,n,s){if(s){var r=n.pattern;n.ngPattern?r=i(e):a=n.pattern;var o=jr(r,a,t);n.$observe("pattern",(function(e){var n=o;o=jr(e,a,t),(n&&n.toString())!==(o&&o.toString())&&s.$validate()})),s.$validators.pattern=function(e,t){return s.$isEmpty(t)||U(o)||o.test(t)}}}}}}],zr=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,a,i){if(i){var s=a.maxlength||e(a.ngMaxlength)(t),r=Br(s);a.$observe("maxlength",(function(e){s!==e&&(r=Br(e),s=e,i.$validate())})),i.$validators.maxlength=function(e,t){return r<0||i.$isEmpty(t)||t.length<=r}}}}}],Nr=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,a,i){if(i){var s=a.minlength||e(a.ngMinlength)(t),r=Br(s)||-1;a.$observe("minlength",(function(e){s!==e&&(r=Br(e)||-1,s=e,i.$validate())})),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r}}}}}];function jr(e,t,n){if(e){if(j(e)&&(e=new RegExp("^"+e+"$")),!e.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",t,e,_e(n));return e}}function Br(e){var t=E(e);return D(t)?-1:t}e.angular.bootstrap?e.console&&console.log("WARNING: Tried to load AngularJS more than once."):(!function(){var t;if(!Re){var n=de();(o=U(n)?e.jQuery:n?e[n]:void 0)&&o.fn.on?(r=o,M(o.fn,{scope:Lt.scope,isolateScope:Lt.isolateScope,controller:Lt.controller,injector:Lt.injector,inheritedData:Lt.inheritedData})):r=vt,t=r.cleanData,r.cleanData=function(e){for(var n,a,i=0;null!=(a=e[i]);i++)(n=(r._data(a)||{}).events)&&n.$destroy&&r(a).triggerHandler("$destroy");t(e)},y.element=r,Re=!0}}(),function(t){M(t,{errorHandlingConfig:n,bootstrap:Me,copy:re,extend:M,merge:P,equals:le,element:r,forEach:$,injector:nn,noop:R,bind:fe,toJson:ge,fromJson:me,identity:L,isUndefined:U,isDefined:q,isString:j,isFunction:G,isObject:z,isNumber:B,isElement:ne,isArray:H,version:Ke,isDate:V,callbacks:{$$counter:0},getTestability:Ee,reloadWithDebugInfo:Pe,UNSAFE_restoreLegacyJqLiteXHTMLReplacement:Le,$$minErr:i,$$csp:ce,$$encodeUriSegment:ke,$$encodeUriQuery:Se,$$lowercase:p,$$stringify:Ne,$$uppercase:f}),l=function(e){var t=i("$injector"),n=i("ng");function a(e,t,n){return e[t]||(e[t]=n())}var s=a(e,"angular",Object);return s.$$minErr=s.$$minErr||i,a(s,"module",(function(){var e={};return function(i,s,r){var o={};return function(e,t){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid {0} name","module")}(i),s&&e.hasOwnProperty(i)&&(e[i]=null),a(e,i,(function(){if(!s)throw t("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var e=[],a=[],l=[],c=u("$injector","invoke","push",a),d={_invokeQueue:e,_configBlocks:a,_runBlocks:l,info:function(e){if(q(e)){if(!z(e))throw n("aobj","Argument '{0}' must be an object","value");return o=e,this}return o},requires:s,name:i,provider:p("$provide","provider"),factory:p("$provide","factory"),service:p("$provide","service"),value:u("$provide","value"),constant:u("$provide","constant","unshift"),decorator:p("$provide","decorator",a),animation:p("$animateProvider","register"),filter:p("$filterProvider","register"),controller:p("$controllerProvider","register"),directive:p("$compileProvider","directive"),component:p("$compileProvider","component"),config:c,run:function(e){return l.push(e),this}};return r&&c(r),d;function u(t,n,a,i){return i||(i=e),function(){return i[a||"push"]([t,n,arguments]),d}}function p(t,n,a){return a||(a=e),function(e,s){return s&&G(s)&&(s.$$moduleName=i),a.push([t,n,arguments]),d}}}))}}))}(e),l("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Xa}),e.provider("$compile",_n).directive({a:Ki,input:Ps,textarea:Ps,form:ns,script:Dr,select:Ir,option:Fr,ngBind:Rs,ngBindHtml:Is,ngBindTemplate:Ls,ngClass:qs,ngClassEven:Ns,ngClassOdd:zs,ngCloak:js,ngController:Bs,ngForm:as,ngHide:Sr,ngIf:Gs,ngInclude:Ys,ngInit:Qs,ngNonBindable:hr,ngPluralize:br,ngRef:yr,ngRepeat:_r,ngShow:kr,ngStyle:Cr,ngSwitch:Ar,ngSwitchWhen:Tr,ngSwitchDefault:Mr,ngOptions:vr,ngTransclude:Er,ngModel:cr,ngList:Xs,ngChange:Fs,pattern:qr,ngPattern:qr,required:Ur,ngRequired:Ur,minlength:Nr,ngMinlength:Nr,maxlength:zr,ngMaxlength:zr,ngValue:Os,ngModelOptions:pr}).directive({ngInclude:Ks,input:Es}).directive(Qi).directive(Vs),e.provider({$anchorScroll:an,$animate:un,$animateCss:hn,$$animateJs:cn,$$animateQueue:dn,$$AnimateRunner:fn,$$animateAsyncRun:pn,$browser:mn,$cacheFactory:vn,$controller:En,$document:Dn,$$isDocumentHidden:On,$exceptionHandler:Rn,$filter:xi,$$forceReflow:Ln,$interpolate:ea,$interval:na,$$intervalFactory:aa,$http:Qn,$httpParamSerializer:Bn,$httpParamSerializerJQLike:Vn,$httpBackend:Zn,$xhrFactory:Xn,$jsonpCallbacks:ia,$location:_a,$log:xa,$parse:ja,$rootScope:Qa,$q:Ba,$$q:Va,$sce:ii,$sceDelegate:ai,$sniffer:si,$$taskTrackerFactory:ri,$templateCache:bn,$templateRequest:ci,$$testability:di,$timeout:pi,$window:wi,$$rAF:Ka,$$jqLite:jt,$$Map:Gt,$$cookieReader:_i})}]).info({angularVersion:"1.8.3"})}(y),y.module("ngLocale",[],["$provide",function(e){var t="one",n="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,a){var i=0|e,s=function(e,t){var n=t;void 0===n&&(n=Math.min(function(e){var t=(e+="").indexOf(".");return-1==t?0:e.length-t-1}(e),3));var a=Math.pow(10,n);return{v:n,f:(e*a|0)%a}}(e,a);return 1==i&&0==s.v?t:n}})}]),r((function(){Te(e.document,Me)})))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend(window.angular.element("<style>").text('@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}')),
/**
 * @license AngularJS v1.8.3
 * (c) 2010-2020 Google LLC. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";var n="ngAriaDisable",a=t.module("ngAria",["ng"]).info({angularVersion:"1.8.3"}).provider("$aria",(function(){var e={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeydown:!0,bindRoleForClick:!0};function a(t,a,i,r){return function(o,l,c){if(!c.hasOwnProperty(n)){var d=c.$normalize(a);!e[d]||s(l,i)||c[d]||o.$watch(c[t],(function(e){e=r?!e:!!e,l.attr(a,e)}))}}}this.config=function(n){e=t.extend(e,n)},this.$get=function(){return{config:function(t){return e[t]},$$watchExpr:a}}})),i=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],s=function(e,t){if(-1!==t.indexOf(e[0].nodeName))return!0};a.directive("ngShow",["$aria",function(e){return e.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(e){return e.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(e){return e.$$watchExpr("ngValue","aria-checked",i,!1)}]).directive("ngChecked",["$aria",function(e){return e.$$watchExpr("ngChecked","aria-checked",i,!1)}]).directive("ngReadonly",["$aria",function(e){return e.$$watchExpr("ngReadonly","aria-readonly",i,!1)}]).directive("ngRequired",["$aria",function(e){return e.$$watchExpr("ngRequired","aria-required",i,!1)}]).directive("ngModel",["$aria",function(e){function t(t,n,a,r){return e.config(n)&&!a.attr(t)&&(r||!s(a,i))&&("hidden"!==a.attr("type")||"INPUT"!==a[0].nodeName)}function a(e,t){return!t.attr("role")&&t.attr("type")===e&&!s(t,i)}return{restrict:"A",require:"ngModel",priority:200,compile:function(i,s){if(!s.hasOwnProperty(n)){var r=function(e,t){var n=e.type,a=e.role;return"checkbox"===(n||a)||"menuitemcheckbox"===a?"checkbox":"radio"===(n||a)||"menuitemradio"===a?"radio":"range"===n||"progressbar"===a||"slider"===a?"range":""}(s);return{post:function(n,i,s,o){var l=t("tabindex","tabindex",i,!1);function c(){return o.$modelValue}switch(r){case"radio":case"checkbox":a(r,i)&&i.attr("role",r),t("aria-checked","ariaChecked",i,!1)&&n.$watch(c,"radio"===r?function(e){var t=s.value==o.$viewValue;i.attr("aria-checked",t)}:function(){i.attr("aria-checked",!o.$isEmpty(o.$viewValue))}),l&&i.attr("tabindex",0);break;case"range":if(a(r,i)&&i.attr("role","slider"),e.config("ariaValue")){var d=!i.attr("aria-valuemin")&&(s.hasOwnProperty("min")||s.hasOwnProperty("ngMin")),u=!i.attr("aria-valuemax")&&(s.hasOwnProperty("max")||s.hasOwnProperty("ngMax")),p=!i.attr("aria-valuenow");d&&s.$observe("min",(function(e){i.attr("aria-valuemin",e)})),u&&s.$observe("max",(function(e){i.attr("aria-valuemax",e)})),p&&n.$watch(c,(function(e){i.attr("aria-valuenow",e)}))}l&&i.attr("tabindex",0)}!s.hasOwnProperty("ngRequired")&&o.$validators.required&&t("aria-required","ariaRequired",i,!1)&&s.$observe("required",(function(){i.attr("aria-required",!!s.required)})),t("aria-invalid","ariaInvalid",i,!0)&&n.$watch((function(){return o.$invalid}),(function(e){i.attr("aria-invalid",!!e)}))}}}}}}]).directive("ngDisabled",["$aria",function(e){return e.$$watchExpr("ngDisabled","aria-disabled",i,!1)}]).directive("ngMessages",(function(){return{restrict:"A",require:"?ngMessages",link:function(e,t,a,i){a.hasOwnProperty(n)||t.attr("aria-live")||t.attr("aria-live","assertive")}}})).directive("ngClick",["$aria","$parse",function(e,t){return{restrict:"A",compile:function(a,r){if(!r.hasOwnProperty(n)){var o=t(r.ngClick);return function(t,n,a){s(n,i)||(e.config("bindRoleForClick")&&!n.attr("role")&&n.attr("role","button"),e.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),!e.config("bindKeydown")||a.ngKeydown||a.ngKeypress||a.ngKeyup||n.on("keydown",(function(e){var n=e.which||e.keyCode;13!==n&&32!==n||(-1!==i.indexOf(e.target.nodeName)||e.target.isContentEditable||e.preventDefault(),t.$apply((function(){o(t,{$event:e})})))})))}}}}}]).directive("ngDblclick",["$aria",function(e){return function(t,a,r){r.hasOwnProperty(n)||!e.config("tabindex")||a.attr("tabindex")||s(a,i)||a.attr("tabindex",0)}}])}(window,window.angular),
/**
 * Bunch of useful filters for angularJS(with no external dependencies!)
 * @version v0.5.17 - 2017-09-22 * @link https://github.com/a8m/angular-filter
 * @author Ariel Mashraki <ariel@mashraki.co.il>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
function(e,t,n){"use strict";var a=t.isDefined,i=t.isUndefined,s=t.isFunction,r=t.isString,o=t.isNumber,l=t.isObject,c=t.isArray,d=t.forEach,u=t.extend,p=t.copy,f=t.equals;function h(e){return c(e)?e:Object.keys(e).map((function(t){return e[t]}))}function g(e){return null===e}function m(e,t){return-1==Object.keys(e).map((function(a){return t[a]!==n&&t[a]==e[a]})).indexOf(!1)}function v(e,t){function n(e,t,n){for(var a=0;t+a<=e.length;){if(e.charAt(t+a)==n)return a;a++}return-1}for(var a=0,i=0;i<=t.length;i++){var s=n(e,a,t.charAt(i));if(-1==s)return!1;a+=s+1}return!0}function b(e,t,n){var i=0;return e.filter((function(e){var s=a(n)?i<t&&n(e):i<t;return i=s?i+1:i,s}))}function w(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function y(e,t,n){return t=t||[],Object.keys(e).forEach((function(a){if(l(e[a])&&!c(e[a])){var i=n?n+"."+a:n;y(e[a],t,i||a)}else{var s=n?n+"."+a:a;t.push(s)}})),t}function _(e){return e&&e.$evalAsync&&e.$watch}function x(){return function(e,t){return e>t}}function $(){return function(e,t){return e>=t}}function k(){return function(e,t){return e<t}}function S(){return function(e,t){return e<=t}}function C(){return function(e,t){return e==t}}function A(){return function(e,t){return e!=t}}function T(){return function(e,t){return e===t}}function M(){return function(e,t){return e!==t}}function P(e){return function(t,n){return t=l(t)?h(t):t,!(!c(t)||i(n))&&t.some((function(t){return r(n)&&l(t)||s(n)?e(n)(t):t===n}))}}function E(e,t){return(t=t||0)>=e.length?e:c(e[t])?E(e.slice(0,t).concat(e[t],e.slice(t+1)),t):E(e,t+1)}function D(e){return function(t,n){if(t=l(t)?h(t):t,!c(t))return t;var a=[],s=e(n);return i(n)?t.filter((function(e,t,n){return n.indexOf(e)===t})):t.filter((function(e){var t=s(e);return!function(e,t){if(i(t))return!1;return e.some((function(e){return f(e,t)}))}(a,t)&&(a.push(t),!0)}))}}function O(e,t,n){return t?e+n+O(e,--t,n):e}function R(){return function(e){return r(e)?e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" "):e}}String.prototype.contains||(String.prototype.contains=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),t.module("a8m.angular",[]).filter("isUndefined",(function(){return function(e){return t.isUndefined(e)}})).filter("isDefined",(function(){return function(e){return t.isDefined(e)}})).filter("isFunction",(function(){return function(e){return t.isFunction(e)}})).filter("isString",(function(){return function(e){return t.isString(e)}})).filter("isNumber",(function(){return function(e){return t.isNumber(e)}})).filter("isArray",(function(){return function(e){return t.isArray(e)}})).filter("isObject",(function(){return function(e){return t.isObject(e)}})).filter("isEqual",(function(){return function(e,n){return t.equals(e,n)}})),t.module("a8m.conditions",[]).filter({isGreaterThan:x,">":x,isGreaterThanOrEqualTo:$,">=":$,isLessThan:k,"<":k,isLessThanOrEqualTo:S,"<=":S,isEqualTo:C,"==":C,isNotEqualTo:A,"!=":A,isIdenticalTo:T,"===":T,isNotIdenticalTo:M,"!==":M}),t.module("a8m.is-null",[]).filter("isNull",(function(){return function(e){return g(e)}})),t.module("a8m.after-where",[]).filter("afterWhere",(function(){return function(e,t){if(e=l(e)?h(e):e,!c(e)||i(t))return e;var n=e.map((function(e){return m(t,e)})).indexOf(!0);return e.slice(-1===n?0:n)}})),t.module("a8m.after",[]).filter("after",(function(){return function(e,t){return e=l(e)?h(e):e,c(e)?e.slice(t):e}})),t.module("a8m.before-where",[]).filter("beforeWhere",(function(){return function(e,t){if(e=l(e)?h(e):e,!c(e)||i(t))return e;var n=e.map((function(e){return m(t,e)})).indexOf(!0);return e.slice(0,-1===n?e.length:++n)}})),t.module("a8m.before",[]).filter("before",(function(){return function(e,t){return e=l(e)?h(e):e,c(e)?e.slice(0,t?--t:t):e}})),t.module("a8m.chunk-by",["a8m.filter-watcher"]).filter("chunkBy",["filterWatcher",function(e){return function(t,n,a){return e.isMemoized("chunkBy",arguments)||e.memoize("chunkBy",arguments,this,function(e,t,n){return c(e)?e.map((function(e,a,s){return a*=t,e=s.slice(a,a+t),!i(n)&&e.length<t?e.concat(function(e,t){var n=[];for(;e--;)n[e]=t;return n}(t-e.length,n)):e})).slice(0,Math.ceil(e.length/t)):e}(t,n,a))}}]),t.module("a8m.concat",[]).filter("concat",[function(){return function(e,t){if(i(t))return e;if(c(e))return l(t)?e.concat(h(t)):e.concat(t);if(l(e)){var n=h(e);return l(t)?n.concat(h(t)):n.concat(t)}return e}}]),t.module("a8m.contains",[]).filter({contains:["$parse",P],some:["$parse",P]}),t.module("a8m.count-by",[]).filter("countBy",["$parse",function(e){return function(t,n){var a,s={},r=e(n);return t=l(t)?h(t):t,!c(t)||i(n)?t:(t.forEach((function(e){a=r(e),s[a]||(s[a]=0),s[a]++})),s)}}]),t.module("a8m.defaults",[]).filter("defaults",["$parse",function(e){return function(t,n){if(t=l(t)?h(t):t,!c(t)||!l(n))return t;var a=y(n);return t.forEach((function(t){a.forEach((function(a){var s=e(a),r=s.assign;i(s(t))&&r(t,s(n))}))})),t}}]),t.module("a8m.every",[]).filter("every",["$parse",function(e){return function(t,n){return t=l(t)?h(t):t,!(c(t)&&!i(n))||t.every((function(t){return l(t)||s(n)?e(n)(t):t===n}))}}]),t.module("a8m.filter-by",[]).filter("filterBy",["$parse",function(e){return function(t,a,s,d){var u;return s=r(s)||o(s)?String(s).toLowerCase():n,t=l(t)?h(t):t,!c(t)||i(s)?t:t.filter((function(t){return a.some((function(n){if(~n.indexOf("+")){var a=n.replace(/\s+/g,"").split("+");u=a.map((function(n){return e(n)(t)})).join(" ")}else u=e(n)(t);return!(!r(u)&&!o(u))&&(u=String(u).toLowerCase(),d?u===s:u.contains(s))}))}))}}]),t.module("a8m.first",[]).filter("first",["$parse",function(e){return function(t){var a,i,s;return t=l(t)?h(t):t,c(t)?(s=Array.prototype.slice.call(arguments,1),a=o(s[0])?s[0]:1,i=o(s[0])?o(s[1])?n:s[1]:s[0],s.length?b(t,a,i?e(i):i):t[0]):t}}]),t.module("a8m.flatten",[]).filter("flatten",(function(){return function(e,t){return t=t||!1,e=l(e)?h(e):e,c(e)?t?[].concat.apply([],e):E(e,0):e}})),t.module("a8m.fuzzy-by",[]).filter("fuzzyBy",["$parse",function(e){return function(t,n,a,s){var o,d,u=s||!1;return t=l(t)?h(t):t,!c(t)||i(n)||i(a)?t:(d=e(n),t.filter((function(e){return o=d(e),!!r(o)&&(o=u?o:o.toLowerCase(),a=u?a:a.toLowerCase(),!1!==v(o,a))})))}}]),t.module("a8m.fuzzy",[]).filter("fuzzy",(function(){return function(e,t,n){var a=n||!1;return e=l(e)?h(e):e,!c(e)||i(t)?e:(t=a?t:t.toLowerCase(),e.filter((function(e){return r(e)?!1!==v(e=a?e:e.toLowerCase(),t):!!l(e)&&function(e,t){var n,i;return 0<Object.keys(e).filter((function(s){return n=e[s],!!i||!!r(n)&&(n=a?n:n.toLowerCase(),i=!1!==v(n,t))})).length}(e,t)})))}})),t.module("a8m.group-by",["a8m.filter-watcher"]).filter("groupBy",["$parse","filterWatcher",function(e,t){return function(n,a){return!l(n)||i(a)?n:t.isMemoized("groupBy",arguments)||t.memoize("groupBy",arguments,this,function(e,t){var n,a={};return d(e,(function(e){n=t(e),a[n]||(a[n]=[]),a[n].push(e)})),a}(n,e(a)))}}]),t.module("a8m.is-empty",[]).filter("isEmpty",(function(){return function(e){return l(e)?!h(e).length:!e.length}})),t.module("a8m.join",[]).filter("join",(function(){return function(e,t){return i(e)||!c(e)?e:(i(t)&&(t=" "),e.join(t))}})),t.module("a8m.last",[]).filter("last",["$parse",function(e){return function(t){var a,i,s,r=p(t);return r=l(r)?h(r):r,c(r)?(s=Array.prototype.slice.call(arguments,1),a=o(s[0])?s[0]:1,i=o(s[0])?o(s[1])?n:s[1]:s[0],s.length?b(r.reverse(),a,i?e(i):i).reverse():r[r.length-1]):r}}]),t.module("a8m.map",[]).filter("map",["$parse",function(e){return function(t,n){return t=l(t)?h(t):t,!c(t)||i(n)?t:t.map((function(t){return e(n)(t)}))}}]),t.module("a8m.omit",[]).filter("omit",["$parse",function(e){return function(t,n){return t=l(t)?h(t):t,!c(t)||i(n)?t:t.filter((function(t){return!e(n)(t)}))}}]),t.module("a8m.pick",[]).filter("pick",["$parse",function(e){return function(t,n){return t=l(t)?h(t):t,!c(t)||i(n)?t:t.filter((function(t){return e(n)(t)}))}}]),t.module("a8m.range",[]).filter("range",(function(){return function(e,t,n,a,i){n=n||0,a=a||1;for(var r=0;r<parseInt(t);r++){var o=n+r*a;e.push(s(i)?i(o):o)}return e}})),t.module("a8m.remove-with",[]).filter("removeWith",(function(){return function(e,t){return i(t)?e:(e=l(e)?h(e):e).filter((function(e){return!m(t,e)}))}})),t.module("a8m.remove",[]).filter("remove",(function(){return function(e){e=l(e)?h(e):e;var t=Array.prototype.slice.call(arguments,1);return c(e)?e.filter((function(e){return!t.some((function(t){return f(t,e)}))})):e}})),t.module("a8m.reverse",[]).filter("reverse",[function(){return function(e){return e=l(e)?h(e):e,r(e)?e.split("").reverse().join(""):c(e)?e.slice().reverse():e}}]),t.module("a8m.search-field",[]).filter("searchField",["$parse",function(e){return function(t){var n;t=l(t)?h(t):t;var a=Array.prototype.slice.call(arguments,1);return c(t)&&a.length?t.map((function(t){return n=a.map((function(n){return e(n)(t)})).join(" "),u(t,{searchField:n})})):t}}]),t.module("a8m.to-array",[]).filter("toArray",(function(){return function(e,t){return l(e)?t?Object.keys(e).map((function(t){return u(e[t],{$key:t})})):h(e):e}})),t.module("a8m.unique",[]).filter({unique:["$parse",D],uniq:["$parse",D]}),t.module("a8m.where",[]).filter("where",(function(){return function(e,t){return i(t)?e:(e=l(e)?h(e):e).filter((function(e){return m(t,e)}))}})),t.module("a8m.xor",[]).filter("xor",["$parse",function(e){return function(t,n,a){return a=a||!1,t=l(t)?h(t):t,n=l(n)?h(n):n,c(t)&&c(n)?t.concat(n).filter((function(e){return!(i(e,t)&&i(e,n))})):t;function i(t,n){var i=e(a);return n.some((function(e){return a?f(i(e),i(t)):f(e,t)}))}}}]),t.module("a8m.math.abs",[]).filter("abs",(function(){return function(e){return Math.abs(e)}})),t.module("a8m.math.byteFmt",[]).filter("byteFmt",(function(){var e=[{str:"B",val:1024}];return["KB","MB","GB","TB","PB","EB","ZB","YB"].forEach((function(t,n){e.push({str:t,val:1024*e[n].val})})),function(t,n){if(o(n)&&isFinite(n)&&n%1==0&&n>=0&&o(t)&&isFinite(t)){for(var a=0;a<e.length-1&&t>=e[a].val;)a++;return w(t/=a>0?e[a-1].val:1,n)+" "+e[a].str}return"NaN"}})),t.module("a8m.math.degrees",[]).filter("degrees",(function(){return function(e,t){if(o(t)&&isFinite(t)&&t%1==0&&t>=0&&o(e)&&isFinite(e)){var n=180*e/Math.PI;return Math.round(n*Math.pow(10,t))/Math.pow(10,t)}return"NaN"}})),t.module("a8m.math.kbFmt",[]).filter("kbFmt",(function(){var e=[{str:"KB",val:1024}];return["MB","GB","TB","PB","EB","ZB","YB"].forEach((function(t,n){e.push({str:t,val:1024*e[n].val})})),function(t,n){if(o(n)&&isFinite(n)&&n%1==0&&n>=0&&o(t)&&isFinite(t)){for(var a=0;a<e.length-1&&t>=e[a].val;)a++;return w(t/=a>0?e[a-1].val:1,n)+" "+e[a].str}return"NaN"}})),t.module("a8m.math.max",[]).filter("max",["$parse",function(e){return function(t,n){return c(t)?i(n)?Math.max.apply(Math,t):t[(a=t,s=n,r=a.map((function(t){return e(s)(t)})),r.indexOf(Math.max.apply(Math,r)))]:t;var a,s,r}}]),t.module("a8m.math.min",[]).filter("min",["$parse",function(e){return function(t,n){return c(t)?i(n)?Math.min.apply(Math,t):t[(a=t,s=n,r=a.map((function(t){return e(s)(t)})),r.indexOf(Math.min.apply(Math,r)))]:t;var a,s,r}}]),t.module("a8m.math.percent",[]).filter("percent",(function(){return function(e,t,n){var a=r(e)?Number(e):e;return t=t||100,n=n||!1,!o(a)||isNaN(a)?e:n?Math.round(a/t*100):a/t*100}})),t.module("a8m.math.radians",[]).filter("radians",(function(){return function(e,t){if(o(t)&&isFinite(t)&&t%1==0&&t>=0&&o(e)&&isFinite(e)){var n=3.14159265359*e/180;return Math.round(n*Math.pow(10,t))/Math.pow(10,t)}return"NaN"}})),t.module("a8m.math.radix",[]).filter("radix",(function(){return function(e,t){return o(e)&&/^[2-9]$|^[1-2]\d$|^3[0-6]$/.test(t)?e.toString(t).toUpperCase():e}})),t.module("a8m.math.shortFmt",[]).filter("shortFmt",(function(){return function(e,t){return o(t)&&isFinite(t)&&t%1==0&&t>=0&&o(e)&&isFinite(e)?e<1e3?""+e:e<1e6?w(e/1e3,t)+" K":e<1e9?w(e/1e6,t)+" M":w(e/1e9,t)+" B":"NaN"}})),t.module("a8m.math.sum",[]).filter("sum",(function(){return function(e,t){return c(e)?e.reduce((function(e,t){return e+t}),t||0):e}})),t.module("a8m.ends-with",[]).filter("endsWith",(function(){return function(e,t,n){var a,s=n||!1;return!r(e)||i(t)?e:(a=(e=s?e:e.toLowerCase()).length-t.length,-1!==e.indexOf(s?t:t.toLowerCase(),a))}})),t.module("a8m.latinize",[]).filter("latinize",[function(){for(var e=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],t={},n=0;n<e.length;n++)for(var a=e[n].letters.split(""),i=0;i<a.length;i++)t[a[i]]=e[n].base;return function(e){return r(e)?e.replace(/[^\u0000-\u007E]/g,(function(e){return t[e]||e})):e}}]),t.module("a8m.ltrim",[]).filter("ltrim",(function(){return function(e,t){var n=t||"\\s";return r(e)?e.replace(new RegExp("^"+n+"+"),""):e}})),t.module("a8m.match",[]).filter("match",(function(){return function(e,t,n){var a=new RegExp(t,n);return r(e)?e.match(a):null}})),t.module("a8m.phoneUS",[]).filter("phoneUS",(function(){return function(e){return"("+(e+="").slice(0,3)+") "+e.slice(3,6)+"-"+e.slice(6)}})),t.module("a8m.repeat",[]).filter("repeat",[function(){return function(e,t,n){var a=~~t;return r(e)&&a?O(e,--t,n||""):e}}]),t.module("a8m.rtrim",[]).filter("rtrim",(function(){return function(e,t){var n=t||"\\s";return r(e)?e.replace(new RegExp(n+"+$"),""):e}})),t.module("a8m.slugify",[]).filter("slugify",[function(){return function(e,t){var n=i(t)?"-":t;return r(e)?e.toLowerCase().replace(/\s+/g,n):e}}]),t.module("a8m.split",[]).filter("split",(function(){return function(e,t,n){var a,s,o,l;return i(e)||!r(e)?null:(i(t)&&(t=""),isNaN(n)&&(n=0),a=new RegExp(t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"g"),g(s=e.match(a))||n>=s.length?[e]:0===n?e.split(t):(l=(o=e.split(t)).splice(0,n+1),o.unshift(l.join(t)),o))}})),t.module("a8m.starts-with",[]).filter("startsWith",(function(){return function(e,t,n){var a=n||!1;return!r(e)||i(t)?e:!(e=a?e:e.toLowerCase()).indexOf(a?t:t.toLowerCase())}})),t.module("a8m.stringular",[]).filter("stringular",(function(){return function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,(function(e,n){return i(t[n])?e:t[n]}))}})),t.module("a8m.strip-tags",[]).filter("stripTags",(function(){return function(e){return r(e)?e.replace(/<\S[^><]*>/g,""):e}})),t.module("a8m.test",[]).filter("test",(function(){return function(e,t,n){var a=new RegExp(t,n);return r(e)?a.test(e):e}})),t.module("a8m.trim",[]).filter("trim",(function(){return function(e,t){var n=t||"\\s";return r(e)?e.replace(new RegExp("^"+n+"+|"+n+"+$","g"),""):e}})),t.module("a8m.truncate",[]).filter("truncate",(function(){return function(e,t,n,a){return t=i(t)?e.length:t,a=a||!1,n=n||"",!r(e)||e.length<=t?e:e.substring(0,a?-1===e.indexOf(" ",t)?e.length:e.indexOf(" ",t):t)+n}})),t.module("a8m.ucfirst",[]).filter({ucfirst:R,titleize:R}),t.module("a8m.uri-component-encode",[]).filter("uriComponentEncode",["$window",function(e){return function(t){return r(t)?e.encodeURIComponent(t):t}}]),t.module("a8m.uri-encode",[]).filter("uriEncode",["$window",function(e){return function(t){return r(t)?e.encodeURI(t):t}}]),t.module("a8m.wrap",[]).filter("wrap",(function(){return function(e,t,n){return r(e)&&a(t)?[t,e,n||t].join(""):e}})),t.module("a8m.filter-watcher",[]).provider("filterWatcher",(function(){this.$get=["$window","$rootScope",function(e,t){var n={},a={},s=e.setTimeout;function r(t,n){return[t,JSON.stringify(n,(a=[],function(t,n){if(l(n)&&!g(n)){if(~a.indexOf(n))return"[Circular]";a.push(n)}return e==n?"$WINDOW":e.document==n?"$DOCUMENT":_(n)?"$SCOPE":n}))].join("#").replace(/"/g,"");var a}function o(e){var t=e.targetScope.$id;d(a[t],(function(e){delete n[e]})),delete a[t]}return{isMemoized:function(e,t){var a=r(e,t);return n[a]},memoize:function(e,l,c,d){var u=r(e,l);return n[u]=d,_(c)?function(e,t){var n=e.$id;i(a[n])&&(e.$on("$destroy",o),a[n]=[]),a[n].push(t)}(c,u):s((function(){t.$$phase||(n={})}),2e3),d}}}]})),t.module("angular.filter",["a8m.ucfirst","a8m.uri-encode","a8m.uri-component-encode","a8m.slugify","a8m.latinize","a8m.strip-tags","a8m.stringular","a8m.truncate","a8m.starts-with","a8m.ends-with","a8m.wrap","a8m.trim","a8m.ltrim","a8m.rtrim","a8m.repeat","a8m.test","a8m.match","a8m.split","a8m.phoneUS","a8m.to-array","a8m.concat","a8m.contains","a8m.unique","a8m.is-empty","a8m.after","a8m.after-where","a8m.before","a8m.before-where","a8m.defaults","a8m.where","a8m.reverse","a8m.remove","a8m.remove-with","a8m.group-by","a8m.count-by","a8m.chunk-by","a8m.search-field","a8m.fuzzy-by","a8m.fuzzy","a8m.omit","a8m.pick","a8m.every","a8m.filter-by","a8m.xor","a8m.map","a8m.first","a8m.last","a8m.flatten","a8m.join","a8m.range","a8m.math.max","a8m.math.min","a8m.math.abs","a8m.math.percent","a8m.math.radix","a8m.math.sum","a8m.math.degrees","a8m.math.radians","a8m.math.byteFmt","a8m.math.kbFmt","a8m.math.shortFmt","a8m.angular","a8m.conditions","a8m.is-null","a8m.filter-watcher"])}(window,window.angular),function(e,t,n){"use strict";t.module("ngIdle",["ngIdle.keepalive","ngIdle.idle","ngIdle.countdown","ngIdle.title","ngIdle.localStorage"]),t.module("ngIdle.keepalive",[]).provider("Keepalive",(function(){var e={http:null,interval:600};this.http=function(n){if(!n)throw new Error("Argument must be a string containing a URL, or an object containing the HTTP request configuration.");t.isString(n)&&(n={url:n,method:"GET"}),n.cache=!1,e.http=n};var n=this.interval=function(t){if(t=parseInt(t),isNaN(t)||0>=t)throw new Error("Interval must be expressed in seconds and be greater than 0.");e.interval=t};this.$get=["$rootScope","$log","$interval","$http",function(a,i,s,r){function o(e){a.$broadcast("KeepaliveResponse",e.data,e.status)}function l(){a.$broadcast("Keepalive"),t.isObject(e.http)&&r(e.http).then(o).catch(o)}var c={ping:null};return{_options:function(){return e},setInterval:n,start:function(){return s.cancel(c.ping),c.ping=s(l,1e3*e.interval),c.ping},stop:function(){s.cancel(c.ping)},ping:function(){l()}}}]})),t.module("ngIdle.idle",["ngIdle.keepalive","ngIdle.localStorage"]).provider("Idle",(function(){var e={idle:1200,timeout:30,autoResume:"idle",interrupt:"mousemove keydown DOMMouseScroll mousewheel mousedown touchstart touchmove scroll",windowInterrupt:null,keepalive:!0},n=this.timeout=function(n){if(!1===n)e.timeout=0;else{if(!(t.isNumber(n)&&n>=0))throw new Error("Timeout must be zero or false to disable the feature, or a positive integer (in seconds) to enable it.");e.timeout=n}};this.interrupt=function(t){e.interrupt=t},this.windowInterrupt=function(t){e.windowInterrupt=t};var a=this.idle=function(t){if(0>=t)throw new Error("Idle must be a value in seconds, greater than 0.");e.idle=t};this.autoResume=function(t){e.autoResume=!0===t?"idle":!1===t?"off":t},this.keepalive=function(t){e.keepalive=!0===t},this.$get=["$interval","$log","$rootScope","$document","Keepalive","IdleLocalStorage","$window",function(i,s,r,o,l,c,d){function u(){e.keepalive&&(b.running&&l.ping(),l.start())}function p(){e.keepalive&&l.stop()}function f(){b.idling=!b.idling;var t=b.idling?"IdleStart":"IdleEnd";b.idling?(r.$broadcast(t),p(),e.timeout&&(b.countdown=e.timeout,h(),b.timeout=i(h,1e3,e.timeout,!1))):(u(),r.$broadcast(t)),i.cancel(b.idle)}function h(){if(b.idling){if(b.countdown<=0)return void g();r.$broadcast("IdleWarn",b.countdown),b.countdown--}}function g(){p(),i.cancel(b.idle),i.cancel(b.timeout),b.idling=!0,b.running=!1,b.countdown=0,r.$broadcast("IdleTimeout")}function m(e,t,n){var a=e.running();e.unwatch(),t(n),a&&e.watch()}function v(e){e?c.set("expiry",{id:w,time:e}):c.remove("expiry")}var b={idle:null,timeout:null,idling:!1,running:!1,countdown:null},w=(new Date).getTime(),y={_options:function(){return e},_getNow:function(){return new Date},getIdle:function(){return e.idle},getTimeout:function(){return e.timeout},setIdle:function(e){m(this,a,e)},setTimeout:function(e){m(this,n,e)},isExpired:function(){var e=function(){var e=c.get("expiry");return e&&e.time?new Date(e.time):null}();return null!==e&&e<=this._getNow()},running:function(){return b.running},idling:function(){return b.idling},watch:function(t){i.cancel(b.idle),i.cancel(b.timeout);var n=e.timeout?e.timeout:0;t||v(new Date((new Date).getTime()+1e3*(e.idle+n))),b.idling?f():b.running||u(),b.running=!0,b.idle=i(f,1e3*e.idle,0,!1)},unwatch:function(){i.cancel(b.idle),i.cancel(b.timeout),b.idling=!1,b.running=!1,v(null),p()},interrupt:function(t){if(b.running){if(e.timeout&&this.isExpired())return void g();(function(e){r.$broadcast("IdleInterrupt",e)})(t),(t||"idle"===e.autoResume||"notIdle"===e.autoResume&&!b.idling)&&this.watch(t)}}},_={clientX:null,clientY:null,swap:function(e){var t={clientX:this.clientX,clientY:this.clientY};return this.clientX=e.clientX,this.clientY=e.clientY,t},hasMoved:function(e){var t=this.swap(e);return!(null!==this.clientX&&!e.movementX&&!e.movementY)||(t.clientX!=e.clientX||t.clientY!=e.clientY)}};if(o.find("html").on(e.interrupt,(function(e){"mousemove"===e.type&&e.originalEvent&&0===e.originalEvent.movementX&&0===e.originalEvent.movementY||("mousemove"!==e.type||_.hasMoved(e))&&y.interrupt()})),e.windowInterrupt)for(var x=e.windowInterrupt.split(" "),$=function(){y.interrupt()},k=0;k<x.length;k++)d.addEventListener?d.addEventListener(x[k],$,!1):d.attachEvent(x[k],$);var S=function(e){if("ngIdle.expiry"===e.key&&e.newValue&&e.newValue!==e.oldValue){if(t.fromJson(e.newValue).id===w)return;y.interrupt(!0)}};return d.addEventListener?d.addEventListener("storage",S,!1):d.attachEvent&&d.attachEvent("onstorage",S),y}]})),t.module("ngIdle.countdown",["ngIdle.idle"]).directive("idleCountdown",["Idle",function(e){return{restrict:"A",scope:{value:"=idleCountdown"},link:function(t){t.value=e.getTimeout(),t.$on("IdleWarn",(function(e,n){t.$evalAsync((function(){t.value=n}))})),t.$on("IdleTimeout",(function(){t.$evalAsync((function(){t.value=0}))}))}}}]),t.module("ngIdle.title",[]).provider("Title",(function(){var e={enabled:!0},n=this.enabled=function(t){e.enabled=!0===t};this.$get=["$document","$interpolate",function(a,i){var s={original:null,idle:"{{minutes}}:{{seconds}} until your session times out!",timedout:"Your session has expired."};return{setEnabled:n,isEnabled:function(){return e.enabled},original:function(e){return t.isUndefined(e)?s.original:void(s.original=e)},store:function(e){(e||!s.original)&&(s.original=this.value())},value:function(e){return t.isUndefined(e)?a[0].title:void(a[0].title=e)},idleMessage:function(e){return t.isUndefined(e)?s.idle:void(s.idle=e)},timedOutMessage:function(e){return t.isUndefined(e)?s.timedout:void(s.timedout=e)},setAsIdle:function(e){this.store();var t={totalSeconds:e};t.minutes=Math.floor(e/60),t.seconds=function(e,t,n){return new Array(t-String(e).length+1).join(n||"0")+e}(e-60*t.minutes,2),this.value(i(this.idleMessage())(t))},setAsTimedOut:function(){this.store(),this.value(this.timedOutMessage())},restore:function(){this.original()&&this.value(this.original())}}}]})).directive("title",["Title",function(e){return{restrict:"E",link:function(t,n,a){e.isEnabled()&&!a.idleDisabled&&(e.store(!0),t.$on("IdleStart",(function(){e.original(n[0].innerText)})),t.$on("IdleWarn",(function(t,n){e.setAsIdle(n)})),t.$on("IdleEnd",(function(){e.restore()})),t.$on("IdleTimeout",(function(){e.setAsTimedOut()})))}}}]),t.module("ngIdle.localStorage",[]).service("IdleStorageAccessor",["$window",function(e){return{get:function(){return e.localStorage}}}]).service("IdleLocalStorage",["IdleStorageAccessor",function(e){function n(){var e={};this.setItem=function(t,n){e[t]=n},this.getItem=function(t){return void 0!==e[t]?e[t]:null},this.removeItem=function(t){e[t]=undefined}}var a=function(){try{var t=e.get();return t.setItem("ngIdleStorage",""),t.removeItem("ngIdleStorage"),t}catch(e){return new n}}();return{set:function(e,n){a.setItem("ngIdle."+e,t.toJson(n))},get:function(e){return t.fromJson(a.getItem("ngIdle."+e))},remove:function(e){a.removeItem("ngIdle."+e)},_wrapped:function(){return a}}}])}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="monospaced.qrcode"),angular.module("monospaced.qrcode",[]).directive("qrcode",["$window",function(e){var t=!!e.CanvasRenderingContext2D,n={L:"Low",M:"Medium",Q:"Quartile",H:"High"};return{restrict:"E",template:'<canvas class="qrcode"></canvas>',link:function(e,a,i){var s,r,o,l,c,d,u,p,f,h=a[0],g=a.find("canvas"),m=g[0],v=t?m.getContext("2d"):null,b="download"in i,w=i.href,y=b||w?document.createElement("a"):"",_=/^\s+|\s+$/g,x={foreground:"#000",background:"#fff"},$=function(e){x.foreground=e||x.foreground},k=function(e){x.background=e||x.background},S=function(e){r=Math.max(1,Math.min(parseInt(e,10),40))||5},C=function(e){o=e in n?e:"M"},A=function(e){if(e){l=e.replace(_,""),(p=qrcode(r,o)).addData(l);try{p.make()}catch(n){var t;if(r>=40)throw new Error("Data is too long",n);return S(t=r+1),console.warn("qrcode version is too low and has been incremented to",t),void A(e)}s=!1,d=p.getModuleCount()}},T=function(e){c=parseInt(e,10)||2*d,u=c/d,m.width=m.height=c},M=function(){if(p){if(s)return y&&(y.removeAttribute("download"),y.title="",y.href="#_"),t||(h.innerHTML='<img src width="'+c+'"height="'+c+'"class="qrcode">'),void e.$emit("qrcode:error",s);if(b&&(h.download="qrcode.png",h.title="Download QR code"),t){if(function(e,t,n,a,i){for(var s=0;s<n;s++)for(var r=0;r<n;r++){var o=Math.ceil((r+1)*a)-Math.floor(r*a),l=Math.ceil((s+1)*a)-Math.floor(s*a);e.fillStyle=t.isDark(s,r)?i.foreground:i.background,e.fillRect(Math.round(r*a),Math.round(s*a),o,l)}}(v,p,d,u,x),b)return void(h.href=m.toDataURL("image/png"))}else if(h.innerHTML=p.createImgTag(u,0),(f=a.find("img")).addClass("qrcode"),b)return void(h.href=f[0].src);w&&(h.href=w)}};y&&(y.className="qrcode-link",g.wrap(y),h=h.firstChild),$(i.color),k(i.background),S(i.version),C(i.errorCorrectionLevel),T(i.size),i.$observe("version",(function(e){e&&(S(e),A(l),T(c),M())})),i.$observe("errorCorrectionLevel",(function(e){e&&(C(e),A(l),T(c),M())})),i.$observe("data",(function(e){e&&(A(e),T(c),M())})),i.$observe("size",(function(e){e&&(T(e),M())})),i.$observe("color",(function(e){e&&($(e),M())})),i.$observe("background",(function(e){e&&(k(e),M())})),i.$observe("href",(function(e){e&&(w=e,M())}))}}}]),
/**
 * @license AngularJS v1.8.3
 * (c) 2010-2020 Google LLC. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";var n=t.$$minErr("$resource"),a=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;function i(e,i){if(!function(e){return null!=e&&""!==e&&"hasOwnProperty"!==e&&a.test("."+e)}(i))throw n("badmember",'Dotted member path "@{0}" is invalid.',i);for(var s=i.split("."),r=0,o=s.length;r<o&&t.isDefined(e);r++){var l=s[r];e=null!==e?e[l]:void 0}return e}function s(e,n){for(var a in n=n||{},t.forEach(n,(function(e,t){delete n[t]})),e)!e.hasOwnProperty(a)||"$"===a.charAt(0)&&"$"===a.charAt(1)||(n[a]=e[a]);return n}t.module("ngResource",["ng"]).info({angularVersion:"1.8.3"}).provider("$resource",(function(){var e=/^https?:\/\/\[[^\]]*][^/]*/,a=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(r,o,l,c){var d=t.noop,u=t.forEach,p=t.extend,f=t.copy,h=t.isArray,g=t.isDefined,m=t.isFunction,v=t.isNumber,b=t.$$encodeUriQuery,w=t.$$encodeUriSegment;function y(e,t){this.template=e,this.defaults=p({},a.defaults,t),this.urlParams={}}return y.prototype={setUrlParams:function(t,a,i){var s,r,o=this,l=i||o.template,c="",d=o.urlParams=Object.create(null);u(l.split(/\W/),(function(e){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(l)&&(d[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(l)})})),l=(l=l.replace(/\\:/g,":")).replace(e,(function(e){return c=e,""})),a=a||{},u(o.urlParams,(function(e,t){s=a.hasOwnProperty(t)?a[t]:o.defaults[t],g(s)&&null!==s?(r=e.isQueryParamValue?b(s,!0):w(s),l=l.replace(new RegExp(":"+t+"(\\W|$)","g"),(function(e,t){return r+t}))):l=l.replace(new RegExp("(/?):"+t+"(\\W|$)","g"),(function(e,t,n){return"/"===n.charAt(0)?n:t+n}))})),o.defaults.stripTrailingSlashes&&(l=l.replace(/\/+$/,"")||"/"),l=l.replace(/\/\.(?=\w+($|\?))/,"."),t.url=c+l.replace(/\/(\\|%5C)\./,"/."),u(a,(function(e,n){o.urlParams[n]||(t.params=t.params||{},t.params[n]=e)}))}},function(e,t,b,w){var _=new y(e,w);function x(e){return e.resource}function $(e){s(e||{},this)}return b=p({},a.defaults.actions,b),$.prototype.toJSON=function(){var e=p({},this);return delete e.$promise,delete e.$resolved,delete e.$cancelRequest,e},u(b,(function(e,a){var b=!0===e.hasBody||!1!==e.hasBody&&/^(POST|PUT|PATCH)$/i.test(e.method),w=e.timeout,y=g(e.cancellable)?e.cancellable:_.defaults.cancellable;w&&!v(w)&&(o.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete e.timeout,w=null),$[a]=function(o,g,v,k){var S,C,A,T={};switch(arguments.length){case 4:A=k,C=v;case 3:case 2:if(!m(g)){T=o,S=g,C=v;break}if(m(o)){C=o,A=g;break}C=g,A=v;case 1:m(o)?C=o:b?S=o:T=o;break;case 0:break;default:throw n("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var M,P,E,D=this instanceof $,O=D?S:e.isArray?[]:new $(S),R={},L=e.interceptor&&e.interceptor.request||void 0,I=e.interceptor&&e.interceptor.requestError||void 0,F=e.interceptor&&e.interceptor.response||x,U=e.interceptor&&e.interceptor.responseError||l.reject,q=C?function(e){C(e,E.headers,E.status,E.statusText)}:void 0,z=A||void 0;u(e,(function(e,t){switch(t){default:R[t]=f(e);case"params":case"isArray":case"interceptor":case"cancellable":}})),!D&&y&&(M=l.defer(),R.timeout=M.promise,w&&(P=c(M.resolve,w))),b&&(R.data=S),_.setUrlParams(R,p({},function(e,n){var a={};return n=p({},t,n),u(n,(function(t,n){m(t)&&(t=t(e)),a[n]=t&&t.charAt&&"@"===t.charAt(0)?i(e,t.substr(1)):t})),a}(S,e.params||{}),T),e.url);var N=l.resolve(R).then(L).catch(I).then(r);return N=N.then((function(t){var i=t.data;if(i){if(h(i)!==!!e.isArray)throw n("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",a,e.isArray?"array":"object",h(i)?"array":"object",R.method,R.url);if(e.isArray)O.length=0,u(i,(function(e){"object"==typeof e?O.push(new $(e)):O.push(e)}));else{var r=O.$promise;s(i,O),O.$promise=r}}return t.resource=O,E=t,F(t)}),(function(e){return e.resource=O,E=e,U(e)})),(N=N.finally((function(){O.$resolved=!0,!D&&y&&(O.$cancelRequest=d,c.cancel(P),M=P=R.timeout=null)}))).then(q,z),D?N:(O.$promise=N,O.$resolved=!1,y&&(O.$cancelRequest=function(e){N.catch(d),null!==M&&M.resolve(e)}),O)},$.prototype["$"+a]=function(e,t,n){m(e)&&(n=t,t=e,e={});var i=$[a].call(this,e,this,t,n);return i.$promise||i}})),$}}]}))}(window,window.angular),
/**
 * @license AngularJS v1.8.3
 * (c) 2010-2020 Google LLC. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";function n(e,t){var n=[],a=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,(function(e,t,a,i){var s="?"===i||"*?"===i,r="*"===i||"*?"===i;return n.push({name:a,optional:s}),t=t||"",(s?"(?:"+t:t+"(?:")+(r?"(.+?)":"([^/]+)")+(s?"?)?":")")})).replace(/([/$*])/g,"\\$1");return t.ignoreTrailingSlashes&&(a=a.replace(/\/+$/,"")+"/*"),{keys:n,regexp:new RegExp("^"+a+"(?:[?#]|$)",t.caseInsensitiveMatch?"i":"")}}var a,i,s,r,o,l=t.module("ngRoute",[]).info({angularVersion:"1.8.3"}).provider("$route",(function(){function e(e,n){return t.extend(Object.create(e),n)}a=t.isArray,i=t.isObject,s=t.isDefined,r=t.noop;var l={};this.when=function(e,s){var r=function(e,t){if(a(e)){t=t||[];for(var n=0,s=e.length;n<s;n++)t[n]=e[n]}else if(i(e))for(var r in t=t||{},e)"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r]);return t||e}(s);if(t.isUndefined(r.reloadOnUrl)&&(r.reloadOnUrl=!0),t.isUndefined(r.reloadOnSearch)&&(r.reloadOnSearch=!0),t.isUndefined(r.caseInsensitiveMatch)&&(r.caseInsensitiveMatch=this.caseInsensitiveMatch),l[e]=t.extend(r,{originalPath:e},e&&n(e,r)),e){var o="/"===e[e.length-1]?e.substr(0,e.length-1):e+"/";l[o]=t.extend({originalPath:e,redirectTo:e},n(o,r))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},o=!0,this.eagerInstantiationEnabled=function(e){return s(e)?(o=e,this):o},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(n,a,i,s,o,d,u,p){var f,h,g=!1,m={routes:l,reload:function(){g=!0;var e={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,g=!1}};n.$evalAsync((function(){v(e),e.defaultPrevented||b()}))},updateParams:function(e){if(!this.current||!this.current.$$route)throw c("norout","Tried updating route with no current route");e=t.extend({},this.current.params,e),a.path(x(this.current.$$route.originalPath,e)),a.search(e)}};return n.$on("$locationChangeStart",v),n.$on("$locationChangeSuccess",b),m;function v(i){var s,r,o,c,d=m.current;t.forEach(l,(function(n,i){!r&&(s=function(e,t){var n=t.keys,a={};if(!t.regexp)return null;var i=t.regexp.exec(e);if(!i)return null;for(var s=1,r=i.length;s<r;++s){var o=n[s-1],l=i[s];o&&l&&(a[o.name]=l)}return a}(a.path(),n))&&((r=e(n,{params:t.extend({},a.search(),s),pathParams:s})).$$route=n)})),f=r||l.null&&e(l.null,{params:{},pathParams:{}}),o=f,c=d,(h=!g&&o&&c&&o.$$route===c.$$route&&(!o.reloadOnUrl||!o.reloadOnSearch&&t.equals(o.pathParams,c.pathParams)))||!d&&!f||n.$broadcast("$routeChangeStart",f,d).defaultPrevented&&i&&i.preventDefault()}function b(){var e=m.current,a=f;if(h)e.params=a.params,t.copy(e.params,i),n.$broadcast("$routeUpdate",e);else if(a||e){g=!1,m.current=a;var o=s.resolve(a);p.$$incOutstandingRequestCount("$route"),o.then(w).then(y).then((function(s){return s&&o.then(_).then((function(s){a===m.current&&(a&&(a.locals=s,t.copy(a.params,i)),n.$broadcast("$routeChangeSuccess",a,e))}))})).catch((function(t){a===m.current&&n.$broadcast("$routeChangeError",a,e,t)})).finally((function(){p.$$completeOutstandingRequest(r,"$route")}))}}function w(e){var n={route:e,hasRedirection:!1};if(e)if(e.redirectTo)if(t.isString(e.redirectTo))n.path=x(e.redirectTo,e.params),n.search=e.params,n.hasRedirection=!0;else{var i=a.path(),r=a.search(),l=e.redirectTo(e.pathParams,i,r);t.isDefined(l)&&(n.url=l,n.hasRedirection=!0)}else if(e.resolveRedirectTo)return s.resolve(o.invoke(e.resolveRedirectTo)).then((function(e){return t.isDefined(e)&&(n.url=e,n.hasRedirection=!0),n}));return n}function y(e){var t=!0;if(e.route!==m.current)t=!1;else if(e.hasRedirection){var n=a.url(),i=e.url;i?a.url(i).replace():i=a.path(e.path).search(e.search).replace().url(),i!==n&&(t=!1)}return t}function _(e){if(e){var n=t.extend({},e.resolve);t.forEach(n,(function(e,a){n[a]=t.isString(e)?o.get(e):o.invoke(e,null,null,a)}));var a=function(e){var n,a;t.isDefined(n=e.template)?t.isFunction(n)&&(n=n(e.params)):t.isDefined(a=e.templateUrl)&&(t.isFunction(a)&&(a=a(e.params)),t.isDefined(a)&&(e.loadedTemplateUrl=u.valueOf(a),n=d(a)));return n}(e);return t.isDefined(a)&&(n.$template=a),s.all(n)}}function x(e,n){var a=[];return t.forEach((e||"").split(":"),(function(e,t){if(0===t)a.push(e);else{var i=e.match(/(\w+)(?:[?*])?(.*)/),s=i[1];a.push(n[s]),a.push(i[2]||""),delete n[s]}})),a.join("")}}]})).run(d),c=t.$$minErr("ngRoute");function d(e){o&&e.get("$route")}function u(e,n,a){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,s,r,o,l){var c,d,u,p=r.autoscroll,f=r.onload||"";function h(){u&&(a.cancel(u),u=null),c&&(c.$destroy(),c=null),d&&((u=a.leave(d)).done((function(e){!1!==e&&(u=null)})),d=null)}function g(){var r=e.current&&e.current.locals,o=r&&r.$template;if(t.isDefined(o)){var u=i.$new(),g=e.current,m=l(u,(function(e){a.enter(e,null,d||s).done((function(e){!1===e||!t.isDefined(p)||p&&!i.$eval(p)||n()})),h()}));d=m,(c=g.scope=u).$emit("$viewContentLoaded"),c.$eval(f)}else h()}i.$on("$routeChangeSuccess",g),g()}}}function p(e,t,n){return{restrict:"ECA",priority:-400,link:function(a,i){var s=n.current,r=s.locals;i.html(r.$template);var o=e(i.contents());if(s.controller){r.$scope=a;var l=t(s.controller,r);s.controllerAs&&(a[s.controllerAs]=l),i.data("$ngControllerController",l),i.children().data("$ngControllerController",l)}a[s.resolveAs||"$resolve"]=r,o(a)}}}d.$inject=["$injector"],l.provider("$routeParams",(function(){this.$get=function(){return{}}})),l.directive("ngView",u),l.directive("ngView",p),u.$inject=["$route","$anchorScroll","$animate"],p.$inject=["$compile","$controller","$route"]}(window,window.angular),
/**
 * @license AngularJS v1.8.3
 * (c) 2010-2020 Google LLC. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";var n,a,i,s,r,o,l,c,d,u,p=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",(function(){var f=!1,h=!1;this.$get=["$$sanitizeUri",function(e){return f=!0,h&&a(S,$),function(t){var n=[];return d(t,u(n,(function(t,n){return!/^unsafe:/.test(e(t,n))}))),n.join("")}}],this.enableSvg=function(e){return r(e)?(h=e,this):h},this.addValidElements=function(e){return f||(s(e)&&(e={htmlElements:e}),D($,e.svgElements),D(v,e.htmlVoidElements),D(S,e.htmlVoidElements),D(S,e.htmlElements)),this},this.addValidAttrs=function(e){return f||a(M,E(e,!0)),this},n=t.bind,a=t.extend,i=t.forEach,s=t.isArray,r=t.isDefined,o=t.$$lowercase,l=t.noop,d=function(e,t){null==e?e="":"string"!=typeof e&&(e=""+e);var n=O(e);if(!n)return"";var a=5;do{if(0===a)throw p("uinput","Failed to sanitize html because the input is unstable");a--,e=n.innerHTML,n=O(e)}while(e!==n.innerHTML);var i=n.firstChild;for(;i;){switch(i.nodeType){case 1:t.start(i.nodeName.toLowerCase(),R(i.attributes));break;case 3:t.chars(i.textContent)}var s;if(!((s=i.firstChild)||(1===i.nodeType&&t.end(i.nodeName.toLowerCase()),s=F("nextSibling",i))))for(;null==s&&(i=F("parentNode",i))!==n;)s=F("nextSibling",i),1===i.nodeType&&t.end(i.nodeName.toLowerCase());i=s}for(;i=n.firstChild;)n.removeChild(i)},u=function(e,t){var a=!1,s=n(e,e.push);return{start:function(e,n){e=o(e),!a&&k[e]&&(a=e),a||!0!==S[e]||(s("<"),s(e),i(n,(function(n,a){var i=o(a),r="img"===e&&"src"===i||"background"===i;!0!==M[i]||!0===C[i]&&!t(n,r)||(s(" "),s(a),s('="'),s(L(n)),s('"'))})),s(">"))},end:function(e){e=o(e),a||!0!==S[e]||!0===v[e]||(s("</"),s(e),s(">")),e==a&&(a=!1)},chars:function(e){a||s(L(e))}}},c=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var g=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=/([^#-~ |!])/g,v=P("area,br,col,hr,img,wbr"),b=P("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),w=P("rp,rt"),y=a({},w,b),_=a({},b,P("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),x=a({},w,P("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),$=P("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),k=P("script,style"),S=a({},v,_,x,y),C=P("background,cite,href,longdesc,src,xlink:href,xml:base"),A=P("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),T=P("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),M=a({},C,T,A);function P(e,t){return E(e.split(","),t)}function E(e,t){var n,a={};for(n=0;n<e.length;n++)a[t?o(e[n]):e[n]]=!0;return a}function D(e,t){t&&t.length&&a(e,E(t))}var O=function(e,t){if(function(){try{return!!i("")}catch(e){return!1}}())return i;if(!t||!t.implementation)throw p("noinert","Can't create an inert html document");var n=t.implementation.createHTMLDocument("inert"),a=(n.documentElement||n.getDocumentElement()).querySelector("body");return function(e){a.innerHTML=e,t.documentMode&&I(a);return a};function i(t){t="<remove></remove>"+t;try{var n=(new e.DOMParser).parseFromString(t,"text/html").body;return n.firstChild.remove(),n}catch(e){return}}}(e,e.document);function R(e){for(var t={},n=0,a=e.length;n<a;n++){var i=e[n];t[i.name]=i.value}return t}function L(e){return e.replace(/&/g,"&amp;").replace(g,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(m,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function I(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,a=0,i=n.length;a<i;a++){var s=n[a],r=s.name.toLowerCase();"xmlns:ns1"!==r&&0!==r.lastIndexOf("ns1:",0)||(t.removeAttributeNode(s),a--,i--)}var o=t.firstChild;o&&I(o),t=F("nextSibling",t)}}function F(e,t){var n=t[e];if(n&&c.call(t,n))throw p("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return n}})).info({angularVersion:"1.8.3"}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,a=/^mailto:/i,i=t.$$minErr("linky"),s=t.isDefined,r=t.isFunction,o=t.isObject,c=t.isString;return function(t,d,p){if(null==t||""===t)return t;if(!c(t))throw i("notstring","Expected string but received: {0}",t);for(var f,h,g,m=r(p)?p:o(p)?function(){return p}:function(){return{}},v=t,b=[];f=v.match(n);)h=f[0],f[2]||f[4]||(h=(f[3]?"http://":"mailto:")+h),g=f.index,w(v.substr(0,g)),y(h,f[0].replace(a,"")),v=v.substring(g+f[0].length);return w(v),e(b.join(""));function w(e){var t,n;e&&b.push((t=e,u(n=[],l).chars(t),n.join("")))}function y(e,t){var n,a=m(e);for(n in b.push("<a "),a)b.push(n+'="'+a[n]+'" ');s(d)&&!("target"in a)&&b.push('target="',d,'" '),b.push('href="',e.replace(/"/g,"&quot;"),'">'),w(t),b.push("</a>")}}}])}(window,window.angular),
/*!
 * angular-translate - v2.19.0 - 2021-09-02
 * 
 * Copyright (c) 2021 The angular-translate team, Pascal Precht; Licensed MIT
 */
function(e,t){"function"==typeof define&&define.amd?define([],(function(){return t()})):"object"==typeof module&&module.exports?module.exports=t():t()}(0,(function(){function e(e){"use strict";var t=e.storageKey(),n=e.storage(),a=function(){var a=e.preferredLanguage();angular.isString(a)?e.use(a):n.put(t,e.use())};a.displayName="fallbackFromIncorrectStorageValue",n?n.get(t)?e.use(n.get(t)).catch(a):a():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function t(e,t,n,a){"use strict";var i,s,r,o,l,c,d,u,p,f,h,g,m,v,b,w,y={},_=[],x=e,$=[],k="translate-cloak",S=!1,C=!1,A=!0,T=".",M=!1,P=!1,E=0,D=!0,O="default",R={default:function(e){return(e||"").split("-").join("_")},java:function(e){var t=(e||"").split("-").join("_"),n=t.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():t},bcp47:function(e){var t=(e||"").split("_").join("-"),n=t.split("-");switch(n.length){case 1:n[0]=n[0].toLowerCase();break;case 2:n[0]=n[0].toLowerCase(),4===n[1].length?n[1]=n[1].charAt(0).toUpperCase()+n[1].slice(1).toLowerCase():n[1]=n[1].toUpperCase();break;case 3:n[0]=n[0].toLowerCase(),n[1]=n[1].charAt(0).toUpperCase()+n[1].slice(1).toLowerCase(),n[2]=n[2].toUpperCase();break;default:return t}return n.join("-")},"iso639-1":function(e){return(e||"").split("_").join("-").split("-")[0].toLowerCase()}},L=function(){if(angular.isFunction(a.getLocale))return a.getLocale();var e,n,i=t.$get().navigator,s=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(i.languages))for(e=0;e<i.languages.length;e++)if((n=i.languages[e])&&n.length)return n;for(e=0;e<s.length;e++)if((n=i[s[e]])&&n.length)return n;return null};L.displayName="angular-translate/service: getFirstBrowserLanguage";var I=function(){var e=L()||"";return R[O]&&(e=R[O](e)),e};I.displayName="angular-translate/service: getLocale";var F=function(e,t){for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1},U=function(){return this.toString().replace(/^\s+|\s+$/g,"")},q=function(e){return angular.isString(e)?e.toLowerCase():e},z=function(e){if(e){for(var t,n=[],a=q(e),i=0,r=_.length;i<r;i++)n.push(q(_[i]));if((i=F(n,a))>-1)return _[i];if(s)for(var o in s)if(s.hasOwnProperty(o)){var l=!1,c=Object.prototype.hasOwnProperty.call(s,o)&&q(o)===q(e);if("*"===o.slice(-1)&&(l=q(o.slice(0,-1))===q(e.slice(0,o.length-1))),(c||l)&&(t=s[o],F(n,q(t))>-1))return t}var d=e.split("_");return d.length>1&&F(n,q(d[0]))>-1?d[0]:void 0}},N=function(e,t){if(!e&&!t)return y;if(e&&!t){if(angular.isString(e))return y[e]}else angular.isObject(y[e])||(y[e]={}),angular.extend(y[e],j(t));return this};this.translations=N,this.cloakClassName=function(e){return e?(k=e,this):k},this.allowNamespaces=function(e){return void 0===e?A:(A=e,this)},this.nestedObjectDelimeter=function(e){return e?(T=e,this):T};var j=function(e,t,n,a){var i,s,r;if(t||(t=[]),n||(n={}),!A)return e;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r=e[i],angular.isObject(r)?j(r,t.concat(i),n,i):(s=t.length?""+t.join(T)+T+i:i,t.length&&i===a&&(n[""+t.join(T)]="@:"+s),n[s]=r));return n};j.displayName="flatObject",this.addInterpolation=function(e){return $.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return f=e,this},this.useSanitizeValueStrategy=function(e){return n.useStrategy(e),this},this.preferredLanguage=function(e){return e?(B(e),this):i};var B=function(e){return e&&(i=e),i};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(m=e,this):m},this.translationNotFoundIndicatorRight=function(e){return e?(v=e,this):v},this.fallbackLanguage=function(e){return V(e),this};var V=function(e){return e?(angular.isString(e)?(o=!0,r=[e]):angular.isArray(e)&&(o=!1,r=e),angular.isString(i)&&F(r,i)<0&&r.push(i),this):o?r[0]:r};this.use=function(e){if(e){if(!y[e]&&!h)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return l=e,this}return l},this.resolveClientLocale=function(){return I()};var H=function(e){return e?(x=e,this):u?u+x:x};this.storageKey=H,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return h=e,g=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return d=e,this},this.storagePrefix=function(e){return e?(u=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return p=e,this},this.usePostCompiling=function(e){return S=!!e,this},this.forceAsyncReload=function(e){return C=!!e,this},this.uniformLanguageTag=function(e){return e?angular.isString(e)&&(e={standard:e}):e={},O=e.standard,this},this.determinePreferredLanguage=function(e){var t=e&&angular.isFunction(e)?e():I();return i=_.length&&z(t)||t,this},this.registerAvailableLanguageKeys=function(e,t){return e?(_=e,t&&(s=t),this):_},this.useLoaderCache=function(e){return!1===e?b=void 0:!0===e?b=!0:void 0===e?b="$translationCache":e&&(b=e),this},this.directivePriority=function(e){return void 0===e?E:(E=e,this)},this.statefulFilter=function(e){return void 0===e?D:(D=e,this)},this.postProcess=function(e){return w=e||void 0,this},this.keepContent=function(e){return P=!!e,this},this.$get=["$log","$injector","$rootScope","$q",function(e,t,n,a){var s,u,O,R=t.get(f||"$translateDefaultInterpolation"),L=!1,q={},W={},G=function(e,t,n,o,c,p){!l&&i&&(l=i);var f=c&&c!==l?z(c)||c:l;if(c&&re(c),angular.isArray(e)){return function(e){for(var i={},s=[],r=function(e){var s=a.defer(),r=function(t){i[e]=t,s.resolve([e,t])};return G(e,t,n,o,c,p).then(r,r),s.promise},l=0,d=e.length;l<d;l++)s.push(r(e[l]));return a.all(s).then((function(){return i}))}(e)}var h=a.defer();if(!e)throw new TypeError("translationId must be a not empty string");e=U.apply(e);var g=function(){var e=W[f]||W[i];if(u=0,d&&!e){var t=s.get(x);if(e=W[t],r&&r.length){var n=F(r,t);u=0===n?1:0,F(r,i)<0&&r.push(i)}}return e}();if(g){var m=function(){c||(f=l),ae(e,t,n,o,f,p).then(h.resolve,h.reject)};m.displayName="promiseResolved",g.finally(m).catch(angular.noop)}else ae(e,t,n,o,f,p).then(h.resolve,h.reject);return h.promise},Y=function(e){return m&&(e=[m,e].join(" ")),v&&(e=[e,v].join(" ")),e},K=function(e){l=e,d&&s.put(G.storageKey(),l),n.$emit("$translateChangeSuccess",{language:e}),R.setLocale(l);var t=function(e,t){q[t].setLocale(l)};t.displayName="eachInterpolatorLocaleSetter",angular.forEach(q,t),n.$emit("$translateChangeEnd",{language:e})},Q=function(e){if(!e)throw"No language key specified for loading.";var i=a.defer();n.$emit("$translateLoadingStart",{language:e}),L=!0;var s=b;"string"==typeof s&&(s=t.get(s));var r=angular.extend({},g,{key:e,$http:angular.extend({},{cache:s},g.$http)}),o=function(t){var a={};n.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(t)?angular.forEach(t,(function(e){angular.extend(a,j(e))})):angular.extend(a,j(t)),L=!1,i.resolve({key:e,table:a}),n.$emit("$translateLoadingEnd",{language:e})};o.displayName="onLoaderSuccess";var l=function(e){n.$emit("$translateLoadingError",{language:e}),i.reject(e),n.$emit("$translateLoadingEnd",{language:e})};return l.displayName="onLoaderError",t.get(h)(r).then(o,l),i.promise};if(d&&(!(s=t.get(d)).get||!s.put))throw new Error("Couldn't use storage '"+d+"', missing get() or put() method!");if($.length){var X=function(e){var n=t.get(e);n.setLocale(i||l),q[n.getInterpolationIdentifier()]=n};X.displayName="interpolationFactoryAdder",angular.forEach($,X)}var Z=function(e,t,n,i,s){var r=a.defer(),o=function(a){if(Object.prototype.hasOwnProperty.call(a,t)&&null!==a[t]){i.setLocale(e);var o=a[t];if("@:"===o.substr(0,2))Z(e,o.substr(2),n,i,s).then(r.resolve,r.reject);else{var c=i.interpolate(a[t],n,"service",s,t);c=se(t,a[t],c,n,e),r.resolve(c)}i.setLocale(l)}else r.reject()};return o.displayName="fallbackTranslationResolver",function(e){var t=a.defer();if(Object.prototype.hasOwnProperty.call(y,e))t.resolve(y[e]);else if(W[e]){var n=function(e){N(e.key,e.table),t.resolve(e.table)};n.displayName="translationTableResolver",W[e].then(n,t.reject)}else t.reject();return t.promise}(e).then(o,r.reject),r.promise},J=function(e,t,n,a,i){var s,r=y[e];if(r&&Object.prototype.hasOwnProperty.call(r,t)&&null!==r[t]){if(a.setLocale(e),s=a.interpolate(r[t],n,"filter",i,t),s=se(t,r[t],s,n,e,i),!angular.isString(s)&&angular.isFunction(s.$$unwrapTrustedValue)){var o=s.$$unwrapTrustedValue();if("@:"===o.substr(0,2))return J(e,o.substr(2),n,a,i)}else if("@:"===s.substr(0,2))return J(e,s.substr(2),n,a,i);a.setLocale(l)}return s},ee=function(e,n,a,i){return p?t.get(p)(e,l,n,a,i):e},te=function(e,t,n,i,s,o){var l=a.defer();if(e<r.length){var c=r[e];Z(c,t,n,i,o).then((function(e){l.resolve(e)}),(function(){return te(e+1,t,n,i,s,o).then(l.resolve,l.reject)}))}else if(s)l.resolve(s);else{var d=ee(t,n,s);p&&d?l.resolve(d):l.reject(Y(t))}return l.promise},ne=function(e,t,n,a,i){var s;if(e<r.length){var o=r[e];(s=J(o,t,n,a,i))||""===s||(s=ne(e+1,t,n,a))}return s},ae=function(e,t,n,i,s,o){var l=a.defer(),c=s?y[s]:y,d=n?q[n]:R;if(c&&Object.prototype.hasOwnProperty.call(c,e)&&null!==c[e]){var f=c[e];if("@:"===f.substr(0,2))G(f.substr(2),t,n,i,s,o).then(l.resolve,l.reject);else{var h=d.interpolate(f,t,"service",o,e);h=se(e,f,h,t,s),l.resolve(h)}}else{var g;p&&!L&&(g=ee(e,t,i)),s&&r&&r.length?function(e,t,n,a,i){return te(O>0?O:u,e,t,n,a,i)}(e,t,d,i,o).then((function(e){l.resolve(e)}),(function(e){l.reject(Y(e))})):p&&!L&&g?i?l.resolve(i):l.resolve(g):i?l.resolve(i):l.reject(Y(e))}return l.promise},ie=function(e,t,n,a,i){var s,o=a?y[a]:y,l=R;if(q&&Object.prototype.hasOwnProperty.call(q,n)&&(l=q[n]),o&&Object.prototype.hasOwnProperty.call(o,e)&&null!==o[e]){var c=o[e];"@:"===c.substr(0,2)?s=ie(c.substr(2),t,n,a,i):(s=l.interpolate(c,t,"filter",i,e),s=se(e,c,s,t,a,i))}else{var d;p&&!L&&(d=ee(e,t,i)),a&&r&&r.length?(u=0,s=function(e,t,n,a){return ne(O>0?O:u,e,t,n,a)}(e,t,l,i)):s=p&&!L&&d?d:Y(e)}return s},se=function(e,n,a,i,s,r){var o=w;return o&&("string"==typeof o&&(o=t.get(o)),o)?o(e,n,a,i,s,r):a},re=function(e){y[e]||!h||W[e]||(W[e]=Q(e).then((function(e){return N(e.key,e.table),e})))};G.preferredLanguage=function(e){return e&&B(e),i},G.cloakClassName=function(){return k},G.allowNamespaces=function(){return A},G.nestedObjectDelimeter=function(){return T},G.fallbackLanguage=function(e){if(null!=e){if(V(e),h&&r&&r.length)for(var t=0,n=r.length;t<n;t++)W[r[t]]||(W[r[t]]=Q(r[t]));G.use(G.use())}return o?r[0]:r},G.useFallbackLanguage=function(e){if(null!=e)if(e){var t=F(r,e);t>-1&&(O=t)}else O=0},G.proposedLanguage=function(){return c},G.storage=function(){return s},G.negotiateLocale=z,G.use=function(e){if(!e)return l;var t=a.defer();t.promise.then(null,angular.noop),n.$emit("$translateChangeStart",{language:e});var i=z(e);return _.length>0&&!i?a.reject(e):(i&&(e=i),c=e,!C&&y[e]||!h||W[e]?W[e]?W[e].then((function(e){return c===e.key&&K(e.key),t.resolve(e.key),e}),(function(e){return!l&&r&&r.length>0&&r[0]!==e?G.use(r[0]).then(t.resolve,t.reject):t.reject(e)})):(t.resolve(e),K(e)):(W[e]=Q(e).then((function(n){return N(n.key,n.table),t.resolve(n.key),c===e&&K(n.key),n}),(function(e){return n.$emit("$translateChangeError",{language:e}),t.reject(e),n.$emit("$translateChangeEnd",{language:e}),a.reject(e)})),W[e].finally((function(){!function(e){c===e&&(c=void 0),W[e]=void 0}(e)})).catch(angular.noop)),t.promise)},G.resolveClientLocale=function(){return I()},G.storageKey=function(){return H()},G.isPostCompilingEnabled=function(){return S},G.isForceAsyncReloadEnabled=function(){return C},G.isKeepContent=function(){return P},G.refresh=function(e){if(!h)throw new Error("Couldn't refresh translation table, no loader registered!");n.$emit("$translateRefreshStart",{language:e});var t=a.defer(),i={};function s(e){var t=Q(e);return W[e]=t,t.then((function(t){y[e]={},N(e,t.table),i[e]=!0}),angular.noop),t}if(t.promise.then((function(){for(var e in y)y.hasOwnProperty(e)&&(e in i||delete y[e]);l&&K(l)}),angular.noop).finally((function(){n.$emit("$translateRefreshEnd",{language:e})})),e)y[e]?s(e).then(t.resolve,t.reject):t.reject();else{var o=r&&r.slice()||[];l&&-1===o.indexOf(l)&&o.push(l),a.all(o.map(s)).then(t.resolve,t.reject)}return t.promise},G.instant=function(e,t,n,a,s){var o=a&&a!==l?z(a)||a:l;if(null===e||angular.isUndefined(e))return e;if(a&&re(a),angular.isArray(e)){for(var c={},d=0,u=e.length;d<u;d++)c[e[d]]=G.instant(e[d],t,n,a,s);return c}if(angular.isString(e)&&e.length<1)return e;e&&(e=U.apply(e));var f,h,g=[];i&&g.push(i),o&&g.push(o),r&&r.length&&(g=g.concat(r));for(var b=0,w=g.length;b<w;b++){var _=g[b];if(y[_]&&void 0!==y[_][e]&&(f=ie(e,t,n,o,s)),void 0!==f)break}f||""===f||(m||v?f=Y(e):(f=R.interpolate(e,t,"filter",s),p&&!L&&(h=ee(e,t,s)),p&&!L&&h&&(f=h)));return f},G.versionInfo=function(){return"2.19.0"},G.loaderCache=function(){return b},G.directivePriority=function(){return E},G.statefulFilter=function(){return D},G.isReady=function(){return M};var oe=a.defer();oe.promise.then((function(){M=!0})),G.onReady=function(e){var t=a.defer();return angular.isFunction(e)&&t.promise.then(e),M?t.resolve():oe.promise.then(t.resolve),t.promise},G.getAvailableLanguageKeys=function(){return _.length>0?_:null},G.getTranslationTable=function(e){return(e=e||G.use())&&y[e]?angular.copy(y[e]):null};var le=n.$on("$translateReady",(function(){oe.resolve(),le(),le=null})),ce=n.$on("$translateChangeEnd",(function(){oe.resolve(),ce(),ce=null}));if(h){if(angular.equals(y,{})&&G.use()&&G.use(G.use()),r&&r.length)for(var de=function(e){return N(e.key,e.table),n.$emit("$translateChangeEnd",{language:e.key}),e},ue=0,pe=r.length;ue<pe;ue++){var fe=r[ue];!C&&y[fe]||(W[fe]=Q(fe).then(de))}}else n.$emit("$translateReady",{language:G.use()});return G}]}function n(e,t){"use strict";var n={};return n.setLocale=function(e){e},n.getInterpolationIdentifier=function(){return"default"},n.useSanitizeValueStrategy=function(e){return t.useStrategy(e),this},n.interpolate=function(n,a,i,s,r){var o;return a=a||{},a=t.sanitize(a,"params",s,i),angular.isNumber(n)?o=""+n:angular.isString(n)?(o=e(n)(a),o=t.sanitize(o,"text",s,i)):o="",o},n}function a(e,t,n,a,s){"use strict";var r=function(){return this.toString().replace(/^\s+|\s+$/g,"")},o=function(e){return angular.isString(e)?e.toLowerCase():e};return{restrict:"AE",scope:!0,priority:e.directivePriority(),compile:function(l,c){var d=c.translateValues?c.translateValues:void 0,u=c.translateInterpolation?c.translateInterpolation:void 0,p=c.translateSanitizeStrategy?c.translateSanitizeStrategy:void 0,f=l[0].outerHTML.match(/translate-value-+/i),h="^(.*)("+t.startSymbol()+".*"+t.endSymbol()+")(.*)",g="^(.*)"+t.startSymbol()+"(.*)"+t.endSymbol()+"(.*)";return function(l,m,v){l.interpolateParams={},l.preText="",l.postText="",l.translateNamespace=i(l);var b={},w=function(e){if(angular.isFunction(w._unwatchOld)&&(w._unwatchOld(),w._unwatchOld=void 0),angular.equals(e,"")||!angular.isDefined(e)){var n=r.apply(m.text()).replace(/\n/g," "),a=n.match(h);if(angular.isArray(a)){l.preText=a[1],l.postText=a[3],b.translate=t(a[2])(l.$parent);var i=n.match(g);angular.isArray(i)&&i[2]&&i[2].length&&(w._unwatchOld=l.$watch(i[2],(function(e){b.translate=e,S()})))}else b.translate=n||void 0}else b.translate=e;S()},y=function(e){v.$observe(e,(function(t){b[e]=t,S()}))};!function(e,t,n){if(t.translateValues&&angular.extend(e,a(t.translateValues)(l.$parent)),f)for(var i in n){if(Object.prototype.hasOwnProperty.call(t,i)&&"translateValue"===i.substr(0,14)&&"translateValues"!==i)e[o(i.substr(14,1))+i.substr(15)]=n[i]}}(l.interpolateParams,v,c);var _=!0;for(var x in v.$observe("translate",(function(e){void 0===e?w(""):""===e&&_||(b.translate=e,S()),_=!1})),v)v.hasOwnProperty(x)&&"translateAttr"===x.substr(0,13)&&x.length>13&&y(x);if(v.$observe("translateDefault",(function(e){l.defaultText=e,S()})),p&&v.$observe("translateSanitizeStrategy",(function(e){l.sanitizeStrategy=a(e)(l.$parent),S()})),d&&v.$observe("translateValues",(function(e){e&&l.$parent.$watch((function(){angular.extend(l.interpolateParams,a(e)(l.$parent))}))})),f){var $=function(e){v.$observe(e,(function(t){var n=o(e.substr(14,1))+e.substr(15);l.interpolateParams[n]=t}))};for(var k in v)Object.prototype.hasOwnProperty.call(v,k)&&"translateValue"===k.substr(0,14)&&"translateValues"!==k&&$(k)}var S=function(){for(var e in b)b.hasOwnProperty(e)&&void 0!==b[e]&&C(e,b[e],l,l.interpolateParams,l.defaultText,l.translateNamespace)},C=function(t,n,a,i,s,r){n?(r&&"."===n.charAt(0)&&(n=r+n),e(n,i,u,s,a.translateLanguage,a.sanitizeStrategy).then((function(e){A(e,a,!0,t)}),(function(e){A(e,a,!1,t)}))):A(n,a,!1,t)},A=function(t,a,i,s){if(i||void 0!==a.defaultText&&(t=a.defaultText),"translate"===s){(i||!i&&!e.isKeepContent()&&void 0===v.translateKeepContent)&&m.empty().append(a.preText+t+a.postText);var r=e.isPostCompilingEnabled(),o=void 0!==c.translateCompile,l=o&&"false"!==c.translateCompile;(r&&!o||l)&&n(m.contents())(a)}else{var d=v.$attr[s];"data-"===d.substr(0,5)&&(d=d.substr(5)),d=d.substr(15),m.attr(d,t)}};(d||f||v.translateDefault)&&l.$watch("interpolateParams",S,!0),l.$on("translateLanguageChanged",S);var T=s.$on("$translateChangeSuccess",S);m.text().length?v.translate?w(v.translate):w(""):v.translate&&w(v.translate),S(),l.$on("$destroy",T)}}}}function i(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?i(e.$parent):void 0}function s(e,t){"use strict";return{restrict:"A",priority:e.directivePriority(),link:function(n,a,i){var s,o,l,c={},d=function(){angular.forEach(s,(function(t,s){t&&(c[s]=!0,n.translateNamespace&&"."===t.charAt(0)&&(t=n.translateNamespace+t),e(t,o,i.translateInterpolation,void 0,n.translateLanguage,l).then((function(e){a.attr(s,e)}),(function(e){a.attr(s,e)})))})),angular.forEach(c,(function(e,t){s[t]||(a.removeAttr(t),delete c[t])}))};r(n,i.translateAttr,(function(e){s=e}),d),r(n,i.translateValues,(function(e){o=e}),d),r(n,i.translateSanitizeStrategy,(function(e){l=e}),d),i.translateValues&&n.$watch(i.translateValues,d,!0),n.$on("translateLanguageChanged",d);var u=t.$on("$translateChangeSuccess",d);d(),n.$on("$destroy",u)}}}function r(e,t,n,a){"use strict";t&&("::"===t.substr(0,2)?t=t.substr(2):e.$watch(t,(function(e){n(e),a()}),!0),n(e.$eval(t)))}function o(e,t){"use strict";return{compile:function(n){var a=function(t){t.addClass(e.cloakClassName())},i=function(t){t.removeClass(e.cloakClassName())};return a(n),function(n,s,r){var o=i.bind(this,s),l=a.bind(this,s);r.translateCloak&&r.translateCloak.length?(r.$observe("translateCloak",(function(t){e(t).then(o,l)})),t.$on("$translateChangeSuccess",(function(){e(r.translateCloak).then(o,l)}))):e.onReady(o)}}}}function l(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,t,n){e.translateNamespace=c(e),e.translateNamespace&&"."===n.translateNamespace.charAt(0)?e.translateNamespace+=n.translateNamespace:e.translateNamespace=n.translateNamespace}}}}}function c(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?c(e.$parent):void 0}function d(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(e,t,n){n.$observe("translateLanguage",(function(t){e.translateLanguage=t})),e.$watch("translateLanguage",(function(){e.$broadcast("translateLanguageChanged")}))}}}}function u(e,t){"use strict";var n=function(n,a,i,s){if(!angular.isObject(a)){var r=this||{__SCOPE_IS_NOT_AVAILABLE:"More info at https://github.com/angular/angular.js/commit/8863b9d04c722b278fa93c5d66ad1e578ad6eb1f"};a=e(a)(r)}return t.instant(n,a,i,s)};return t.statefulFilter()&&(n.$stateful=!0),n}function p(e){"use strict";return e("translations")}return e.$inject=["$translate"],t.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.$inject=["$interpolate","$translateSanitization"],a.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],s.$inject=["$translate","$rootScope"],o.$inject=["$translate","$rootScope"],u.$inject=["$parse","$translate"],p.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(e),e.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",(function(){"use strict";var e,t,n,a=null,i=!1,s=!1;(n={sanitize:function(e,t){return"text"===t&&(e=o(e)),e},escape:function(e,t){return"text"===t&&(e=r(e)),e},sanitizeParameters:function(e,t){return"params"===t&&(e=c(e,o)),e},escapeParameters:function(e,t){return"params"===t&&(e=c(e,r)),e},sce:function(e,t,n){return"text"===t?e=l(e):"params"===t&&"filter"!==n&&(e=c(e,r)),e},sceParameters:function(e,t){return"params"===t&&(e=c(e,l)),e}}).escaped=n.escapeParameters,this.addStrategy=function(e,t){return n[e]=t,this},this.removeStrategy=function(e){return delete n[e],this},this.useStrategy=function(e){return i=!0,a=e,this},this.$get=["$injector","$log",function(r,o){var l={};return r.has("$sanitize")&&(e=r.get("$sanitize")),r.has("$sce")&&(t=r.get("$sce")),{useStrategy:function(e){return function(t){e.useStrategy(t)}}(this),sanitize:function(e,t,c,d){return a||i||s||(o.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),s=!0),c||null===c||(c=a),c?(d||(d="service"),function(e,t,a,i){return angular.forEach(i,(function(i){if(angular.isFunction(i))e=i(e,t,a);else if(angular.isFunction(n[i]))e=n[i](e,t,a);else{if(!angular.isString(n[i]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'");if(!l[n[i]])try{l[n[i]]=r.get(n[i])}catch(e){throw l[n[i]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'")}e=l[n[i]](e,t,a)}})),e}(e,t,d,angular.isArray(c)?c:[c])):e}}}];var r=function(e){var t=angular.element("<div></div>");return t.text(e),t.html()},o=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return e(t)},l=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return t.trustAsHtml(e)},c=function(e,t,n){if(angular.isDate(e))return e;if(angular.isObject(e)){var a=angular.isArray(e)?[]:{};if(n){if(n.indexOf(e)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(e),angular.forEach(e,(function(e,i){angular.isFunction(e)||(a[i]=c(e,t,n))})),n.splice(-1,1),a}return angular.isNumber(e)||!0===e||!1===e||angular.isUndefined(e)||null===e?e:t(e)}})),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",t),t.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",n),n.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",a),a.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",s),s.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",o),o.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",l),l.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",d),d.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",u),u.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",p),p.displayName="$translationCache","pascalprecht.translate"})),
/*!
 * angular-translate - v2.19.0 - 2021-09-02
 * 
 * Copyright (c) 2021 The angular-translate team, Pascal Precht; Licensed MIT
 */
function(e,t){"function"==typeof define&&define.amd?define([],(function(){return t()})):"object"==typeof module&&module.exports?module.exports=t():t()}(0,(function(){function e(e,t){"use strict";return function(n){if(!(n&&(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix))))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var a=function(a){if(!a||!angular.isString(a.prefix)||!angular.isString(a.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");var i=[a.prefix,n.key,a.suffix].join("");return angular.isObject(n.fileMap)&&n.fileMap[i]&&(i=n.fileMap[i]),t(angular.extend({url:i,method:"GET"},n.$http)).then((function(e){return e.data}),(function(){return e.reject(n.key)}))},i=[],s=n.files.length,r=0;r<s;r++)i.push(a({prefix:n.files[r].prefix,key:n.key,suffix:n.files[r].suffix}));return e.all(i).then((function(e){for(var t=e.length,n={},a=0;a<t;a++)for(var i in e[a])n[i]=e[a][i];return n}))}}return e.$inject=["$q","$http"],angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",e),e.displayName="$translateStaticFilesLoader","pascalprecht.translate"})),function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";var a,i=n(1),s=(a=i)&&a.__esModule?a:{default:a};angular.module("angularjs-dropdown-multiselect",[]).directive("dmDropdownStaticInclude",["$compile",function(e){return function(t,n,a){var i=a.dmDropdownStaticInclude,s=n.html(i).contents();e(s)(t)}}]).directive("ngDropdownMultiselect",s.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{restrict:"AE",scope:{selectedModel:"=",options:"=",extraSettings:"=",events:"=",searchFilter:"=?",translationTexts:"=",disabled:"="},transclude:{toggleDropdown:"?toggleDropdown"},controller:s.default,templateUrl:"app/component/angularjs-dropdown-multiselect.html"}};var a,i=n(2),s=(a=i)&&a.__esModule?a:{default:a}},function(e,t){"use strict";function n(e,t){var n=!1;return e.some((function(e){return e===t&&(n=!0,!0)})),n}function a(e,t,n){var a=-1;return e.some((function(e,i){return e[n]===t[n]&&(a=i,!0)})),a}function i(e,t,i,s){var r=t.children()[0],o={onItemSelect:angular.noop,onItemDeselect:angular.noop,onSelectAll:angular.noop,onDeselectAll:angular.noop,onInitDone:angular.noop,onMaxSelectionReached:angular.noop,onSelectionChanged:angular.noop,onClose:angular.noop},l={dynamicTitle:!0,scrollable:!1,scrollableHeight:"300px",closeOnBlur:!0,displayProp:"label",enableSearch:!1,clearSearchOnClose:!1,selectionLimit:0,showCheckAll:!0,showUncheckAll:!0,showEnableSearchButton:!1,closeOnSelect:!1,buttonClasses:"btn btn-default",closeOnDeselect:!1,groupBy:void 0,checkBoxes:!1,groupByTextProvider:null,smartButtonMaxItems:0,smartButtonTextConverter:angular.noop,styleActive:!1,selectedToTop:!1,keyboardControls:!1,template:"{{getPropertyForObject(option, settings.displayProp)}}",searchField:"$",showAllSelectedText:!1},c={checkAll:"Check All",uncheckAll:"Uncheck All",selectionCount:"checked",selectionOf:"/",searchPlaceholder:"Search...",buttonDefaultText:"Select",dynamicButtonTextSuffix:"checked",disableSearch:"Disable search",enableSearch:"Enable search",selectGroup:"Select all:",allSelectedText:"All"},d={searchFilter:e.searchFilter||""};function u(){setTimeout((function(){var e=angular.element(t)[0].querySelector(".option");angular.isDefined(e)&&null!=e&&e.focus()}),0)}function p(e){var n=t.find("button"),a=document.createElement("canvas").getContext("2d");return a.font=n.css("font-size")+n.css("font-family"),a.originalFont=n.css("font-size")+n.css("font-family"),a.fillStyle="#000000",a.measureText(e).width}angular.extend(l,e.extraSettings||[]),angular.extend(o,e.events||[]),angular.extend(c,e.translationTexts),l.closeOnBlur&&s.on("click",(function(t){if(e.open){for(var a=t.target.parentElement,i=!1;angular.isDefined(a)&&null!==a&&!i;)a.className.split&&n(a.className.split(" "),"multiselect-parent")&&!i&&a===r&&(i=!0),a=a.parentElement;i||e.$apply((function(){e.close()}))}})),angular.extend(e,{toggleDropdown:function(){e.open?e.close():e.open=!0;e.settings.keyboardControls&&e.open&&(1===e.settings.selectionLimit&&e.settings.enableSearch?setTimeout((function(){angular.element(t)[0].querySelector(".searchField").focus()}),0):u());e.settings.enableSearch&&e.open&&setTimeout((function(){angular.element(t)[0].querySelector(".searchField").focus()}),0)},checkboxClick:function(t,n){e.setSelectedItem(n,!1,!0),t.stopImmediatePropagation()},externalEvents:o,settings:l,texts:c,input:d,close:function(){e.open=!1,e.input.searchFilter=e.settings.clearSearchOnClose?"":e.input.searchFilter,e.externalEvents.onClose()},selectCurrentGroup:function(t){e.selectedModel.splice(0,e.selectedModel.length),e.options.forEach((function(n){n[e.settings.groupBy]===t&&e.setSelectedItem(n,!1,!1)})),e.externalEvents.onSelectionChanged()},getGroupLabel:function(t){if(null!==e.settings.groupByTextProvider)return e.settings.groupByTextProvider(t);return t},getButtonText:function(){if(e.settings.dynamicTitle&&e.selectedModel&&e.selectedModel.length>0){if(angular.isFunction(e.settings.smartButtonTextProvider))return e.settings.smartButtonTextProvider(e.selectedModel);if(e.settings.smartButtonMaxItems>0){var n=t[0].offsetWidth-24-2-8,a=[];angular.forEach(e.options,(function(t){if(e.isChecked(t)){var n=e.getPropertyForObject(t,e.settings.displayProp),i=e.settings.smartButtonTextConverter(n,t);a.push(i||n)}})),e.selectedModel.length>e.settings.smartButtonMaxItems&&(a=a.slice(0,e.settings.smartButtonMaxItems)).push("...");var i=a.join(", "),s=i.length-4;if(0===t[0].offsetWidth)return i;if(n<=p("..."))return"...";for(;p(i)>n;)"..."!==a[a.length-1]&&(a.push("..."),s=(i+="...").length-4),i=i.slice(0,s)+i.slice(s+1),s-=1;return i}var r=angular.isDefined(e.selectedModel)?e.selectedModel.length:0;return 0===r?e.texts.buttonDefaultText:e.settings.showAllSelectedText&&r===e.options.length?e.texts.allSelectedText:r+" "+e.texts.dynamicButtonTextSuffix}return e.texts.buttonDefaultText},getPropertyForObject:function(e,t){if(angular.isDefined(e)&&Object.prototype.hasOwnProperty.call(e,t))return e[t];return},selectAll:function(){e.deselectAll(!0),e.externalEvents.onSelectAll();var t=i("filter")(e.options,e.getFilter(e.input.searchFilter));angular.forEach(t,(function(t){e.setSelectedItem(t,!0,!1)})),e.externalEvents.onSelectionChanged(),e.selectedGroup=null},deselectAll:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t||e.externalEvents.onDeselectAll();e.selectedModel.splice(0,e.selectedModel.length),t||e.externalEvents.onSelectionChanged();e.selectedGroup=null},setSelectedItem:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments[2],s=void 0,r=void 0;angular.isDefined(l.idProperty)?(s=-1!==a(e.selectedModel,t,l.idProperty),r=a(e.selectedModel,t,l.idProperty)):(s=-1!==e.selectedModel.indexOf(t),r=e.selectedModel.indexOf(t));!n&&s?(e.selectedModel.splice(r,1),e.externalEvents.onItemDeselect(t),e.settings.closeOnDeselect&&e.close()):!s&&(0===e.settings.selectionLimit||e.selectedModel.length<e.settings.selectionLimit)?(e.selectedModel.push(t),i&&e.externalEvents.onItemSelect(t),e.settings.closeOnSelect&&e.close(),e.settings.selectionLimit>0&&e.selectedModel.length===e.settings.selectionLimit&&e.externalEvents.onMaxSelectionReached()):1!==e.settings.selectionLimit||s||e.selectedModel.length!==e.settings.selectionLimit||(e.selectedModel.splice(0,1),e.selectedModel.push(t),i&&e.externalEvents.onItemSelect(t),e.settings.closeOnSelect&&e.close());i&&e.externalEvents.onSelectionChanged();e.selectedGroup=null},isChecked:function(t){if(angular.isDefined(l.idProperty))return-1!==a(e.selectedModel,t,l.idProperty);return-1!==e.selectedModel.indexOf(t)},keyDownLink:function(t){var n=angular.element(t.target).scope(),a=void 0,i=t.target.parentNode;if(!e.settings.keyboardControls)return;if(13===t.keyCode||32===t.keyCode)t.preventDefault(),n.option?e.setSelectedItem(n.option,!1,!0):"deselectAll"===t.target.id?e.deselectAll():"selectAll"===t.target.id&&e.selectAll();else if(38===t.keyCode){for(t.preventDefault(),i.previousElementSibling&&(a=i.previousElementSibling.querySelector("a")||i.previousElementSibling.querySelector("input"));!a&&i;)(i=i.previousElementSibling)&&(a=i.querySelector("a")||i.querySelector("input"));a&&a.focus()}else if(40===t.keyCode){for(t.preventDefault(),i.nextElementSibling&&(a=i.nextElementSibling.querySelector("a")||i.nextElementSibling.querySelector("input"));!a&&i;)(i=i.nextElementSibling)&&(a=i.querySelector("a")||i.querySelector("input"));a&&a.focus()}else 27===t.keyCode&&(t.preventDefault(),e.toggleDropdown())},keyDownSearchDefault:function(t){var n=t.target.parentNode.parentNode,a=void 0;if(!e.settings.keyboardControls)return;if(9===t.keyCode||40===t.keyCode)t.preventDefault(),u();else if(38===t.keyCode){for(t.preventDefault(),n.previousElementSibling&&(a=n.previousElementSibling.querySelector("a")||n.previousElementSibling.querySelector("input"));!a&&n;)(n=n.previousElementSibling)&&(a=n.querySelector("a")||n.querySelector("input"));a&&a.focus()}else 27===t.keyCode&&(t.preventDefault(),e.toggleDropdown())},keyDownSearch:function(t,n){var a=void 0;if(!e.settings.keyboardControls)return;13===t.keyCode&&(1===e.settings.selectionLimit&&e.settings.enableSearch?1===(a=i("filter")(e.options,e.getFilter(n))).length&&e.setSelectedItem(a[0],!1,!0):e.settings.enableSearch&&e.selectAll())},getFilter:function(t){var n={};return n[e.settings.searchField]=t,n},toggleSearch:function(t){t&&t.stopPropagation();e.settings.enableSearch=!e.settings.enableSearch,e.settings.enableSearch||(e.input.searchFilter="")},keyDownToggleSearch:function(){if(!e.settings.keyboardControls)return;13===event.keyCode&&(e.toggleSearch(),e.settings.enableSearch?setTimeout((function(){angular.element(t)[0].querySelector(".searchField").focus()}),0):u())},orderFunction:function(t,n){if(angular.isUndefined(n))return-1;if(angular.isUndefined(t))return 1;if("object"!==t.type||"object"!==n.type)return t.index<n.index?-1:1;var a=t.value,i=n.value;if(e.settings.groupBy&&a[e.settings.groupBy]!==i[e.settings.groupBy])return a[e.settings.groupBy]<i[e.settings.groupBy]?1:-1;if(!e.settings.selectedToTop)return e.options.indexOf(a)<e.options.indexOf(i)?-1:1;if(!e.isChecked(a)&&!e.isChecked(i)||e.isChecked(a)&&e.isChecked(i))return e.options.indexOf(a)<e.options.indexOf(i)?-1:1;if(e.isChecked(a))return-1;return 1}}),e.externalEvents.onInitDone()}i.$inject=["$scope","$element","$filter","$document"],Object.defineProperty(t,"__esModule",{value:!0}),t.default=i}]),angular.module("angularjs-dropdown-multiselect").run(["$templateCache",function(e){e.put("app/component/angularjs-dropdown-multiselect.html",'<div class="multiselect-parent btn-group dropdown-multiselect" ng-class="{open: open}"><div ng-transclude=toggleDropdown ng-click=toggleDropdown()><button ng-disabled=disabled type=button class=dropdown-toggle ng-class=settings.buttonClasses>{{getButtonText()}}&nbsp;<span class=caret></span></button></div><ul class="dropdown-menu dropdown-menu-form" ng-if=open ng-style="{display: open ? \'block\' : \'none\', height : settings.scrollable ? settings.scrollableHeight : \'auto\', overflow: \'auto\' }"><li ng-if="settings.showCheckAll && settings.selectionLimit === 0"><a ng-keydown=keyDownLink($event) data-ng-click=selectAll() tabindex=-1 id=selectAll><span class="fa fa-check"></span> {{texts.checkAll}}</a></li><li ng-if=settings.showUncheckAll><a ng-keydown=keyDownLink($event) data-ng-click=deselectAll(); tabindex=-1 id=deselectAll><span class="fa fa-xmark"></span> {{texts.uncheckAll}}</a></li><li ng-if="settings.selectByGroups && ((settings.showCheckAll && settings.selectionLimit > 0) || settings.showUncheckAll)" class=divider></li><li ng-repeat="currentGroup in settings.selectByGroups track by $index" ng-click=selectCurrentGroup(currentGroup)><a ng-class="{\'dropdown-selected-group\': selectedGroup === currentGroup}" tabindex=-1>{{::texts.selectGroup}} {{::getGroupLabel(currentGroup)}}</a></li><li ng-if="settings.selectByGroups && settings.showEnableSearchButton" class=divider></li><li ng-if="settings.showEnableSearchButton && settings.enableSearch"><a ng-keydown="keyDownLink($event); keyDownToggleSearch();" ng-click=toggleSearch($event); tabindex=-1>{{texts.disableSearch}}</a></li><li ng-if="settings.showEnableSearchButton && !settings.enableSearch"><a ng-keydown="keyDownLink($event); keyDownToggleSearch();" ng-click=toggleSearch($event); tabindex=-1>{{texts.enableSearch}}</a></li><li ng-if="(settings.showCheckAll && settings.selectionLimit > 0) || settings.showUncheckAll || settings.showEnableSearchButton" class=divider></li><li ng-if=settings.enableSearch><div class=dropdown-header><input type=text class="form-control searchField" ng-keydown="keyDownSearchDefault($event); keyDownSearch($event, input.searchFilter);" ng-style="{width: \'100%\'}" ng-model=input.searchFilter placeholder={{texts.searchPlaceholder}}></div></li><li ng-if=settings.enableSearch class=divider></li><li ng-if=settings.groupBy ng-repeat-start="option in orderedItems = ( options | filter:getFilter(input.searchFilter) | orderBy:\'\':false:orderFunction)" ng-show="getPropertyForObject(option, settings.groupBy) !== getPropertyForObject(orderedItems[$index - 1], settings.groupBy)" role=presentation class=dropdown-header>{{ getGroupLabel(getPropertyForObject(option, settings.groupBy)) }}</li><li ng-if=settings.groupBy ng-class="{\'active\': isChecked(option) && settings.styleActive}" ng-repeat-end role=presentation><a ng-keydown="option.disabled || keyDownLink($event)" role=menuitem class=option tabindex=-1 ng-click="option.disabled || setSelectedItem(option, false, true)" ng-disabled=option.disabled><div ng-if=settings.checkBoxes class=checkbox><label><input class=checkboxInput type=checkbox ng-click="checkboxClick($event, option)" ng-checked=isChecked(option)> <span dm-dropdown-static-include={{settings.template}}></span></label></div><span ng-if=!settings.checkBoxes data-ng-class="{\'fa fa-check\': isChecked(option)}"></span> <span dm-dropdown-static-include={{settings.template}}></span></a></li><li ng-if=!settings.groupBy ng-class="{\'active\': isChecked(option) && settings.styleActive}" role=presentation ng-repeat="option in options | filter:getFilter(input.searchFilter) | orderBy:\'\':false:orderFunction"><a ng-keydown="option.disabled || keyDownLink($event)" role=menuitem class=option tabindex=-1 ng-click="option.disabled || setSelectedItem(option, false, true)" ng-disabled=option.disabled><div ng-if=settings.checkBoxes class=checkbox><label><input class=checkboxInput type=checkbox ng-click="checkboxClick($event, option)" ng-checked=isChecked(option)> <span dm-dropdown-static-include={{settings.template}}></span></label></div><span ng-if=!settings.checkBoxes data-ng-class="{\'fa fa-check\': isChecked(option)}"></span> <span ng-if=!settings.checkBoxes dm-dropdown-static-include={{settings.template}}></span></a></li><li class=divider ng-show="settings.selectionLimit > 1"></li><li role=presentation ng-show="settings.selectionLimit > 1"><a role=menuitem>{{selectedModel.length}} {{texts.selectionOf}} {{settings.selectionLimit}} {{texts.selectionCount}}</a></li></ul></div>')}]),
/**
 * @license MIT
 */
function(e,t,n){"use strict";if(e&&t){var a=e.navigator.msPointerEnabled;i.prototype={on:function(e,t){e=e.toLowerCase(),this.events.hasOwnProperty(e)||(this.events[e]=[]),this.events[e].push(t)},off:function(e,t){var a,i,s;e!==n?(e=e.toLowerCase(),t!==n?this.events.hasOwnProperty(e)&&(a=this.events[e],i=t,(s=a.indexOf(i))>-1&&a.splice(s,1)):delete this.events[e]):this.events={}},fire:function(e,t){t=Array.prototype.slice.call(arguments),e=e.toLowerCase();var n=!1;return this.events.hasOwnProperty(e)&&u(this.events[e],(function(e){n=!1===e.apply(this,t.slice(1))||n}),this),"catchall"!=e&&(t.unshift("catchAll"),n=!1===this.fire.apply(this,t)||n),!n},webkitReadDataTransfer:function(e){var t=this,n=e.dataTransfer.items.length,a=[];function i(e){e.readEntries((function(t){t.length?(n+=t.length,u(t,(function(e){if(e.isFile){var t=e.fullPath;e.file((function(e){s(e,t)}),r)}else e.isDirectory&&i(e.createReader())})),i(e)):o()}),r)}function s(e,t){e.relativePath=t.substring(1),a.push(e),o()}function r(e){throw o(),e}function o(){0==--n&&t.addFiles(a,e)}u(e.dataTransfer.items,(function(e){var t=e.webkitGetAsEntry();t?t.isFile?s(e.getAsFile(),t.fullPath):i(t.createReader()):o()}))},generateUniqueIdentifier:function(e){var t=this.opts.generateUniqueIdentifier;if("function"==typeof t)return t(e);var n=e.relativePath||e.webkitRelativePath||e.fileName||e.name;return e.size+"-"+n.replace(/[^0-9a-zA-Z_-]/gim,"")},uploadNextChunk:function(e){var t=!1;if(this.opts.prioritizeFirstAndLastChunk&&(u(this.files,(function(e){return!e.paused&&e.chunks.length&&"pending"===e.chunks[0].status()?(e.chunks[0].send(),t=!0,!1):!e.paused&&e.chunks.length>1&&"pending"===e.chunks[e.chunks.length-1].status()?(e.chunks[e.chunks.length-1].send(),t=!0,!1):void 0})),t))return t;if(u(this.files,(function(e){if(e.paused||u(e.chunks,(function(e){if("pending"===e.status())return e.send(),t=!0,!1})),t)return!1})),t)return!0;var n=!1;return u(this.files,(function(e){if(!e.isComplete())return n=!0,!1})),n||e||c((function(){this.fire("complete")}),this),!1},assignBrowse:function(e,n,a,i){e instanceof Element&&(e=[e]),u(e,(function(e){var s;"INPUT"===e.tagName&&"file"===e.type?s=e:((s=t.createElement("input")).setAttribute("type","file"),d(s.style,{visibility:"hidden",position:"absolute",width:"1px",height:"1px"}),e.appendChild(s),e.addEventListener("click",(function(){s.click()}),!1)),this.opts.singleFile||a||s.setAttribute("multiple","multiple"),n&&s.setAttribute("webkitdirectory","webkitdirectory"),u(i,(function(e,t){s.setAttribute(t,e)}));var r=this;s.addEventListener("change",(function(e){e.target.value&&(r.addFiles(e.target.files,e),e.target.value="")}),!1)}),this)},assignDrop:function(e){void 0===e.length&&(e=[e]),u(e,(function(e){e.addEventListener("dragover",this.preventEvent,!1),e.addEventListener("dragenter",this.preventEvent,!1),e.addEventListener("drop",this.onDrop,!1)}),this)},unAssignDrop:function(e){void 0===e.length&&(e=[e]),u(e,(function(e){e.removeEventListener("dragover",this.preventEvent),e.removeEventListener("dragenter",this.preventEvent),e.removeEventListener("drop",this.onDrop)}),this)},isUploading:function(){var e=!1;return u(this.files,(function(t){if(t.isUploading())return e=!0,!1})),e},_shouldUploadNext:function(){var e=0,t=!0,n=this.opts.simultaneousUploads;return u(this.files,(function(a){u(a.chunks,(function(a){if("uploading"===a.status()&&++e>=n)return t=!1,!1}))})),t&&e},upload:function(){var e=this._shouldUploadNext();if(!1!==e){this.fire("uploadStart");for(var t=!1,n=1;n<=this.opts.simultaneousUploads-e;n++)t=this.uploadNextChunk(!0)||t;t||c((function(){this.fire("complete")}),this)}},resume:function(){u(this.files,(function(e){e.isComplete()||e.resume()}))},pause:function(){u(this.files,(function(e){e.pause()}))},cancel:function(){for(var e=this.files.length-1;e>=0;e--)this.files[e].cancel()},progress:function(){var e=0,t=0;return u(this.files,(function(n){e+=n.progress()*n.size,t+=n.size})),t>0?e/t:0},addFile:function(e,t){this.addFiles([e],t)},addFiles:function(e,t){var n=[];u(e,(function(e){if((!a||a&&e.size>0)&&(e.size%4096!=0||"."!==e.name&&"."!==e.fileName)){var i=this.generateUniqueIdentifier(e);if(this.opts.allowDuplicateUploads||!this.getFromUniqueIdentifier(i)){var r=new s(this,e,i);this.fire("fileAdded",r,t)&&n.push(r)}}}),this),this.fire("filesAdded",n,t)&&(u(n,(function(e){this.opts.singleFile&&this.files.length>0&&this.removeFile(this.files[0]),this.files.push(e)}),this),this.fire("filesSubmitted",n,t))},removeFile:function(e){for(var t=this.files.length-1;t>=0;t--)this.files[t]===e&&(this.files.splice(t,1),e.abort(),this.fire("fileRemoved",e))},getFromUniqueIdentifier:function(e){var t=!1;return u(this.files,(function(n){n.uniqueIdentifier===e&&(t=n)})),t},getSize:function(){var e=0;return u(this.files,(function(t){e+=t.size})),e},sizeUploaded:function(){var e=0;return u(this.files,(function(t){e+=t.sizeUploaded()})),e},timeRemaining:function(){var e=0,t=0;return u(this.files,(function(n){n.paused||n.error||(e+=n.size-n.sizeUploaded(),t+=n.averageSpeed)})),e&&!t?Number.POSITIVE_INFINITY:e||t?Math.floor(e/t):0}},s.prototype={measureSpeed:function(){var e=Date.now()-this._lastProgressCallback;if(e){var t=this.flowObj.opts.speedSmoothingFactor,n=this.sizeUploaded();this.currentSpeed=Math.max((n-this._prevUploadedSize)/e*1e3,0),this.averageSpeed=t*this.currentSpeed+(1-t)*this.averageSpeed,this._prevUploadedSize=n}},chunkEvent:function(e,t,n){switch(t){case"progress":if(Date.now()-this._lastProgressCallback<this.flowObj.opts.progressCallbacksInterval)break;this.measureSpeed(),this.flowObj.fire("fileProgress",this,e),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now();break;case"error":this.error=!0,this.abort(!0),this.flowObj.fire("fileError",this,n,e),this.flowObj.fire("error",n,this,e);break;case"success":if(this.error)return;this.measureSpeed(),this.flowObj.fire("fileProgress",this,e),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now(),this.isComplete()&&(this.currentSpeed=0,this.averageSpeed=0,this.flowObj.fire("fileSuccess",this,n,e));break;case"retry":this.flowObj.fire("fileRetry",this,e)}},pause:function(){this.paused=!0,this.abort()},resume:function(){this.paused=!1,this.flowObj.upload()},abort:function(e){this.currentSpeed=0,this.averageSpeed=0;var t=this.chunks;e&&(this.chunks=[]),u(t,(function(e){"uploading"===e.status()&&(e.abort(),this.flowObj.uploadNextChunk())}),this)},cancel:function(){this.flowObj.removeFile(this)},retry:function(){this.bootstrap(),this.flowObj.upload()},bootstrap:function(){"function"==typeof this.flowObj.opts.initFileFn&&this.flowObj.opts.initFileFn(this),this.abort(!0),this.error=!1,this._prevProgress=0;var e=this.flowObj.opts.forceChunkSize?Math.ceil:Math.floor;this.chunkSize=l(this.flowObj.opts.chunkSize,this);for(var t=Math.max(e(this.size/this.chunkSize),1),n=0;n<t;n++)this.chunks.push(new o(this.flowObj,this,n))},progress:function(){if(this.error)return 1;if(1===this.chunks.length)return this._prevProgress=Math.max(this._prevProgress,this.chunks[0].progress()),this._prevProgress;var e=0;u(this.chunks,(function(t){e+=t.progress()*(t.endByte-t.startByte)}));var t=e/this.size;return this._prevProgress=Math.max(this._prevProgress,t>.9999?1:t),this._prevProgress},isUploading:function(){var e=!1;return u(this.chunks,(function(t){if("uploading"===t.status())return e=!0,!1})),e},isComplete:function(){var e=!1;return u(this.chunks,(function(t){var n=t.status();if("pending"===n||"uploading"===n||"reading"===n||1===t.preprocessState||1===t.readState)return e=!0,!1})),!e},sizeUploaded:function(){var e=0;return u(this.chunks,(function(t){e+=t.sizeUploaded()})),e},timeRemaining:function(){if(this.paused||this.error)return 0;var e=this.size-this.sizeUploaded();return e&&!this.averageSpeed?Number.POSITIVE_INFINITY:e||this.averageSpeed?Math.floor(e/this.averageSpeed):0},getType:function(){return this.file.type&&this.file.type.split("/")[1]},getExtension:function(){return this.name.substr(2+(~-this.name.lastIndexOf(".")>>>0)).toLowerCase()}},o.prototype={getParams:function(){return{flowChunkNumber:this.offset+1,flowChunkSize:this.chunkSize,flowCurrentChunkSize:this.endByte-this.startByte,flowTotalSize:this.fileObj.size,flowIdentifier:this.fileObj.uniqueIdentifier,flowFilename:this.fileObj.name,flowRelativePath:this.fileObj.relativePath,flowTotalChunks:this.fileObj.chunks.length}},getTarget:function(e,t){return 0==t.length?e:(e.indexOf("?")<0?e+="?":e+="&",e+t.join("&"))},test:function(){this.xhr=new XMLHttpRequest,this.xhr.addEventListener("load",this.testHandler,!1),this.xhr.addEventListener("error",this.testHandler,!1);var e=l(this.flowObj.opts.testMethod,this.fileObj,this),t=this.prepareXhrRequest(e,!0);this.xhr.send(t)},preprocessFinished:function(){this.endByte=this.computeEndByte(),this.preprocessState=2,this.send()},readFinished:function(e){this.readState=2,this.bytes=e,this.send()},send:function(){var e=this.flowObj.opts.preprocess,t=this.flowObj.opts.readFileFn;if("function"==typeof e)switch(this.preprocessState){case 0:return this.preprocessState=1,void e(this);case 1:return}switch(this.readState){case 0:return this.readState=1,void t(this.fileObj,this.startByte,this.endByte,this.fileObj.file.type,this);case 1:return}if(!this.flowObj.opts.testChunks||this.tested){this.loaded=0,this.total=0,this.pendingRetry=!1,this.xhr=new XMLHttpRequest,this.xhr.upload.addEventListener("progress",this.progressHandler,!1),this.xhr.addEventListener("load",this.doneHandler,!1),this.xhr.addEventListener("error",this.doneHandler,!1);var n=l(this.flowObj.opts.uploadMethod,this.fileObj,this),a=this.prepareXhrRequest(n,!1,this.flowObj.opts.method,this.bytes),i=this.flowObj.opts.changeRawDataBeforeSend;"function"==typeof i&&(a=i(this,a)),this.xhr.send(a)}else this.test()},abort:function(){var e=this.xhr;this.xhr=null,e&&e.abort()},status:function(e){return 1===this.readState?"reading":this.pendingRetry||1===this.preprocessState?"uploading":this.xhr?this.xhr.readyState<4?"uploading":this.flowObj.opts.successStatuses.indexOf(this.xhr.status)>-1?"success":this.flowObj.opts.permanentErrors.indexOf(this.xhr.status)>-1||!e&&this.retries>=this.flowObj.opts.maxChunkRetries?"error":(this.abort(),"pending"):"pending"},message:function(){return this.xhr?this.xhr.responseText:""},progress:function(){if(this.pendingRetry)return 0;var e=this.status();return"success"===e||"error"===e?1:"pending"===e?0:this.total>0?this.loaded/this.total:0},sizeUploaded:function(){var e=this.endByte-this.startByte;return"success"!==this.status()&&(e=this.progress()*e),e},prepareXhrRequest:function(e,t,n,a){var i=l(this.flowObj.opts.query,this.fileObj,this,t);i=d(i||{},this.getParams());var s=l(this.flowObj.opts.target,this.fileObj,this,t),r=null;if("GET"===e||"octet"===n){var o=[];u(i,(function(e,t){o.push([encodeURIComponent(t),encodeURIComponent(e)].join("="))})),s=this.getTarget(s,o),r=a||null}else r=new FormData,u(i,(function(e,t){r.append(t,e)})),void 0!==a&&r.append(this.flowObj.opts.fileParameterName,a,this.filename||this.fileObj.file.name);return this.xhr.open(e,s,!0),this.xhr.withCredentials=this.flowObj.opts.withCredentials,u(l(this.flowObj.opts.headers,this.fileObj,this,t),(function(e,t){this.xhr.setRequestHeader(t,e)}),this),r}},i.evalOpts=l,i.extend=d,i.each=u,i.FlowFile=s,i.FlowChunk=o,i.version="2.14.1","object"==typeof module&&module&&"object"==typeof module.exports?module.exports=i:(e.Flow=i,"function"==typeof define&&define.amd&&define("flow",[],(function(){return i})))}else console.warn("Flowjs needs window and document objects to work");function i(t){if(this.support=!("undefined"==typeof File||"undefined"==typeof Blob||"undefined"==typeof FileList||!Blob.prototype.slice&&!Blob.prototype.webkitSlice&&!Blob.prototype.mozSlice),this.support){this.supportDirectory=/Chrome/.test(e.navigator.userAgent)||/Firefox/.test(e.navigator.userAgent)||/Edge/.test(e.navigator.userAgent),this.files=[],this.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,singleFile:!1,fileParameterName:"file",progressCallbacksInterval:500,speedSmoothingFactor:.1,query:{},headers:{},withCredentials:!1,preprocess:null,changeRawDataBeforeSend:null,method:"multipart",testMethod:"GET",uploadMethod:"POST",prioritizeFirstAndLastChunk:!1,allowDuplicateUploads:!1,target:"/",testChunks:!0,generateUniqueIdentifier:null,maxChunkRetries:0,chunkRetryInterval:null,permanentErrors:[404,413,415,500,501],successStatuses:[200,201,202],onDropStopPropagation:!1,initFileFn:null,readFileFn:r},this.opts={},this.events={};var n=this;this.onDrop=function(e){n.opts.onDropStopPropagation&&e.stopPropagation(),e.preventDefault();var t=e.dataTransfer;t.items&&t.items[0]&&t.items[0].webkitGetAsEntry?n.webkitReadDataTransfer(e):n.addFiles(t.files,e)},this.preventEvent=function(e){e.preventDefault()},this.opts=i.extend({},this.defaults,t||{})}}function s(e,t,a){this.flowObj=e,this.bytes=null,this.file=t,this.name=t.fileName||t.name,this.size=t.size,this.relativePath=t.relativePath||t.webkitRelativePath||this.name,this.uniqueIdentifier=a===n?e.generateUniqueIdentifier(t):a,this.chunkSize=0,this.chunks=[],this.paused=!1,this.error=!1,this.averageSpeed=0,this.currentSpeed=0,this._lastProgressCallback=Date.now(),this._prevUploadedSize=0,this._prevProgress=0,this.bootstrap()}function r(e,t,n,a,i){var s="slice";e.file.slice?s="slice":e.file.mozSlice?s="mozSlice":e.file.webkitSlice&&(s="webkitSlice"),i.readFinished(e.file[s](t,n,a))}function o(e,t,n){this.flowObj=e,this.fileObj=t,this.offset=n,this.tested=!1,this.retries=0,this.pendingRetry=!1,this.preprocessState=0,this.readState=0,this.loaded=0,this.total=0,this.chunkSize=this.fileObj.chunkSize,this.startByte=this.offset*this.chunkSize,this.filename=null,this.computeEndByte=function(){var e=Math.min(this.fileObj.size,(this.offset+1)*this.chunkSize);return this.fileObj.size-e<this.chunkSize&&!this.flowObj.opts.forceChunkSize&&(e=this.fileObj.size),e},this.endByte=this.computeEndByte(),this.xhr=null;var a=this;this.event=function(e,t){(t=Array.prototype.slice.call(arguments)).unshift(a),a.fileObj.chunkEvent.apply(a.fileObj,t)},this.progressHandler=function(e){e.lengthComputable&&(a.loaded=e.loaded,a.total=e.total),a.event("progress",e)},this.testHandler=function(e){var t=a.status(!0);"error"===t?(a.event(t,a.message()),a.flowObj.uploadNextChunk()):"success"===t?(a.tested=!0,a.event(t,a.message()),a.flowObj.uploadNextChunk()):a.fileObj.paused||(a.tested=!0,a.send())},this.doneHandler=function(e){var t=a.status();if("success"===t||"error"===t)delete this.data,a.event(t,a.message()),a.flowObj.uploadNextChunk();else if(!a.fileObj.paused){a.event("retry",a.message()),a.pendingRetry=!0,a.abort(),a.retries++;var n=a.flowObj.opts.chunkRetryInterval;null!==n?setTimeout((function(){a.send()}),n):a.send()}}}function l(e,t){return"function"==typeof e&&(t=Array.prototype.slice.call(arguments),e=e.apply(null,t.slice(1))),e}function c(e,t){setTimeout(e.bind(t),0)}function d(e,t){return u(arguments,(function(t){t!==e&&u(t,(function(t,n){e[n]=t}))})),e}function u(e,t,n){var a;if(e)if(void 0!==e.length){for(a=0;a<e.length;a++)if(!1===t.call(n,e[a],a))return}else for(a in e)if(e.hasOwnProperty(a)&&!1===t.call(n,e[a],a))return}}("undefined"!=typeof window&&window,"undefined"!=typeof document&&document),function(e,t){angular.module("ngCsv.config",[]).value("ngCsv.config",{debug:!0}).config(["$compileProvider",function(e){angular.isDefined(e.urlSanitizationWhitelist)?e.urlSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|data):/):e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|data):/)}]),angular.module("ngCsv.directives",["ngCsv.services"]),angular.module("ngCsv.services",[]),angular.module("ngCsv",["ngCsv.config","ngCsv.services","ngCsv.directives","ngSanitize"]),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ngCsv"),angular.module("ngCsv.services").service("CSV",["$q",function(e){var t="\r\n",n={"\\t":"\t","\\b":"\b","\\v":"\v","\\f":"\f","\\r":"\r"};this.stringifyField=function(e,t){return"locale"===t.decimalSep&&this.isFloat(e)?e.toLocaleString():"."!==t.decimalSep&&this.isFloat(e)?e.toString().replace(".",t.decimalSep):"string"==typeof e?(e=e.replace(/"/g,'""'),(t.quoteStrings||e.indexOf(",")>-1||e.indexOf("\n")>-1||e.indexOf("\r")>-1)&&(e=t.txtDelim+e+t.txtDelim),e):"boolean"==typeof e?e?"TRUE":"FALSE":e},this.isFloat=function(e){return+e===e&&(!isFinite(e)||Boolean(e%1))},this.stringify=function(n,a){var i=e.defer(),s=this,r="",o="",l=e.when(n).then((function(e){var n,l;angular.isDefined(a.header)&&a.header&&(n=[],angular.forEach(a.header,(function(e,t){this.push(s.stringifyField(e,a))}),n),l=n.join(a.fieldSep?a.fieldSep:","),o+=l+t);var c,d,u=[];(angular.isArray(e)?u=e:angular.isFunction(e)&&(u=e()),angular.isDefined(a.label)&&a.label&&"boolean"==typeof a.label)&&(c=[],angular.forEach(u[0],(function(e,t){this.push(s.stringifyField(t,a))}),c),d=c.join(a.fieldSep?a.fieldSep:","),o+=d+t);angular.forEach(u,(function(e,n){var i,r,l=angular.copy(u[n]);r=[];var c=a.columnOrder?a.columnOrder:l;angular.forEach(c,(function(e,t){var n=a.columnOrder?l[e]:e;this.push(s.stringifyField(n,a))}),r),i=r.join(a.fieldSep?a.fieldSep:","),o+=n<u.length?i+t:i})),a.addByteOrderMarker&&(r+="\ufeff"),r+=o,i.resolve(r)}));return"function"==typeof l.catch&&l.catch((function(e){i.reject(e)})),i.promise},this.isSpecialChar=function(e){return void 0!==n[e]},this.getSpecialChar=function(e){return n[e]}}]),angular.module("ngCsv.directives").directive("ngCsv",["$parse","$q","CSV","$document","$timeout",function(t,n,a,i,s){return{restrict:"AC",scope:{data:"&ngCsv",filename:"@filename",header:"&csvHeader",columnOrder:"&csvColumnOrder",txtDelim:"@textDelimiter",decimalSep:"@decimalSeparator",quoteStrings:"@quoteStrings",fieldSep:"@fieldSeparator",lazyLoad:"@lazyLoad",addByteOrderMarker:"@addBom",ngClick:"&",charset:"@charset",label:"&csvLabel"},controller:["$scope","$element","$attrs","$transclude",function(e,t,i,s){e.csv="",angular.isDefined(e.lazyLoad)&&"true"==e.lazyLoad||angular.isArray(e.data)&&e.$watch("data",(function(t){e.buildCSV()}),!0),e.getFilename=function(){return e.filename||"download.csv"},e.buildCSV=function(){var s,r=n.defer();return t.addClass(i.ngCsvLoadingClass||"ng-csv-loading"),a.stringify(e.data(),(s={txtDelim:e.txtDelim?e.txtDelim:'"',decimalSep:e.decimalSep?e.decimalSep:".",quoteStrings:e.quoteStrings,addByteOrderMarker:e.addByteOrderMarker},angular.isDefined(i.csvHeader)&&(s.header=e.$eval(e.header)),angular.isDefined(i.csvColumnOrder)&&(s.columnOrder=e.$eval(e.columnOrder)),angular.isDefined(i.csvLabel)&&(s.label=e.$eval(e.label)),s.fieldSep=e.fieldSep?e.fieldSep:",",s.fieldSep=a.isSpecialChar(s.fieldSep)?a.getSpecialChar(s.fieldSep):s.fieldSep,s)).then((function(n){e.csv=n,t.removeClass(i.ngCsvLoadingClass||"ng-csv-loading"),r.resolve(n)})),e.$apply(),r.promise}}],link:function(t,n,a){n.bind("click",(function(n){t.buildCSV().then((function(n){!function(){var n=t.charset||"utf-8",a=new Blob([t.csv],{type:"text/csv;charset="+n+";"});if(e.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(a,t.getFilename());else{var r=angular.element('<div data-tap-disabled="true"><a></a></div>'),o=angular.element(r.children()[0]);o.attr("href",e.URL.createObjectURL(a)),o.attr("download",t.getFilename()),o.attr("target","_blank"),i.find("body").append(r),s((function(){o[0].click(),o.remove()}),null)}}()})),t.$apply()}))}}}])}(window,document),angular.module("flow.provider",[]).provider("flowFactory",(function(){"use strict";this.defaults={},this.factory=function(e){return new Flow(e)},this.events=[],this.on=function(e,t){this.events.push([e,t])},this.$get=function(){var e=this.factory,t=this.defaults,n=this.events;return{create:function(a){var i=e(angular.extend({},t,a));return angular.forEach(n,(function(e){i.on(e[0],e[1])})),i}}}})),angular.module("flow.init",["flow.provider"]).controller("flowCtrl",["$scope","$attrs","$parse","flowFactory",function(e,t,n,a){var i=angular.extend({},e.$eval(t.flowInit)),s=e.$eval(t.flowObject)||a.create(i),r=function(t){var n=Array.prototype.slice.call(arguments);n.shift();var a=e.$broadcast.apply(e,["flow::"+t,s].concat(n));if({progress:1,filesSubmitted:1,fileSuccess:1,fileError:1,complete:1}[t]&&e.$applyAsync(),a.defaultPrevented)return!1};s.on("catchAll",r),e.$on("$destroy",(function(){s.off("catchAll",r)})),e.$flow=s,t.hasOwnProperty("flowName")&&(n(t.flowName).assign(e,s),e.$on("$destroy",(function(){n(t.flowName).assign(e)})))}]).directive("flowInit",[function(){return{scope:!0,controller:"flowCtrl"}}]),angular.module("flow.btn",["flow.init"]).directive("flowBtn",[function(){return{restrict:"EA",scope:!1,require:"^flowInit",link:function(e,t,n){var a=n.hasOwnProperty("flowDirectory"),i=n.hasOwnProperty("flowSingleFile"),s=n.hasOwnProperty("flowAttrs")&&e.$eval(n.flowAttrs);e.$flow.assignBrowse(t,a,i,s)}}}]),angular.module("flow.dragEvents",["flow.init"]).directive("flowPreventDrop",(function(){return{scope:!1,link:function(e,t,n){t.bind("drop dragover",(function(e){e.preventDefault()}))}}})).directive("flowDragEnter",["$timeout",function(e){return{scope:!1,link:function(t,n,a){var i,s=!1;n.bind("dragover",(function(n){var r,o,l;(o=!1,l=(r=n).dataTransfer||r.originalEvent.dataTransfer,angular.forEach(l&&l.types,(function(e){"Files"===e&&(o=!0)})),o)&&(s||(t.$apply(a.flowDragEnter),s=!0),e.cancel(i),n.preventDefault())})),n.bind("dragleave drop",(function(n){e.cancel(i),i=e((function(){t.$eval(a.flowDragLeave),i=null,s=!1}),100)}))}}}]),angular.module("flow.drop",["flow.init"]).directive("flowDrop",(function(){return{scope:!1,require:"^flowInit",link:function(e,t,n){function a(){e.$flow.assignDrop(t)}n.flowDropEnabled?e.$watch(n.flowDropEnabled,(function(n){n?a():e.$flow.unAssignDrop(t)})):a()}}})),function(e){"use strict";var t=e.module("flow.events",["flow.init"]);e.forEach({fileSuccess:["$file","$message"],fileProgress:["$file"],fileAdded:["$file","$event"],filesAdded:["$files","$event"],filesSubmitted:["$files","$event"],fileRetry:["$file"],fileRemoved:["$file"],fileError:["$file","$message"],uploadStart:[],complete:[],progress:[],error:["$message","$file"]},(function(n,a){var i,s="flow"+((i=a).charAt(0).toUpperCase()+i.slice(1));"flowUploadStart"==s&&(s="flowUploadStarted"),t.directive(s,[function(){return{require:"^flowInit",controller:["$scope","$attrs",function(t,i){t.$on("flow::"+a,(function(){var a=Array.prototype.slice.call(arguments),r=a.shift();if(t.$flow===a.shift()){var o={};e.forEach(n,(function(e,t){o[e]=a[t]})),!1===t.$eval(i[s],o)&&r.preventDefault()}}))}]}}])}))}(angular),angular.module("flow.img",["flow.init"]).directive("flowImg",[function(){return{scope:!1,require:"^flowInit",link:function(e,t,n){var a=n.flowImg;e.$watch(a,(function(t){if(t){var a=new FileReader;a.readAsDataURL(t.file),a.onload=function(t){e.$apply((function(){n.$set("src",t.target.result)}))}}}))}}}]),angular.module("flow.transfers",["flow.init"]).directive("flowTransfers",[function(){return{scope:!0,require:"^flowInit",link:function(e){e.transfers=e.$flow.files}}}]),angular.module("flow",["flow.provider","flow.init","flow.events","flow.btn","flow.drop","flow.transfers","flow.img","flow.dragEvents"]),/*! ng-showdown 19-10-2015 */
function(e,t){"function"==typeof define&&define.amd?define(["angular","showdown"],t):"object"==typeof module&&module.exports?module.exports=t(require("angular"),require("showdown")):e.ngShowdown=t(e.angular,e.showdown)}(this,(function(e,t){if(void 0===e||void 0===t)throw new Error("ng-showdown was not loaded because one of its dependencies (AngularJS or Showdown) was not met");function n(e,t,n){return function(a,i,s){a.$watch("model",(function(i){var s;"string"==typeof i?(s=e.makeHtml(i),a.trustedHtml=e.getOption("sanitize")?t(s):n.trustAsHtml(s)):a.trustedHtml=typeof i}))}}function a(e){return function(t){return e.stripHtml(t)}}return e.module("ng-showdown",["ngSanitize"]).provider("$showdown",(function(){var e={extensions:[],sanitize:!1};function n(){var n=new t.Converter(e);this.makeHtml=function(e){return n.makeHtml(e)},this.stripHtml=function(e){return String(e).replace(/<[^>]+>/gm,"")},this.getOption=function(e){return n.getOption(e)},this.getOptions=function(){return n.getOptions()},this.setOption=function(e,t){return n.setOption(e,t),this}}this.setOption=function(t,n){return e[t]=n,this},this.getOption=function(t){return e.hasOwnProperty(t)?e[t]:void 0},this.loadExtension=function(t){return e.extensions.push(t),this},this.$get=function(){return new n}})).directive("sdModelToHtml",["$showdown","$sanitize","$sce",function(e,t,a){return{restrict:"A",link:n(e,t,a),scope:{model:"=sdModelToHtml"},template:'<div ng-bind-html="trustedHtml"></div>'}}]).directive("markdownToHtml",["$showdown","$sanitize","$sce",function(e,t,a){return{restrict:"A",link:n(e,t,a),scope:{model:"=markdownToHtml"},template:'<div ng-bind-html="trustedHtml"></div>'}}]).filter("sdStripHtml",["$showdown",a]).filter("stripHtml",["$showdown",a]),e.module("ng-showdown")})),
/*!
 * ui-select
 * http://github.com/angular-ui/ui-select
 * Version: 0.19.8 - 2017-04-18T05:43:43.673Z
 * License: MIT
 */
function(){"use strict";var e={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){switch(t.which){case e.COMMAND:case e.SHIFT:case e.CTRL:case e.ALT:return!0}return!!(t.metaKey||t.ctrlKey||t.altKey)},isFunctionKey:function(e){return(e=e.which?e.which:e)>=112&&e<=123},isVerticalMovement:function(t){return~[e.UP,e.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[e.LEFT,e.RIGHT,e.BACKSPACE,e.DELETE].indexOf(t)},toSeparator:function(t){var n={ENTER:"\n",TAB:"\t",SPACE:" "}[t];return n||(e[t]?void 0:t)}};function t(e){return angular.isUndefined(e)||null===e}void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1});var n=0,a=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",removeSelected:!0,resetSearchInput:!0,generateId:function(){return n++},appendToBody:!1,spinnerEnabled:!1,spinnerClass:"glyphicon glyphicon-refresh ui-select-spin",backspaceReset:!0}).service("uiSelectMinErr",(function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments).message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(t)}})).directive("uisTranscludeAppend",(function(){return{link:function(e,t,n,a,i){i(e,(function(e){t.append(e)}))}}})).filter("highlight",(function(){return function(e,t){return t&&e?(""+e).replace(new RegExp((""+t).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),'<span class="ui-select-highlight">$&</span>'):e}})).factory("uisOffset",["$document","$window",function(e,t){return function(n){var a=n[0].getBoundingClientRect();return{width:a.width||n.prop("offsetWidth"),height:a.height||n.prop("offsetHeight"),top:a.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:a.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);a.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(e,t,n,a,i){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){return t.addClass("ui-select-choices"),(t.parent().attr("theme")||e.theme)+"/choices.tpl.html"},compile:function(a,s){if(!s.repeat)throw n("repeat","Expected 'repeat' expression.");var r=s.groupBy,o=s.groupFilter;if(r){var l=a.querySelectorAll(".ui-select-choices-group");if(1!==l.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",l.length);l.attr("ng-repeat",t.getGroupNgRepeatExpression())}var c=t.parse(s.repeat),d=a.querySelectorAll(".ui-select-choices-row");if(1!==d.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",d.length);d.attr("ng-repeat",c.repeatExpression(r)).attr("ng-if","$select.open");var u=a.querySelectorAll(".ui-select-choices-row-inner");if(1!==u.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",u.length);return u.attr("uis-transclude-append",""),(i.document.addEventListener?d:u).attr("ng-click","$select.select("+c.itemName+",$select.skipFocusser,$event)"),function(t,n,i,s){s.parseRepeatAttr(i.repeat,r,o),s.disableChoiceExpression=i.uiDisableChoice,s.onHighlightCallback=i.onHighlight,s.minimumInputLength=parseInt(i.minimumInputLength)||0,s.dropdownPosition=i.position?i.position.toLowerCase():e.dropdownPosition,t.$watch("$select.search",(function(e){e&&!s.open&&s.multiple&&s.activate(!1,!0),s.activeIndex=s.tagging.isActivated?-1:0,!i.minimumInputLength||s.search.length>=i.minimumInputLength?s.refresh(i.refresh):s.items=[]})),i.$observe("refreshDelay",(function(){var n=t.$eval(i.refreshDelay);s.refreshDelay=void 0!==n?n:e.refreshDelay})),t.$watch("$select.open",(function(e){e?(a.attr("role","listbox"),s.refresh(i.refresh)):n.removeAttr("role")}))}}}}]),a.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(n,a,i,s,r,o,l,c,d,u,p){var f,h=this,g="";if(h.placeholder=c.placeholder,h.searchEnabled=c.searchEnabled,h.sortable=c.sortable,h.refreshDelay=c.refreshDelay,h.paste=c.paste,h.resetSearchInput=c.resetSearchInput,h.refreshing=!1,h.spinnerEnabled=c.spinnerEnabled,h.spinnerClass=c.spinnerClass,h.removeSelected=c.removeSelected,h.closeOnSelect=!0,h.skipFocusser=!1,h.search=g,h.activeIndex=0,h.items=[],h.open=!1,h.focus=!1,h.disabled=!1,h.selected=void 0,h.dropdownPosition="auto",h.focusser=void 0,h.multiple=void 0,h.disableChoiceExpression=void 0,h.tagging={isActivated:!1,fct:void 0},h.taggingTokens={isActivated:!1,tokens:void 0},h.lockChoiceExpression=void 0,h.clickTriggeredSelect=!1,h.$filter=s,h.$element=a,h.$animate=function(){try{return u.get("$animate")}catch(e){return null}}(),h.searchInput=a.querySelectorAll("input.ui-select-search"),1!==h.searchInput.length)throw l("searchInput","Expected 1 input.ui-select-search but got '{0}'.",h.searchInput.length);function m(){h.resetSearchInput&&(h.search=g,h.selected&&h.items.length&&!h.multiple&&(h.activeIndex=function(e,t,n){if(e.findIndex)return e.findIndex(t,n);for(var a,i=Object(e),s=i.length>>>0,r=0;r<s;r++)if(a=i[r],t.call(n,a,r,i))return r;return-1}(h.items,(function(e){return angular.equals(this,e)}),h.selected)))}h.isEmpty=function(){return t(h.selected)||""===h.selected||h.multiple&&0===h.selected.length},h.activate=function(e,t){if(h.disabled||h.open)h.open&&!h.searchEnabled&&h.close();else{t||m(),n.$broadcast("uis:activate"),h.open=!0,h.activeIndex=h.activeIndex>=h.items.length?0:h.activeIndex,-1===h.activeIndex&&!1!==h.taggingLabel&&(h.activeIndex=0);var s=a.querySelectorAll(".ui-select-choices-content"),r=a.querySelectorAll(".ui-select-search");if(h.$animate&&h.$animate.on&&h.$animate.enabled(s[0])){var o=function(t,n){"start"===n&&0===h.items.length?(h.$animate.off("removeClass",r[0],o),i((function(){h.focusSearchInput(e)}))):"close"===n&&(h.$animate.off("enter",s[0],o),i((function(){h.focusSearchInput(e)})))};h.items.length>0?h.$animate.on("enter",s[0],o):h.$animate.on("removeClass",r[0],o)}else i((function(){h.focusSearchInput(e),!h.tagging.isActivated&&h.items.length>1&&x()}))}},h.focusSearchInput=function(e){h.search=e||h.search,h.searchInput[0].focus()},h.findGroupByName=function(e){return h.groups&&h.groups.filter((function(t){return t.name===e}))[0]},h.parseRepeatAttr=function(e,t,a){h.setItemsFn=t?function(e){var i=n.$eval(t);if(h.groups=[],angular.forEach(e,(function(e){var t=angular.isFunction(i)?i(e):e[i],n=h.findGroupByName(t);n?n.items.push(e):h.groups.push({name:t,items:[e]})})),a){var s=n.$eval(a);angular.isFunction(s)?h.groups=s(h.groups):angular.isArray(s)&&(h.groups=function(e,t){var n,a,i=[];for(n=0;n<t.length;n++)for(a=0;a<e.length;a++)e[a].name==[t[n]]&&i.push(e[a]);return i}(h.groups,s))}h.items=[],h.groups.forEach((function(e){h.items=h.items.concat(e.items)}))}:function(e){h.items=e||[]},h.parserResult=o.parse(e),h.isGrouped=!!t,h.itemProperty=h.parserResult.itemName;var i=h.parserResult.source,s=function(){var e=i(n);n.$uisSource=Object.keys(e).map((function(t){var n={};return n[h.parserResult.keyName]=t,n.value=e[t],n}))};h.parserResult.keyName&&(s(),h.parserResult.source=d("$uisSource"+h.parserResult.filters),n.$watch(i,(function(e,t){e!==t&&s()}),!0)),h.refreshItems=function(e){e=e||h.parserResult.source(n);var t=h.selected;if(h.isEmpty()||angular.isArray(t)&&!t.length||!h.multiple||!h.removeSelected)h.setItemsFn(e);else if(null!=e){var a=e.filter((function(e){return angular.isArray(t)?t.every((function(t){return!angular.equals(e,t)})):!angular.equals(e,t)}));h.setItemsFn(a)}"auto"!==h.dropdownPosition&&"up"!==h.dropdownPosition||n.calculateDropdownPos(),n.$broadcast("uis:refresh")},n.$watchCollection(h.parserResult.source,(function(e){if(null==e)h.items=[];else{if(!angular.isArray(e))throw l("items","Expected an array but got '{0}'.",e);h.refreshItems(e),angular.isDefined(h.ngModel.$modelValue)&&(h.ngModel.$modelValue=null)}}))},h.refresh=function(e){void 0!==e&&(f&&i.cancel(f),f=i((function(){if(n.$select.search.length>=n.$select.minimumInputLength){var t=n.$eval(e);t&&angular.isFunction(t.then)&&!h.refreshing&&(h.refreshing=!0,t.finally((function(){h.refreshing=!1})))}}),h.refreshDelay))},h.isActive=function(e){if(!h.open)return!1;var t=h.items.indexOf(e[h.itemProperty]),n=t==h.activeIndex;return!(!n||t<0)&&(n&&!angular.isUndefined(h.onHighlightCallback)&&e.$eval(h.onHighlightCallback),n)};var v=function(e){return h.selected&&angular.isArray(h.selected)&&h.selected.filter((function(t){return angular.equals(t,e)})).length>0},b=[];function w(e){return b.indexOf(e)>-1}h.isDisabled=function(e){if(h.open){var t=e[h.itemProperty],n=!1;if(h.items.indexOf(t)>=0&&(angular.isDefined(h.disableChoiceExpression)||h.multiple)){if(t.isTag)return!1;h.multiple&&(n=v(t)),!n&&angular.isDefined(h.disableChoiceExpression)&&(n=!!e.$eval(h.disableChoiceExpression)),function(e,t){var n=b.indexOf(e);t&&-1===n&&b.push(e),!t&&n>-1&&b.splice(n,1)}(t,n)}return n}},h.select=function(e,a,i){if(t(e)||!w(e)){if(!h.items&&!h.search&&!h.tagging.isActivated)return;if(!e||!w(e)){if(h.clickTriggeredSelect=!1,i&&("click"===i.type||"touchend"===i.type)&&e&&(h.clickTriggeredSelect=!0),h.tagging.isActivated&&!1===h.clickTriggeredSelect){if(!1===h.taggingLabel)if(h.activeIndex<0){if(void 0===e&&(e=void 0!==h.tagging.fct?h.tagging.fct(h.search):h.search),!e||angular.equals(h.items[0],e))return}else e=h.items[h.activeIndex];else if(0===h.activeIndex){if(void 0===e)return;if(void 0!==h.tagging.fct&&"string"==typeof e){if(!(e=h.tagging.fct(e)))return}else"string"==typeof e&&(e=e.replace(h.taggingLabel,"").trim())}if(v(e))return void h.close(a)}m(),n.$broadcast("uis:select",e),h.closeOnSelect&&h.close(a)}}},h.close=function(e){h.open&&(h.ngModel&&h.ngModel.$setTouched&&h.ngModel.$setTouched(),h.open=!1,m(),n.$broadcast("uis:close",e))},h.setFocus=function(){h.focus||h.focusInput[0].focus()},h.clear=function(e){h.select(null),e.stopPropagation(),i((function(){h.focusser[0].focus()}),0,!1)},h.toggle=function(e){h.open?(h.close(),e.preventDefault(),e.stopPropagation()):h.activate()},h.isLocked=function(){return!1},n.$watch((function(){return angular.isDefined(h.lockChoiceExpression)&&""!==h.lockChoiceExpression}),(function(e){if(!e)return;var t=[];h.isLocked=function(e,n){var a=!1,i=h.selected[n];return i&&(e?function(e,n){var a=t.indexOf(e);n&&-1===a&&t.push(e),!n&&a>-1&&t.splice(a,1)}(i,a=!!e.$eval(h.lockChoiceExpression)):a=function(e){return t.indexOf(e)>-1}(i)),a}}));var y=null,_=!1;function x(){var e=a.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw l("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(h.activeIndex<0)){var n=t[h.activeIndex],i=n.offsetTop+n.clientHeight-e[0].scrollTop,s=e[0].offsetHeight;i>s?e[0].scrollTop+=i-s:i<n.clientHeight&&(h.isGrouped&&0===h.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=n.clientHeight-i)}}h.sizeSearchInput=function(){var e=h.searchInput[0],t=h.$element[0],a=function(){return t.clientWidth*!!e.offsetParent},s=function(t){if(0===t)return!1;var n=t-e.offsetLeft;return n<50&&(n=t),h.searchInput.css("width",n+"px"),!0};h.searchInput.css("width","10px"),i((function(){null!==y||s(a())||(y=n.$watch((function(){_||(_=!0,n.$$postDigest((function(){_=!1,s(a())&&(y(),y=null)})))}),angular.noop))}))},h.searchInput.on("keydown",(function(t){var a=t.which;~[e.ENTER,e.ESC].indexOf(a)&&(t.preventDefault(),t.stopPropagation()),n.$apply((function(){var n=!1;if((h.items.length>0||h.tagging.isActivated)&&(function(t){var n=!0;switch(t){case e.DOWN:if(!h.open&&h.multiple)h.activate(!1,!0);else if(h.activeIndex<h.items.length-1)for(var a=++h.activeIndex;w(h.items[a])&&a<h.items.length;)h.activeIndex=++a;break;case e.UP:var i=0===h.search.length&&h.tagging.isActivated?-1:0;if(!h.open&&h.multiple)h.activate(!1,!0);else if(h.activeIndex>i)for(var s=--h.activeIndex;w(h.items[s])&&s>i;)h.activeIndex=--s;break;case e.TAB:h.multiple&&!h.open||h.select(h.items[h.activeIndex],!0);break;case e.ENTER:h.open&&(h.tagging.isActivated||h.activeIndex>=0)?h.select(h.items[h.activeIndex],h.skipFocusser):h.activate(!1,!0);break;case e.ESC:h.close();break;default:n=!1}return n}(a)||h.searchEnabled||(t.preventDefault(),t.stopPropagation()),h.taggingTokens.isActivated)){for(var s=0;s<h.taggingTokens.tokens.length;s++)h.taggingTokens.tokens[s]===e.MAP[t.keyCode]&&h.search.length>0&&(n=!0);n&&i((function(){h.searchInput.triggerHandler("tagged");var n=h.search.replace(e.MAP[t.keyCode],"").trim();h.tagging.fct&&(n=h.tagging.fct(n)),n&&h.select(n,!0)}))}})),e.isVerticalMovement(a)&&h.items.length>0&&x(),a!==e.ENTER&&a!==e.ESC||(t.preventDefault(),t.stopPropagation())})),h.searchInput.on("paste",(function(t){var n;if(n=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(t.originalEvent||t).clipboardData.getData("text/plain"),(n=h.search+n)&&n.length>0)if(h.taggingTokens.isActivated){for(var a=[],i=0;i<h.taggingTokens.tokens.length;i++){var s=e.toSeparator(h.taggingTokens.tokens[i])||h.taggingTokens.tokens[i];if(n.indexOf(s)>-1){a=n.split(s);break}}0===a.length&&(a=[n]);var r=h.search;angular.forEach(a,(function(e){var t=h.tagging.fct?h.tagging.fct(e):e;t&&h.select(t,!0)})),h.search=r||g,t.preventDefault(),t.stopPropagation()}else h.paste&&(h.paste(n),h.search=g,t.preventDefault(),t.stopPropagation())})),h.searchInput.on("tagged",(function(){i((function(){m()}))}));var $=r((function(){h.sizeSearchInput()}),50);angular.element(p).bind("resize",$),n.$on("$destroy",(function(){h.searchInput.off("keyup keydown tagged blur paste"),angular.element(p).off("resize",$)})),n.$watch("$select.activeIndex",(function(e){e&&a.find("input").attr("aria-activedescendant","ui-select-choices-row-"+h.generatedId+"-"+e)})),n.$watch("$select.open",(function(e){e||a.find("input").removeAttr("aria-activedescendant")}))}]),a.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,n,a,i,s,r){return{restrict:"EA",templateUrl:function(e,n){return(n.theme||t.theme)+(angular.isDefined(n.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(i,o){var l=/{(.*)}\s*{(.*)}/.exec(o.ngClass);if(l){var c="{"+l[1]+", "+l[2]+"}";o.ngClass=c,i.attr("ng-class",c)}return angular.isDefined(o.multiple)?i.append("<ui-select-multiple/>").removeAttr("multiple"):i.append("<ui-select-single/>"),o.inputId&&(i.querySelectorAll("input.ui-select-search")[0].id=o.inputId),function(i,o,l,c,d){var u=c[0],p=c[1];function f(e){if(u.open){if(!(window.jQuery?window.jQuery.contains(o[0],e.target):o[0].contains(e.target))&&!u.clickTriggeredSelect){var t;if(u.skipFocusser)t=!0;else{var n=angular.element(e.target).controller("uiSelect");(t=n&&n!==u)||(t=~["input","button","textarea","select"].indexOf(e.target.tagName.toLowerCase()))}u.close(t),i.$digest()}u.clickTriggeredSelect=!1}}u.generatedId=t.generateId(),u.baseTitle=l.title||"Select box",u.focusserTitle=u.baseTitle+" focus",u.focusserId="focusser-"+u.generatedId,u.closeOnSelect=angular.isDefined(l.closeOnSelect)?s(l.closeOnSelect)():t.closeOnSelect,i.$watch("skipFocusser",(function(){var e=i.$eval(l.skipFocusser);u.skipFocusser=void 0!==e?e:t.skipFocusser})),u.onSelectCallback=s(l.onSelect),u.onRemoveCallback=s(l.onRemove),u.ngModel=p,u.choiceGrouped=function(e){return u.isGrouped&&e&&e.name},l.tabindex&&l.$observe("tabindex",(function(e){u.focusInput.attr("tabindex",e),o.removeAttr("tabindex")})),i.$watch((function(){return i.$eval(l.searchEnabled)}),(function(e){u.searchEnabled=void 0!==e?e:t.searchEnabled})),i.$watch("sortable",(function(){var e=i.$eval(l.sortable);u.sortable=void 0!==e?e:t.sortable})),l.$observe("backspaceReset",(function(){var e=i.$eval(l.backspaceReset);u.backspaceReset=void 0===e||e})),l.$observe("limit",(function(){u.limit=angular.isDefined(l.limit)?parseInt(l.limit,10):void 0})),i.$watch("removeSelected",(function(){var e=i.$eval(l.removeSelected);u.removeSelected=void 0!==e?e:t.removeSelected})),l.$observe("disabled",(function(){u.disabled=void 0!==l.disabled&&l.disabled})),l.$observe("resetSearchInput",(function(){var e=i.$eval(l.resetSearchInput);u.resetSearchInput=void 0===e||e})),l.$observe("paste",(function(){u.paste=i.$eval(l.paste)})),l.$observe("tagging",(function(){if(void 0!==l.tagging){var e=i.$eval(l.tagging);u.tagging={isActivated:!0,fct:!0!==e?e:void 0}}else u.tagging={isActivated:!1,fct:void 0}})),l.$observe("taggingLabel",(function(){void 0!==l.tagging&&("false"===l.taggingLabel?u.taggingLabel=!1:u.taggingLabel=void 0!==l.taggingLabel?l.taggingLabel:"(new)")})),l.$observe("taggingTokens",(function(){if(void 0!==l.tagging){var e=void 0!==l.taggingTokens?l.taggingTokens.split("|"):[",","ENTER"];u.taggingTokens={isActivated:!0,tokens:e}}})),l.$observe("spinnerEnabled",(function(){var e=i.$eval(l.spinnerEnabled);u.spinnerEnabled=void 0!==e?e:t.spinnerEnabled})),l.$observe("spinnerClass",(function(){var e=l.spinnerClass;u.spinnerClass=void 0!==e?l.spinnerClass:t.spinnerClass})),angular.isDefined(l.autofocus)&&r((function(){u.setFocus()})),angular.isDefined(l.focusOn)&&i.$on(l.focusOn,(function(){r((function(){u.setFocus()}))})),e.on("click",f),i.$on("$destroy",(function(){e.off("click",f)})),d(i,(function(e){var t=angular.element("<div>").append(e),a=t.querySelectorAll(".ui-select-match");if(a.removeAttr("ui-select-match"),a.removeAttr("data-ui-select-match"),1!==a.length)throw n("transcluded","Expected 1 .ui-select-match but got '{0}'.",a.length);o.querySelectorAll(".ui-select-match").replaceWith(a);var i=t.querySelectorAll(".ui-select-choices");if(i.removeAttr("ui-select-choices"),i.removeAttr("data-ui-select-choices"),1!==i.length)throw n("transcluded","Expected 1 .ui-select-choices but got '{0}'.",i.length);o.querySelectorAll(".ui-select-choices").replaceWith(i);var s=t.querySelectorAll(".ui-select-no-choice");s.removeAttr("ui-select-no-choice"),s.removeAttr("data-ui-select-no-choice"),1==s.length&&o.querySelectorAll(".ui-select-no-choice").replaceWith(s)}));var h=i.$eval(l.appendToBody);(void 0!==h?h:t.appendToBody)&&(i.$watch("$select.open",(function(t){var n;t?(n=a(o),(g=angular.element('<div class="ui-select-placeholder"></div>'))[0].style.width=n.width+"px",g[0].style.height=n.height+"px",o.after(g),m=o[0].style.width,e.find("body").append(o),o[0].style.position="absolute",o[0].style.left=n.left+"px",o[0].style.top=n.top+"px",o[0].style.width=n.width+"px"):v()})),i.$on("$destroy",(function(){v()})));var g=null,m="";function v(){null!==g&&(g.replaceWith(o),g=null,o[0].style.position="",o[0].style.left="",o[0].style.top="",o[0].style.width=m,u.setFocus())}var b=null,w="direction-up";i.$watch("$select.open",(function(){"auto"!==u.dropdownPosition&&"up"!==u.dropdownPosition||i.calculateDropdownPos()}));var y=function(e,t){e=e||a(o),t=t||a(b),b[0].style.position="absolute",b[0].style.top=-1*t.height+"px",o.addClass(w)},_=function(){r((function(){if("up"===u.dropdownPosition)y();else{o.removeClass(w);var t=a(o),n=a(b),i=e[0].documentElement.scrollTop||e[0].body.scrollTop;t.top+t.height+n.height>i+e[0].documentElement.clientHeight?y(t,n):function(e,t){o.removeClass(w),e=e||a(o),t=t||a(b),b[0].style.position="",b[0].style.top=""}(t,n)}b[0].style.opacity=1}))},x=!1;i.calculateDropdownPos=function(){if(u.open){if(0===(b=angular.element(o).querySelectorAll(".ui-select-dropdown")).length)return;if(""!==u.search||x||(b[0].style.opacity=0,x=!0),!a(b).height&&u.$animate&&u.$animate.on&&u.$animate.enabled(b)){var e=!0;u.$animate.on("enter",b,(function(t,n){"close"===n&&e&&(_(),e=!1)}))}else _()}else{if(null===b||0===b.length)return;b[0].style.opacity=0,b[0].style.position="",b[0].style.top="",o.removeClass(w)}}}}}}]),a.directive("uiSelectMatch",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(n){n.addClass("ui-select-match");var a=n.parent();return(t(a,"theme")||e.theme)+(angular.isDefined(t(a,"multiple"))?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,n,a,i){function s(e){i.allowClear=!!angular.isDefined(e)&&(""===e||"true"===e.toLowerCase())}i.lockChoiceExpression=a.uiLockChoice,a.$observe("placeholder",(function(t){i.placeholder=void 0!==t?t:e.placeholder})),a.$observe("allowClear",s),s(a.allowClear),i.multiple&&i.sizeSearchInput()}};function t(e,t){return e[0].hasAttribute(t)?e.attr(t):e[0].hasAttribute("data-"+t)?e.attr("data-"+t):e[0].hasAttribute("x-"+t)?e.attr("x-"+t):void 0}}]),a.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(n,a){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var n,a=this,i=e.$select;angular.isUndefined(i.selected)&&(i.selected=[]),e.$evalAsync((function(){n=e.ngModel})),a.activeMatchIndex=-1,a.updateModel=function(){n.$setViewValue(Date.now()),a.refreshComponent()},a.refreshComponent=function(){i.refreshItems&&i.refreshItems(),i.sizeSearchInput&&i.sizeSearchInput()},a.removeChoice=function(n){if(i.isLocked(null,n))return!1;var s=i.selected[n],r={};return r[i.parserResult.itemName]=s,i.selected.splice(n,1),a.activeMatchIndex=-1,i.sizeSearchInput(),t((function(){i.onRemoveCallback(e,{$item:s,$model:i.parserResult.modelMapper(e,r)})})),a.updateModel(),!0},a.getPlaceholder=function(){if(!i.selected||!i.selected.length)return i.placeholder}}],controllerAs:"$selectMultiple",link:function(i,s,r,o){var l=o[0],c=i.ngModel=o[1],d=i.$selectMultiple;function u(e){return void 0!==e&&void 0!==l.search&&e.filter((function(e){return void 0!==l.search.toUpperCase()&&void 0!==e&&e.toUpperCase()===l.search.toUpperCase()})).length>0}function p(e,t){var n=-1;if(angular.isArray(e))for(var a=angular.copy(e),i=0;i<a.length;i++)if(void 0===l.tagging.fct)a[i]+" "+l.taggingLabel===t&&(n=i);else{var s=a[i];angular.isObject(s)&&(s.isTag=!0),angular.equals(s,t)&&(n=i)}return n}l.multiple=!0,l.focusInput=l.searchInput,c.$isEmpty=function(e){return!e||0===e.length},c.$parsers.unshift((function(){for(var e,t={},n=[],a=l.selected.length-1;a>=0;a--)(t={})[l.parserResult.itemName]=l.selected[a],e=l.parserResult.modelMapper(i,t),n.unshift(e);return n})),c.$formatters.unshift((function(e){var t,n=l.parserResult&&l.parserResult.source(i,{$select:{search:""}}),a={};if(!n)return e;var s=[],r=function(e,n){if(e&&e.length){for(var r=e.length-1;r>=0;r--){if(a[l.parserResult.itemName]=e[r],t=l.parserResult.modelMapper(i,a),l.parserResult.trackByExp){var o=/(\w*)\./.exec(l.parserResult.trackByExp),c=/\.([^\s]+)/.exec(l.parserResult.trackByExp);if(o&&o.length>0&&o[1]==l.parserResult.itemName&&c&&c.length>0&&t[c[1]]==n[c[1]])return s.unshift(e[r]),!0}if(angular.equals(t,n))return s.unshift(e[r]),!0}return!1}};if(!e)return s;for(var o=e.length-1;o>=0;o--)r(l.selected,e[o])||r(n,e[o])||s.unshift(e[o]);return s})),i.$watchCollection((function(){return c.$modelValue}),(function(e,t){t!=e&&(angular.isDefined(c.$modelValue)&&(c.$modelValue=null),d.refreshComponent())})),c.$render=function(){if(!angular.isArray(c.$viewValue)){if(!t(c.$viewValue))throw n("multiarr","Expected model value to be array but got '{0}'",c.$viewValue);c.$viewValue=[]}l.selected=c.$viewValue,d.refreshComponent(),i.$evalAsync()},i.$on("uis:select",(function(e,t){if(!(l.selected.length>=l.limit)){l.selected.push(t);var n={};n[l.parserResult.itemName]=t,a((function(){l.onSelectCallback(i,{$item:t,$model:l.parserResult.modelMapper(i,n)})})),d.updateModel()}})),i.$on("uis:activate",(function(){d.activeMatchIndex=-1})),i.$watch("$select.disabled",(function(e,t){t&&!e&&l.sizeSearchInput()})),l.searchInput.on("keydown",(function(t){var n=t.which;i.$apply((function(){var a=!1;e.isHorizontalMovement(n)&&(a=function(t){var n=(p=l.searchInput[0],angular.isNumber(p.selectionStart)?p.selectionStart:p.value.length),a=l.selected.length,i=0,s=a-1,r=d.activeMatchIndex,o=d.activeMatchIndex+1,c=d.activeMatchIndex-1,u=r;var p;if(n>0||l.search.length&&t==e.RIGHT)return!1;function f(){switch(t){case e.LEFT:return~d.activeMatchIndex?c:s;case e.RIGHT:return~d.activeMatchIndex&&r!==s?o:(l.activate(),!1);case e.BACKSPACE:return~d.activeMatchIndex?d.removeChoice(r)?c:r:s;case e.DELETE:return!!~d.activeMatchIndex&&(d.removeChoice(d.activeMatchIndex),r)}}l.close(),u=f(),l.selected.length&&!1!==u?d.activeMatchIndex=Math.min(s,Math.max(i,u)):d.activeMatchIndex=-1;return!0}(n)),a&&n!=e.TAB&&(t.preventDefault(),t.stopPropagation())}))})),l.searchInput.on("keyup",(function(t){if(e.isVerticalMovement(t.which)||i.$evalAsync((function(){l.activeIndex=!1===l.taggingLabel?-1:0})),l.tagging.isActivated&&l.search.length>0){if(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||e.isVerticalMovement(t.which))return;if(l.activeIndex=!1===l.taggingLabel?-1:0,!1===l.taggingLabel)return;var n,a,s,r=angular.copy(l.items),o=angular.copy(l.items),c=!1,d=-1;if(void 0!==l.tagging.fct){if((a=l.$filter("filter")(r,{isTag:!0})).length>0&&(s=a[0]),r.length>0&&s&&(c=!0,r=r.slice(1,r.length),o=o.slice(1,o.length)),n=l.tagging.fct(l.search),o.some((function(e){return angular.equals(e,n)}))||l.selected.some((function(e){return angular.equals(e,n)})))return void i.$evalAsync((function(){l.activeIndex=0,l.items=r}));n&&(n.isTag=!0)}else{if(a=l.$filter("filter")(r,(function(e){return e.match(l.taggingLabel)})),a.length>0&&(s=a[0]),void 0!==r[0]&&r.length>0&&s&&(c=!0,r=r.slice(1,r.length),o=o.slice(1,o.length)),n=l.search+" "+l.taggingLabel,p(l.selected,l.search)>-1)return;if(u(o.concat(l.selected)))return void(c&&(r=o,i.$evalAsync((function(){l.activeIndex=0,l.items=r}))));if(u(o))return void(c&&(l.items=o.slice(1,o.length)))}c&&(d=p(l.selected,n)),d>-1?r=r.slice(d+1,r.length-1):(r=[],n&&r.push(n),r=r.concat(o)),i.$evalAsync((function(){if(l.activeIndex=0,l.items=r,l.isGrouped){var e=n?r.slice(1):r;l.setItemsFn(e),n&&(l.items.unshift(n),l.groups.unshift({name:"",items:[n],tagging:!0}))}}))}})),l.searchInput.on("blur",(function(){a((function(){d.activeMatchIndex=-1}))}))}}}]),a.directive("uiSelectNoChoice",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){return t.addClass("ui-select-no-choice"),(t.parent().attr("theme")||e.theme)+"/no-choice.tpl.html"}}}]),a.directive("uiSelectSingle",["$timeout","$compile",function(n,a){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(i,s,r,o){var l=o[0],c=o[1];c.$parsers.unshift((function(e){if(t(e))return e;var n={};return n[l.parserResult.itemName]=e,l.parserResult.modelMapper(i,n)})),c.$formatters.unshift((function(e){if(t(e))return e;var n=l.parserResult&&l.parserResult.source(i,{$select:{search:""}}),a={};if(n){var s=function(t){return a[l.parserResult.itemName]=t,l.parserResult.modelMapper(i,a)===e};if(l.selected&&s(l.selected))return l.selected;for(var r=n.length-1;r>=0;r--)if(s(n[r]))return n[r]}return e})),i.$watch("$select.selected",(function(e){c.$viewValue!==e&&c.$setViewValue(e)})),c.$render=function(){l.selected=c.$viewValue},i.$on("uis:select",(function(e,a){l.selected=a;var s={};s[l.parserResult.itemName]=a,n((function(){l.onSelectCallback(i,{$item:a,$model:t(a)?a:l.parserResult.modelMapper(i,s)})}))})),i.$on("uis:close",(function(e,t){n((function(){l.focusser.prop("disabled",!1),t||l.focusser[0].focus()}),0,!1)})),i.$on("uis:activate",(function(){d.prop("disabled",!0)}));var d=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");a(d)(i),l.focusser=d,l.focusInput=d,s.parent().append(d),d.bind("focus",(function(){i.$evalAsync((function(){l.focus=!0}))})),d.bind("blur",(function(){i.$evalAsync((function(){l.focus=!1}))})),d.bind("keydown",(function(t){if(t.which===e.BACKSPACE&&!1!==l.backspaceReset)return t.preventDefault(),t.stopPropagation(),l.select(void 0),void i.$apply();t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||(t.which!=e.DOWN&&t.which!=e.UP&&t.which!=e.ENTER&&t.which!=e.SPACE||(t.preventDefault(),t.stopPropagation(),l.activate()),i.$digest())})),d.bind("keyup input",(function(t){t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||t.which==e.ENTER||t.which===e.BACKSPACE||(l.activate(d.val()),d.val(""),i.$digest())}))}}}]),a.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,n){return{require:["^^uiSelect","^ngModel"],link:function(t,a,i,s){if(null===t[i.uiSelectSort])throw n("sort","Expected a list to sort");var r=s[0],o=s[1],l=angular.extend({axis:"horizontal"},t.$eval(i.uiSelectSortOptions)).axis,c="dragging",d="dropping",u="dropping-before",p="dropping-after";t.$watch((function(){return r.sortable}),(function(e){e?a.attr("draggable",!0):a.removeAttr("draggable")})),a.on("dragstart",(function(e){a.addClass(c),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text",t.$index.toString())})),a.on("dragend",(function(){g(c)}));var f,h=function(e,t){this.splice(t,0,this.splice(e,1)[0])},g=function(e){angular.forEach(r.$element.querySelectorAll("."+e),(function(t){angular.element(t).removeClass(e)}))},m=function(e){e.preventDefault(),("vertical"===l?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0))<this["vertical"===l?"offsetHeight":"offsetWidth"]/2?(g(p),a.addClass(u)):(g(u),a.addClass(p))},v=function(t){t.preventDefault();var n=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text"),10);e.cancel(f),f=e((function(){b(n)}),20)},b=function(e){var n=t.$eval(i.uiSelectSort),s=n[e],r=null;r=a.hasClass(u)?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,h.apply(n,[e,r]),o.$setViewValue(Date.now()),t.$apply((function(){t.$emit("uiSelectSort:change",{array:n,item:s,from:e,to:r})})),g(d),g(u),g(p),a.off("drop",v)};a.on("dragenter",(function(){a.hasClass(c)||(a.addClass(d),a.on("dragover",m),a.on("drop",v))})),a.on("dragleave",(function(e){e.target==a&&(g(d),g(u),g(p),a.off("dragover",m),a.off("drop",v))}))}}}]),a.factory("$$uisDebounce",["$timeout",function(e){return function(t,n){var a;return function(){var i=this,s=Array.prototype.slice.call(arguments);a&&e.cancel(a),a=e((function(){t.apply(i,s)}),n)}}}]),a.directive("uisOpenClose",["$parse","$timeout",function(e,t){return{restrict:"A",require:"uiSelect",link:function(n,a,i,s){s.onOpenCloseCallback=e(i.uisOpenClose),n.$watch("$select.open",(function(e,a){e!==a&&t((function(){s.onOpenCloseCallback(n,{isOpen:e})}))}))}}}]),a.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){this.parse=function(n){var a;if(!(a=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);var i=a[5],s="";if(a[3]){i=a[5].replace(/(^\()|(\)$)/g,"");var r=a[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);r&&r[1].trim()&&(s=r[1],i=i.replace(s,""))}return{itemName:a[4]||a[2],keyName:a[3],source:t(i),filters:s,trackByExp:a[6],modelMapper:t(a[1]||a[4]||a[2]),repeatExpression:function(e){var t=this.itemName+" in "+(e?"$group.items":"$select.items");return this.trackByExp&&(t+=" track by "+this.trackByExp),t}}},this.getGroupNgRepeatExpression=function(){return"$group in $select.groups track by $group.name"}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><span class="ui-select-choices-row-inner"></span></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="fa fa-xmark" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-expanded="{{$select.open}}" aria-label="{{$select.baseTitle}}" ng-class="{\'spinner\': $select.refreshing}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><span ng-show="$select.open && $select.refreshing && $select.spinnerEnabled" class="ui-select-refreshing {{$select.spinnerClass}}"></span> <input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" class="form-control ui-select-search" ng-class="{ \'ui-select-search-hidden\' : !$select.searchEnabled }" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/no-choice.tpl.html",'<div class="ui-select-no-choice dropdown" ng-show="$select.items.length == 0"><div class="dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="search-container" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" ng-class="{\'select2-active\': $select.refreshing}" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown" ng-class="{\'single\': !$select.multiple, \'multi\': $select.multiple}"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match-multiple.tpl.html",'<div class="ui-select-match" data-value="" ng-repeat="$item in $select.selected track by $index" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'active\':$selectMultiple.activeMatchIndex === $index}" ui-select-sort="$select.selected"><span class="ui-select-match-item" ng-class="{\'select-locked\':$select.isLocked(this, $index)}"><span uis-transclude-append=""></span> <span class="remove ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&times;</span></span></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match"><span ng-show="!$select.searchEnabled && ($select.isEmpty() || $select.open)" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty() || $select.open" ng-transclude=""></span></div>'),e.put("selectize/no-choice.tpl.html",'<div class="ui-select-no-choice selectize-dropdown" ng-show="$select.items.length == 0"><div class="selectize-dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),e.put("selectize/select-multiple.tpl.html",'<div class="ui-select-container selectize-control multi plugin-remove_button" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-model="$select.search" ng-disabled="$select.disabled" aria-expanded="{{$select.open}}" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.isEmpty() && !$select.open" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>')}]),function(e,t){var n={};!function(e){"use strict";e.__esModule=!0,e.digestLength=32,e.blockSize=64;var t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function n(e,n,a,i,s){for(var r,o,l,c,d,u,p,f,h,g,m,v,b;s>=64;){for(r=n[0],o=n[1],l=n[2],c=n[3],d=n[4],u=n[5],p=n[6],f=n[7],g=0;g<16;g++)m=i+4*g,e[g]=(255&a[m])<<24|(255&a[m+1])<<16|(255&a[m+2])<<8|255&a[m+3];for(g=16;g<64;g++)v=((h=e[g-2])>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,b=((h=e[g-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3,e[g]=(v+e[g-7]|0)+(b+e[g-16]|0);for(g=0;g<64;g++)v=(((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&u^~d&p)|0)+(f+(t[g]+e[g]|0)|0)|0,b=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&o^r&l^o&l)|0,f=p,p=u,u=d,d=c+v|0,c=l,l=o,o=r,r=v+b|0;n[0]+=r,n[1]+=o,n[2]+=l,n[3]+=c,n[4]+=d,n[5]+=u,n[6]+=p,n[7]+=f,i+=64,s-=64}return i}var a=function(){function t(){this.digestLength=e.digestLength,this.blockSize=e.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return t.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},t.prototype.clean=function(){for(var e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()},t.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var a=0;if(this.bytesHashed+=t,this.bufferLength>0){for(;this.bufferLength<64&&t>0;)this.buffer[this.bufferLength++]=e[a++],t--;64===this.bufferLength&&(n(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(t>=64&&(a=n(this.temp,this.state,e,a,t),t%=64);t>0;)this.buffer[this.bufferLength++]=e[a++],t--;return this},t.prototype.finish=function(e){if(!this.finished){var t=this.bytesHashed,a=this.bufferLength,i=t/536870912|0,s=t<<3,r=t%64<56?64:128;this.buffer[a]=128;for(var o=a+1;o<r-8;o++)this.buffer[o]=0;this.buffer[r-8]=i>>>24&255,this.buffer[r-7]=i>>>16&255,this.buffer[r-6]=i>>>8&255,this.buffer[r-5]=i>>>0&255,this.buffer[r-4]=s>>>24&255,this.buffer[r-3]=s>>>16&255,this.buffer[r-2]=s>>>8&255,this.buffer[r-1]=s>>>0&255,n(this.temp,this.state,this.buffer,0,r),this.finished=!0}for(o=0;o<8;o++)e[4*o+0]=this.state[o]>>>24&255,e[4*o+1]=this.state[o]>>>16&255,e[4*o+2]=this.state[o]>>>8&255,e[4*o+3]=this.state[o]>>>0&255;return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype._saveState=function(e){for(var t=0;t<this.state.length;t++)e[t]=this.state[t]},t.prototype._restoreState=function(e,t){for(var n=0;n<this.state.length;n++)this.state[n]=e[n];this.bytesHashed=t,this.finished=!1,this.bufferLength=0},t}();e.Hash=a;var i=function(){function e(e){this.inner=new a,this.outer=new a,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var t=new Uint8Array(this.blockSize);if(e.length>this.blockSize)(new a).update(e).finish(t).clean();else for(var n=0;n<e.length;n++)t[n]=e[n];for(n=0;n<t.length;n++)t[n]^=54;this.inner.update(t);for(n=0;n<t.length;n++)t[n]^=106;this.outer.update(t),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(n=0;n<t.length;n++)t[n]=0}return e.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},e.prototype.clean=function(){for(var e=0;e<this.istate.length;e++)this.ostate[e]=this.istate[e]=0;this.inner.clean(),this.outer.clean()},e.prototype.update=function(e){return this.inner.update(e),this},e.prototype.finish=function(e){return this.outer.finished?this.outer.finish(e):(this.inner.finish(e),this.outer.update(e,this.digestLength).finish(e)),this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e}();function s(e){var t=(new a).update(e),n=t.digest();return t.clean(),n}function r(e,t){var n=new i(e).update(t),a=n.digest();return n.clean(),a}function o(e,t,n,a){var i=a[0];if(0===i)throw new Error("hkdf: cannot expand more");t.reset(),i>1&&t.update(e),n&&t.update(n),t.update(a),t.finish(e),a[0]++}e.HMAC=i,e.hash=s,e.default=s,e.hmac=r;var l=new Uint8Array(e.digestLength);function c(e,t,n,a){void 0===t&&(t=l),void 0===a&&(a=32);for(var s=new Uint8Array([1]),c=r(t,e),d=new i(c),u=new Uint8Array(d.digestLength),p=u.length,f=new Uint8Array(a),h=0;h<a;h++)p===u.length&&(o(u,d,n,s),p=0),f[h]=u[p++];return d.clean(),u.fill(0),s.fill(0),f}function d(e,t,n,a){for(var s=new i(e),r=s.digestLength,o=new Uint8Array(4),l=new Uint8Array(r),c=new Uint8Array(r),d=new Uint8Array(a),u=0;u*r<a;u++){var p=u+1;o[0]=p>>>24&255,o[1]=p>>>16&255,o[2]=p>>>8&255,o[3]=p>>>0&255,s.reset(),s.update(t),s.update(o),s.finish(c);for(var f=0;f<r;f++)l[f]=c[f];for(f=2;f<=n;f++){s.reset(),s.update(c).finish(c);for(var h=0;h<r;h++)l[h]^=c[h]}for(f=0;f<r&&u*r+f<a;f++)d[u*r+f]=l[f]}for(u=0;u<r;u++)l[u]=c[u]=0;for(u=0;u<4;u++)o[u]=0;return s.clean(),d}e.hkdf=c,e.pbkdf2=d}(n);var a=n.default;for(var i in n)a[i]=n[i];"object"==typeof module&&"object"==typeof module.exports?module.exports=a:"function"==typeof define&&define.amd?define((function(){return a})):e.sha256=a}(this),function(e,t){"function"==typeof define&&define.amd?define([],(function(){return t()})):"object"==typeof exports?module.exports=t():t()}(0,(function(){"use strict";return angular.module("tmh.dynamicLocale",[]).config(["$provide",function(e){function t(e){return e.$stateful=!0,e}e.decorator("dateFilter",["$delegate",t]),e.decorator("numberFilter",["$delegate",t]),e.decorator("currencyFilter",["$delegate",t])}]).constant("tmhDynamicLocale.STORAGE_KEY","tmhDynamicLocale.locale").provider("tmhDynamicLocale",["tmhDynamicLocale.STORAGE_KEY",function(e){var t,n,a,i,s="angular/i18n/angular-locale_{{locale}}.js",r="tmhDynamicLocaleStorageCache",o=e,l="get",c="put",d={},u={};function p(e,t,s,r,l,u,p){function f(e,t){i===s&&(angular.forEach(e,(function(n,a){t[a]?angular.isArray(t[a])&&(e[a].length=t[a].length):delete e[a]})),angular.forEach(t,(function(n,a){angular.isArray(t[a])||angular.isObject(t[a])?(e[a]||(e[a]=angular.isArray(t[a])?[]:{}),f(e[a],t[a])):e[a]=t[a]})))}if(d[s])return i=s,d[s];var h,g=l.defer();return s===i?g.resolve(t):(h=u.get(s))?(i=s,r.$evalAsync((function(){f(t,h),a[c](o,s),r.$broadcast("$localeChangeSuccess",s,t),g.resolve(t)}))):(i=s,d[s]=g.promise,function(e,t,a,i){var s=document.createElement("script"),r=n||document.getElementsByTagName("body")[0],o=!1;s.type="text/javascript",s.readyState?s.onreadystatechange=function(){"complete"!==s.readyState&&"loaded"!==s.readyState||(s.onreadystatechange=null,i((function(){o||(o=!0,s.parentNode===r&&r.removeChild(s),t())}),30,!1))}:(s.onload=function(){o||(o=!0,s.parentNode===r&&r.removeChild(s),t())},s.onerror=function(){o||(o=!0,s.parentNode===r&&r.removeChild(s),a())}),s.src=e,s.async=!0,r.appendChild(s)}(e,(function(){var e=angular.injector(["ngLocale"]).get("$locale");f(t,e),u.put(s,e),delete d[s],r.$applyAsync((function(){a[c](o,s),r.$broadcast("$localeChangeSuccess",s,t),g.resolve(t)}))}),(function(){delete d[s],r.$applyAsync((function(){i===s&&(i=t.id),r.$broadcast("$localeChangeError",s),g.reject(s)}))}),p)),g.promise}this.localeLocationPattern=function(e){return e?(s=e,this):s},this.appendScriptTo=function(e){n=e},this.useStorage=function(e){r=e,l="get",c="put"},this.useCookieStorage=function(){angular.version.minor<7?this.useStorage("$cookieStore"):(this.useStorage("$cookies"),l="getObject",c="putObject")},this.defaultLocale=function(e){t=e},this.storageKey=function(e){return e?(o=e,this):o},this.addLocalePatternValue=function(e,t){u[e]=t},this.$get=["$rootScope","$injector","$interpolate","$locale","$q","tmhDynamicLocaleCache","$timeout",function(e,n,c,d,f,h,g){var m=c(s);return a=n.get(r),e.$evalAsync((function(){var e;(e=a[l](o)||t)&&v(e)})),{set:v,get:function(){return i}};function v(t){var n={locale:t,angularVersion:angular.version.full};return p(m(angular.extend({},u,n)),d,t,e,f,h,g)}}]}]).provider("tmhDynamicLocaleCache",(function(){this.$get=["$cacheFactory",function(e){return e("tmh.dynamicLocales")}]})).provider("tmhDynamicLocaleStorageCache",(function(){this.$get=["$cacheFactory",function(e){return e("tmh.dynamicLocales.store")}]})).run(["tmhDynamicLocale",angular.noop]),"tmh.dynamicLocale"})),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.common","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(e,t,n,a){var i=a.has("$animateCss")?a.get("$animateCss"):null;return{link:function(a,s,r){var o=n(r.expanding),l=n(r.expanded),c=n(r.collapsing),d=n(r.collapsed),u=!1,p={},f={};function h(e){return u?{width:e.scrollWidth+"px"}:{height:e.scrollHeight+"px"}}function g(){s.removeClass("collapsing").addClass("collapse").css(p),l(a)}function m(){s.css(f),s.removeClass("collapsing").addClass("collapse"),d(a)}!function(){(u=!!("horizontal"in r))?(p={width:""},f={width:"0"}):(p={height:""},f={height:"0"});a.$eval(r.uibCollapse)||s.addClass("show").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(p)}(),a.$watch(r.uibCollapse,(function(n){n?function(){if(!s.hasClass("collapse")&&!s.hasClass("show"))return m();t.resolve(c(a)).then((function(){s.css(h(s[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),i?i(s,{removeClass:"show",to:f}).start().finally(m):e.removeClass(s,"show",{to:f}).then(m)}),angular.noop)}():s.hasClass("collapse")&&s.hasClass("show")||t.resolve(o(a)).then((function(){s.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),i?i(s,{addClass:"show",easing:"ease",css:{overflow:"hidden"},to:h(s[0])}).start().finally(g):e.addClass(s,"show",{css:{overflow:"hidden"},to:h(s[0])}).then(g)}),angular.noop)}))}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",(function(){return{restrict:"A",link:function(e,t,n){n.$observe("disabled",(function(e){n.$set("tabindex",e?-1:null)}))}}})),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(a){(angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers)&&angular.forEach(this.groups,(function(e){e!==a&&(e.isOpen=!1)}))},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",(function(n){t.removeGroup(e)}))},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",(function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}})).directive("uibAccordionGroup",(function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",cardClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,a){t.addClass("card"),a.addGroup(e),e.openClass=n.openClass||"card-open",e.cardClass=n.cardClass||"card-default",e.$watch("isOpen",(function(n){t.toggleClass(e.openClass,!!n),n&&a.closeOthers(e)})),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var i="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=i+"-tab",e.cardId=i+"-card"}}})).directive("uibAccordionHeading",(function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,a,i){a.setHeading(i(e,angular.noop))}}})).directive("uibAccordionTransclude",(function(){return{require:"^uibAccordionGroup",link:function(e,t,n,a){e.$watch((function(){return a[n.uibAccordionTransclude]}),(function(e){if(e){var n=angular.element(t[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"));n.html(""),n.append(e)}}))}}})),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(e,t,n,a,i){e.closeable=!!n.close,t.addClass("alert"),n.$set("role","alert"),e.closeable&&t.addClass("alert-dismissible");var s=angular.isDefined(n.dismissOnTimeout)?a(n.dismissOnTimeout)(e.$parent):null;s&&i((function(){e.close()}),parseInt(s,10))}]).directive("uibAlert",(function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}})),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(e){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,a,i){var s=i[0],r=i[1],o=e(a.uibUncheckable);n.find("input").css({display:"none"}),r.$render=function(){n.toggleClass(s.activeClass,angular.equals(r.$modelValue,t.$eval(a.uibBtnRadio)))},n.on(s.toggleEvent,(function(){if(!a.disabled){var e=n.hasClass(s.activeClass);e&&!angular.isDefined(a.uncheckable)||t.$apply((function(){r.$setViewValue(e?null:t.$eval(a.uibBtnRadio)),r.$render()}))}})),a.uibUncheckable&&t.$watch(o,(function(e){a.$set("uncheckable",e?"":void 0)}))}}}]).directive("uibBtnCheckbox",(function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,a){var i=a[0],s=a[1];function r(){return o(n.btnCheckboxTrue,!0)}function o(t,n){return angular.isDefined(t)?e.$eval(t):n}t.find("input").css({display:"none"}),s.$render=function(){t.toggleClass(i.activeClass,angular.equals(s.$modelValue,r()))},t.on(i.toggleEvent,(function(){n.disabled||e.$apply((function(){s.$setViewValue(t.hasClass(i.activeClass)?o(n.btnCheckboxFalse,!1):r()),s.$render()}))}))}}})),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(e,t,n,a,i){var s,r,o=this,l=o.slides=e.slides=[],c="uib-slideDirection",d=e.active,u=!1;function p(e){for(var t=0;t<l.length;t++)l[t].slide.active=t===e}function f(e){for(var t=0;t<l.length;t++)if(l[t].slide===e)return t}function h(){s&&(n.cancel(s),s=null)}function g(){h();var t=+e.interval;!isNaN(t)&&t>0&&(s=n(m,t))}function m(){var t=+e.interval;r&&!isNaN(t)&&t>0&&l.length?e.next():e.pause()}t.addClass("carousel"),o.addSlide=function(t,n){l.push({slide:t,element:n}),l.sort((function(e,t){return+e.slide.index-+t.slide.index})),(t.index===e.active||1===l.length&&!angular.isNumber(e.active))&&(e.$currentTransition&&(e.$currentTransition=null),d=t.index,e.active=t.index,p(d),o.select(l[f(t)]),1===l.length&&e.play())},o.getCurrentIndex=function(){for(var e=0;e<l.length;e++)if(l[e].slide.index===d)return e},o.next=e.next=function(){var t=(o.getCurrentIndex()+1)%l.length;if(0!==t||!e.noWrap())return o.select(l[t],"next");e.pause()},o.prev=e.prev=function(){var t=o.getCurrentIndex()-1<0?l.length-1:o.getCurrentIndex()-1;if(!e.noWrap()||t!==l.length-1)return o.select(l[t],"prev");e.pause()},o.removeSlide=function(t){var n=f(t);l.splice(n,1),l.length>0&&d===n?n>=l.length?(d=l.length-1,e.active=d,p(d),o.select(l[l.length-1])):(d=n,e.active=d,p(d),o.select(l[n])):d>n&&(d--,e.active=d),0===l.length&&(d=null,e.active=null)},o.select=e.select=function(n,a){var s=f(n.slide);void 0===a&&(a=s>o.getCurrentIndex()?"next":"prev"),n.slide.index===d||e.$currentTransition||function(n,a,s){if(u)return;if(angular.extend(n,{direction:s}),angular.extend(l[d].slide||{},{direction:s}),i.enabled(t)&&!e.$currentTransition&&l[a].element&&o.slides.length>1){l[a].element.data(c,n.direction);var r=o.getCurrentIndex();angular.isNumber(r)&&l[r].element&&l[r].element.data(c,n.direction),e.$currentTransition=!0,i.on("addClass",l[a].element,(function(t,n){"close"===n&&(e.$currentTransition=null,i.off("addClass",t))}))}e.active=n.index,d=n.index,p(a),g()}(n.slide,s,a)},e.indexOfSlide=function(e){return+e.slide.index},e.isActive=function(t){return e.active===t.slide.index},e.isPrevDisabled=function(){return 0===e.active&&e.noWrap()},e.isNextDisabled=function(){return e.active===l.length-1&&e.noWrap()},e.pause=function(){e.noPause||(r=!1,h())},e.play=function(){r||(r=!0,g())},t.on("mouseenter",e.pause),t.on("mouseleave",e.play),e.$on("$destroy",(function(){u=!0,h()})),e.$watch("noTransition",(function(e){i.enabled(t,!e)})),e.$watch("interval",g),e.$watchCollection("slides",(function(t){t.length||(e.$currentTransition=null)})),e.$watch("active",(function(e){if(angular.isNumber(e)&&d!==e){for(var t=0;t<l.length;t++)if(l[t].slide.index===e){e=t;break}l[e]&&(p(e),o.select(l[e]),d=e)}}))}]).directive("uibCarousel",(function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=?",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}})).directive("uibSlide",["$animate",function(e){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,n,a,i){n.addClass("carousel-item"),i.addSlide(t,n),t.$on("$destroy",(function(){i.removeSlide(t)})),t.$watch("active",(function(t){e[t?"addClass":"removeClass"](n,"active")}))}}}]).animation(".carousel-item",["$animateCss",function(e){var t="uib-slideDirection",n="carousel-item-";function a(e,t,n){e.removeClass(t),n&&n()}return{beforeAddClass:function(i,s,r){if("active"===s){var o=i.data(t),l="next"===o?n+"left":n+"right",c=a.bind(this,i,[l,n+o].join(" "),r);return i.addClass(n+o),e(i,{addClass:l}).start().done(c),function(){!0}}r()},beforeRemoveClass:function(i,s,r){if("active"===s){var o="next"===i.data(t)?n+"left":n+"right",l=a.bind(this,i,o,r);return e(i,{addClass:o}).start().done(l),function(){!0}}r()}}}]),angular.module("ui.bootstrap.common",[]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(e,t,n,a,i){var s,r,o=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;function l(e){return i(r,{key:e},!0)[0]}function c(e,t,n){return function(){return e.substr(t+1,n-t-1)}}function d(e,t){for(var n=e.substr(t),a=0;a<r.length;a++)if(new RegExp("^"+r[a].key).test(n)){var i=r[a];return{endIdx:t+i.key.length,parser:i.formatter}}return{endIdx:t+1,parser:function(){return n.charAt(0)}}}function u(e){return parseInt(e,10)}function p(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function f(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function h(e,t,n){n=n?-1:1;var a=e.getTimezoneOffset();return f(e,n*(p(t,a)-a))}this.init=function(){s=t.id,this.parsers={},this.formatters={},r=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=e<69?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){var t=e.getMonth();return/^[0-9]$/.test(t)?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){var t=e.getDate();return/^[1-9]$/.test(t)?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],a=t[2],i=t[3];this.hours+=u(n+a),this.minutes+=u(n+i)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}],angular.version.major>=1&&angular.version.minor>4&&r.push({key:"LLLL",regex:t.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.STANDALONEMONTH.indexOf(e)},formatter:function(e){return n(e,"LLLL")}})},this.init(),this.getParser=function(e){var t=l(e);return t&&t.apply||null},this.overrideParser=function(e,t){var n=l(e);n&&angular.isFunction(t)&&(this.parsers={},n.apply=t)}.bind(this),this.filter=function(e,n){return angular.isDate(e)&&!isNaN(e)&&n?(n=t.DATETIME_FORMATS[n]||n,t.id!==s&&this.init(),this.formatters[n]||(this.formatters[n]=function(e){for(var t,n,a=[],i=0;i<e.length;)if(angular.isNumber(n)){if("'"===e.charAt(i))(i+1>=e.length||"'"!==e.charAt(i+1))&&(a.push(c(e,n,i)),n=null);else if(i===e.length)for(;n<e.length;)t=d(e,n),a.push(t),n=t.endIdx;i++}else"'"!==e.charAt(i)?(t=d(e,i),a.push(t.parser),i=t.endIdx):(n=i,i++);return a}(n)),this.formatters[n].reduce((function(t,n){return t+n(e)}),"")):""},this.parse=function(n,i,l){if(!angular.isString(n)||!i)return n;i=(i=t.DATETIME_FORMATS[i]||i).replace(o,"\\$&"),t.id!==s&&this.init(),this.parsers[i]||(this.parsers[i]=function(e){var t=[],n=e.split(""),i=e.indexOf("'");if(i>-1){var s=!1;e=e.split("");for(var o=i;o<e.length;o++)s?("'"===e[o]&&(o+1<e.length&&"'"===e[o+1]?(e[o+1]="$",n[o+1]=""):(n[o]="",s=!1)),e[o]="$"):"'"===e[o]&&(e[o]="$",n[o]="",s=!0);e=e.join("")}return angular.forEach(r,(function(a){var i=e.indexOf(a.key);if(i>-1){e=e.split(""),n[i]="("+a.regex+")",e[i]="$";for(var s=i+1,r=i+a.key.length;s<r;s++)n[s]="",e[s]="$";e=e.join(""),t.push({index:i,key:a.key,apply:a.apply,matcher:a.regex})}})),{regex:new RegExp("^"+n.join("")+"$"),map:a(t,"index")}}(i));var c=this.parsers[i],d=c.regex,u=c.map,p=n.match(d),f=!1;if(p&&p.length){var h,g;angular.isDate(l)&&!isNaN(l.getTime())?h={year:l.getFullYear(),month:l.getMonth(),date:l.getDate(),hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds(),milliseconds:l.getMilliseconds()}:(l&&e.warn("dateparser:","baseDate is not a valid date"),h={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var m=1,v=p.length;m<v;m++){var b=u[m-1];"Z"===b.matcher&&(f=!0),b.apply&&b.apply.call(h,p[m])}var w=f?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,y=f?Date.prototype.setUTCHours:Date.prototype.setHours;return function(e,t,n){if(n<1)return!1;if(1===t&&n>28)return 29===n&&(e%4==0&&e%100!=0||e%400==0);if(3===t||5===t||8===t||10===t)return n<31;return!0}(h.year,h.month,h.date)&&(!angular.isDate(l)||isNaN(l.getTime())||f?(g=new Date(0),w.call(g,h.year,h.month,h.date),y.call(g,h.hours||0,h.minutes||0,h.seconds||0,h.milliseconds||0)):(g=new Date(l),w.call(g,h.year,h.month,h.date),y.call(g,h.hours,h.minutes,h.seconds,h.milliseconds))),g}},this.toTimezone=function(e,t){return e&&t?h(e,t):e},this.fromTimezone=function(e,t){return e&&t?h(e,t,!0):e},this.timezoneToOffset=p,this.addDateMinutes=f,this.convertTimezoneToLocal=h}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(a,i){var s=[],r=[],o={},l=i.uibIsClass.match(t),c=l[2],d=l[1].split(",");return function(t,a,i){s.push(t),r.push({scope:t,element:a}),d.forEach((function(a,i){!function(t,a){var i=t.match(n),s=a.$eval(i[1]),l=i[2],d=o[t];if(!d){var u=function(t){var n=null;r.some((function(e){if(e.scope.$eval(c)===t)return n=e,!0})),d.lastActivated!==n&&(d.lastActivated&&e.removeClass(d.lastActivated.element,s),n&&e.addClass(n.element,s),d.lastActivated=n)};o[t]=d={lastActivated:null,scope:a,watchFn:u,compareWithExp:l,watcher:a.$watch(l,u)}}d.watchFn(a.$eval(l))}(a,t)})),t.$on("$destroy",u)};function u(e){var t=e.targetScope,n=s.indexOf(t);if(s.splice(n,1),r.splice(n,1),s.length){var a=s[0];angular.forEach(o,(function(e){e.scope===t&&(e.watcher=a.$watch(e.compareWithExp,e.watchFn),e.scope=a)}))}else o={}}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(e,t,n,a,i,s,r,o,l,c,d,u){var p=this,f={$setViewValue:angular.noop},h={},g=[];t.addClass("uib-datepicker"),n.$set("role","application"),e.datepickerOptions||(e.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach((function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":p[t]=angular.isDefined(e.datepickerOptions[t])?i(e.datepickerOptions[t])(e.$parent):l[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":p[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:l[t];break;case"startingDay":angular.isDefined(e.datepickerOptions.startingDay)?p.startingDay=e.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?p.startingDay=l.startingDay:p.startingDay=(s.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.$watch("datepickerOptions."+t,(function(e){e?angular.isDate(e)?p[t]=u.fromTimezone(new Date(e),h.getOption("timezone")):(c&&r.warn("Literal date support has been deprecated, please switch to date object usage"),p[t]=new Date(o(e,"medium"))):p[t]=l[t]?u.fromTimezone(new Date(l[t]),h.getOption("timezone")):null,p.refreshView()}));break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch((function(){return e.datepickerOptions[t]}),(function(n){p[t]=e[t]=angular.isDefined(n)?n:e.datepickerOptions[t],("minMode"===t&&p.modes.indexOf(e.datepickerOptions.datepickerMode)<p.modes.indexOf(p[t])||"maxMode"===t&&p.modes.indexOf(e.datepickerOptions.datepickerMode)>p.modes.indexOf(p[t]))&&(e.datepickerMode=p[t],e.datepickerOptions.datepickerMode=p[t])})):p[t]=e[t]=l[t]||null}})),e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(n.disabled)||!1,angular.isDefined(n.ngDisabled)&&g.push(e.$parent.$watch(n.ngDisabled,(function(t){e.disabled=t,p.refreshView()}))),e.isActive=function(t){return 0===p.compare(t.date,p.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(t){h=function(t){var n;if(angular.version.minor<6)(n=t.$options||e.datepickerOptions.ngModelOptions||l.ngModelOptions||{}).getOption=function(e){return n[e]};else{var a=t.$options.getOption("timezone")||(e.datepickerOptions.ngModelOptions?e.datepickerOptions.ngModelOptions.timezone:null)||(l.ngModelOptions?l.ngModelOptions.timezone:null);n=t.$options.createChild(l.ngModelOptions).createChild(e.datepickerOptions.ngModelOptions).createChild(t.$options).createChild({timezone:a})}return n}(f=t),e.datepickerOptions.initDate?(p.activeDate=u.fromTimezone(e.datepickerOptions.initDate,h.getOption("timezone"))||new Date,e.$watch("datepickerOptions.initDate",(function(e){e&&(f.$isEmpty(f.$modelValue)||f.$invalid)&&(p.activeDate=u.fromTimezone(e,h.getOption("timezone")),p.refreshView())}))):p.activeDate=new Date;var n=f.$modelValue?new Date(f.$modelValue):new Date;this.activeDate=isNaN(n)?u.fromTimezone(new Date,h.getOption("timezone")):u.fromTimezone(n,h.getOption("timezone")),f.$render=function(){p.render()}},this.render=function(){if(f.$viewValue){var e=new Date(f.$viewValue);!isNaN(e)?this.activeDate=u.fromTimezone(e,h.getOption("timezone")):d||r.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=f.$viewValue?new Date(f.$viewValue):null;t=u.fromTimezone(t,h.getOption("timezone")),f.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,n){var a=f.$viewValue?new Date(f.$viewValue):null;a=u.fromTimezone(a,h.getOption("timezone"));var i=new Date;i=u.fromTimezone(i,h.getOption("timezone"));var s=this.compare(t,i),r={date:t,label:u.filter(t,n),selected:a&&0===this.compare(t,a),disabled:this.isDisabled(t),past:s<0,current:0===s,future:s>0,customClass:this.customClass(t)||null};return a&&0===this.compare(t,a)&&(e.selectedDt=r),p.activeDate&&0===this.compare(r.date,p.activeDate)&&(e.activeDt=r),r},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===p.minMode){var n=f.$viewValue?u.fromTimezone(new Date(f.$viewValue),h.getOption("timezone")):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=u.toTimezone(n,h.getOption("timezone")),f.$setViewValue(n),f.$render()}else p.activeDate=t,m(p.modes[p.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode");e.$broadcast("uib:datepicker.focus")},e.move=function(e){var t=p.activeDate.getFullYear()+e*(p.step.years||0),n=p.activeDate.getMonth()+e*(p.step.months||0);p.activeDate.setFullYear(t,n,1),p.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===p.maxMode&&1===t||e.datepickerMode===p.minMode&&-1===t||(m(p.modes[p.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};function m(t){e.datepickerMode=t,e.datepickerOptions.datepickerMode=t}e.$on("uib:datepicker.focus",(function(){p.element[0].focus()})),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),p.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(p.isDisabled(p.activeDate))return;e.select(p.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(p.handleKeyDown(n,t),p.refreshView()):e.toggleMode("up"===n?1:-1)},t.on("keydown",(function(t){e.$apply((function(){e.keydown(t)}))})),e.$on("$destroy",(function(){for(;g.length;)g.shift()()}))}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){var a=[31,28,31,30,31,30,31,31,30,31,30,31];function i(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?a[t]:29}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,a=new Array(t),i=new Date(e),s=0;s<t;)n=new Date(i),a[s++]=n,i.setDate(i.getDate()+1);return a},this._refreshView=function(){var t=this.activeDate.getFullYear(),a=this.activeDate.getMonth(),i=new Date(this.activeDate);i.setFullYear(t,a,1);var r=this.startingDay-i.getDay(),o=r>0?7-r:-r,l=new Date(i);o>0&&l.setDate(1-o);for(var c=this.getDates(l,42),d=0;d<42;d++)c[d]=angular.extend(this.createDateObject(c[d],this.formatDay),{secondary:c[d].getMonth()!==a,uid:e.uniqueId+"-"+d});e.labels=new Array(7);for(var u=0;u<7;u++)e.labels[u]={abbr:n(c[u].date,this.formatDayHeader),full:n(c[u].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(c,7),e.showWeeks){e.weekNumbers=[];for(var p=(11-this.startingDay)%7,f=e.rows.length,h=0;h<f;h++)e.weekNumbers.push(s(e.rows[h][p].date))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),a.setFullYear(t.getFullYear()),n-a},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var a=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(a,1),n=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=i(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,a=new Array(12),i=this.activeDate.getFullYear(),s=0;s<12;s++)(t=new Date(this.activeDate)).setFullYear(i,s,1),a[s]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+s});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(a,this.monthColumns),e.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),a=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),a.setFullYear(t.getFullYear()),n-a},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=this.monthColumns;else if("right"===e)n+=1;else if("down"===e)n+=this.monthColumns;else if("pageup"===e||"pagedown"===e){var a=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(a)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){var a,i;function s(e){return parseInt((e-1)/i,10)*i+1}this.element=t,this.yearpickerInit=function(){a=this.yearColumns,i=this.yearRows*a,this.step={years:i}},this._refreshView=function(){for(var t,n=new Array(i),r=0,o=s(this.activeDate.getFullYear());r<i;r++)(t=new Date(this.activeDate)).setFullYear(o+r,0,1),n[r]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+r});e.title=[n[0].label,n[i-1].label].join(" - "),e.rows=this.split(n,a),e.columns=a},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=a:"right"===e?n+=1:"down"===e?n+=a:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*i:"home"===e?n=s(this.activeDate.getFullYear()):"end"===e&&(n=s(this.activeDate.getFullYear())+i-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",(function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,a){var i=a[0],s=a[1];i.init(s)}}})).directive("uibDaypicker",(function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(e,t,n,a){var i=a[0];a[1].init(i)}}})).directive("uibMonthpicker",(function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(e,t,n,a){var i=a[0];a[1].init(i)}}})).directive("uibYearpicker",(function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(e,t,n,a){var i=a[0];angular.extend(i,a[1]),i.yearpickerInit(),i.refreshView()}}})),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,a,i={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},s={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},r=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){var a,i=(n=this.getRawNode(n)).offsetParent||e[0].documentElement;for(;i&&i!==e[0].documentElement&&(a=i,"static"===(t.getComputedStyle(a).position||"static"));)i=i.offsetParent;return i||e[0].documentElement},scrollbarWidth:function(i){if(i){if(angular.isUndefined(a)){var s=e.find("body");s.addClass("uib-position-body-scrollbar-measure"),a=t.innerWidth-s[0].clientWidth,a=isFinite(a)?a:0,s.removeClass("uib-position-body-scrollbar-measure")}return a}if(angular.isUndefined(n)){var r=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(r),n=r[0].offsetWidth-r[0].clientWidth,n=isFinite(n)?n:0,r.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),a=this.parseStyle(n.paddingRight),i=this.parseStyle(n.paddingBottom),s=this.scrollParent(e,!1,!0),o=this.scrollbarWidth(r.test(s.tagName));return{scrollbarWidth:o,widthOverflow:s.scrollWidth>s.clientWidth,right:a+o,originalRight:a,heightOverflow:s.scrollHeight>s.clientHeight,bottom:i+o,originalBottom:i}},isScrollable:function(e,n){e=this.getRawNode(e);var a=n?i.hidden:i.normal,s=t.getComputedStyle(e);return a.test(s.overflow+s.overflowY+s.overflowX)},scrollParent:function(n,a,s){n=this.getRawNode(n);var r=a?i.hidden:i.normal,o=e[0].documentElement,l=t.getComputedStyle(n);if(s&&r.test(l.overflow+l.overflowY+l.overflowX))return n;var c="absolute"===l.position,d=n.parentElement||o;if(d===o||"fixed"===l.position)return o;for(;d.parentElement&&d!==o;){var u=t.getComputedStyle(d);if(c&&"static"!==u.position&&(c=!1),!c&&r.test(u.overflow+u.overflowY+u.overflowX))break;d=d.parentElement}return d},position:function(n,a){n=this.getRawNode(n);var i=this.offset(n);if(a){var s=t.getComputedStyle(n);i.top-=this.parseStyle(s.marginTop),i.left-=this.parseStyle(s.marginLeft)}var r=this.offsetParent(n),o={top:0,left:0};return r!==e[0].documentElement&&((o=this.offset(r)).top+=r.clientTop-r.scrollTop,o.left+=r.clientLeft-r.scrollLeft),{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top-o.top),left:Math.round(i.left-o.left)}},offset:function(n,a){var i=(n=this.getRawNode(n)).getBoundingClientRect(),s={width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(i.left+(t.pageXOffset||e[0].documentElement.scrollLeft))};if(a){var r=window.getComputedStyle(n),o=this.parseStyle(r.marginTop)+this.parseStyle(r.marginBottom),l=this.parseStyle(r.marginLeft)+this.parseStyle(r.marginRight);s.height+=o,s.width+=l}return s},viewportOffset:function(n,a,i){i=!1!==i;var s=(n=this.getRawNode(n)).getBoundingClientRect(),r={top:0,left:0,bottom:0,right:0},o=a?e[0].documentElement:this.scrollParent(n),l=o.getBoundingClientRect();if(r.top=l.top+o.clientTop,r.left=l.left+o.clientLeft,o===e[0].documentElement&&(r.top+=t.pageYOffset,r.left+=t.pageXOffset),r.bottom=r.top+o.clientHeight,r.right=r.left+o.clientWidth,i){var c=t.getComputedStyle(o);r.top+=this.parseStyle(c.paddingTop),r.bottom-=this.parseStyle(c.paddingBottom),r.left+=this.parseStyle(c.paddingLeft),r.right-=this.parseStyle(c.paddingRight)}return{top:Math.round(s.top-r.top),bottom:Math.round(r.bottom-s.bottom),left:Math.round(s.left-r.left),right:Math.round(r.right-s.right)}},parsePlacement:function(e){var t=s.auto.test(e);return t&&(e=e.replace(s.auto,"")),(e=e.split("-"))[0]=e[0]||"top",s.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",s.secondary.test(e[1])||(e[1]="center"),e[2]=!!t,e},positionElements:function(e,n,a,i,r){e=this.getRawNode(e),n=this.getRawNode(n);var o=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),l=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");if(r){var c=window.getComputedStyle(n);l+=this.parseStyle(c.marginTop)+this.parseStyle(c.marginBottom),o+=this.parseStyle(c.marginLeft)+this.parseStyle(c.marginRight)}a=this.parsePlacement(a);var d=i?this.offset(e):this.position(e),u={top:0,left:0,placement:""};if(a[2]){var p=this.viewportOffset(e,i),f=t.getComputedStyle(n),h={width:o+Math.round(Math.abs(this.parseStyle(f.marginLeft)+this.parseStyle(f.marginRight))),height:l+Math.round(Math.abs(this.parseStyle(f.marginTop)+this.parseStyle(f.marginBottom)))};if(a[0]="top"===a[0]&&h.height>p.top&&h.height<=p.bottom?"bottom":"bottom"===a[0]&&h.height>p.bottom&&h.height<=p.top?"top":"left"===a[0]&&h.width>p.left&&h.width<=p.right?"right":"right"===a[0]&&h.width>p.right&&h.width<=p.left?"left":a[0],a[1]="top"===a[1]&&h.height-d.height>p.bottom&&h.height-d.height<=p.top?"bottom":"bottom"===a[1]&&h.height-d.height>p.top&&h.height-d.height<=p.bottom?"top":"left"===a[1]&&h.width-d.width>p.right&&h.width-d.width<=p.left?"right":"right"===a[1]&&h.width-d.width>p.left&&h.width-d.width<=p.right?"left":a[1],"center"===a[1])if(s.vertical.test(a[0])){var g=d.width/2-o/2;p.left+g<0&&h.width-d.width<=p.right?a[1]="left":p.right+g<0&&h.width-d.width<=p.left&&(a[1]="right")}else{var m=d.height/2-h.height/2;p.top+m<0&&h.height-d.height<=p.bottom?a[1]="top":p.bottom+m<0&&h.height-d.height<=p.top&&(a[1]="bottom")}}switch(a[0]){case"top":u.top=d.top-l;break;case"bottom":u.top=d.top+d.height;break;case"left":u.left=d.left-o;break;case"right":u.left=d.left+d.width}switch(a[1]){case"top":u.top=d.top;break;case"bottom":u.top=d.top+d.height-l;break;case"left":u.left=d.left;break;case"right":u.left=d.left+d.width-o;break;case"center":s.vertical.test(a[0])?u.left=d.left+d.width/2-o/2:u.top=d.top+d.height/2-l/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===a[1]?a[0]:a[0]+"-"+a[1],u},adjustTop:function(e,t,n,a){if(-1!==e.indexOf("top")&&n!==a)return{top:t.top-a+"px"}},positionArrow:function(e,n){var a=!0,i=(e=this.getRawNode(e)).querySelector(".tooltip-inner");if(!i){if(!angular.element(e).hasClass("popover"))return;a=!1}var r=e.querySelector(".arrow");if(r){var o={top:"",bottom:"",left:"",right:""};if("center"===(n=this.parsePlacement(n))[1]){var l=this.offset(r,!0);if(s.vertical.test(n[0])){var c=l.width/2,d=this.offset(e).width/2-c;o.left=d+"px"}else{var u=l.height/2,p=this.offset(e).height/2-u;o.top=p+"px"}}var f="border-"+n[0]+"-width",h=(t.getComputedStyle(r)[f],"border-");s.vertical.test(n[0])?h+=n[0]+"-"+n[1]:h+=n[1]+"-"+n[0],h+="-radius";var g=t.getComputedStyle(a?i:e)[h];if(a)switch(n[0]){case"top":o.bottom="0";break;case"bottom":o.top="0";break;case"left":o.right="0";break;case"right":o.left="0"}o[n[1]]=g,angular.element(r).css(o)}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(e,t,n,a,i,s,r,o,l,c,d,u,p,f,h,g){var m,v,b,w,y,_,x,$,k,S,C,A,T,M=!1,P=[];function E(t){var n=u.parse(t,m,e.date);if(isNaN(n))for(var a=0;a<T.length;a++)if(n=u.parse(t,T[a],e.date),!isNaN(n))return n;return n}function D(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=E(e);if(!isNaN(t))return u.toTimezone(t,C.getOption("timezone"))}return C.getOption("allowInvalid")?e:void 0}function O(e,t){var a=e||t;return!n.ngRequired&&!a||(angular.isNumber(a)&&(a=new Date(a)),!a||(!(!angular.isDate(a)||isNaN(a))||!!angular.isString(a)&&!isNaN(E(a))))}function R(n){if(e.isOpen||!e.disabled){var a=A[0],i=t[0].contains(n.target),s=void 0!==a.contains&&a.contains(n.target);!e.isOpen||i||s||e.$apply((function(){e.isOpen=!1}))}}function L(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply((function(){e.isOpen=!1})),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply((function(){e.isOpen=!0})))}function I(){if(e.isOpen){var a=angular.element(A[0].querySelector(".uib-datepicker-popup")),i=n.popupPlacement?n.popupPlacement:p.placement,s=c.positionElements(t,a,i,b);a.css({top:s.top+"px",left:s.left+"px"}),a.hasClass("uib-position-measure")&&a.removeClass("uib-position-measure")}}this.init=function(i){if(C=function(e){var t;angular.version.minor<6?(t=angular.isObject(e.$options)?e.$options:{timezone:null}).getOption=function(e){return t[e]}:t=e.$options;return t}(S=i),v=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):p.closeOnDateSelection,b=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):p.appendToBody,w=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):p.onOpenFocus,y=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:p.datepickerPopupTemplateUrl,_=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:p.datepickerTemplateUrl,T=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):p.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):p.showButtonBar,p.html5Types[n.type]?(m=p.html5Types[n.type],M=!0):(m=n.uibDatepickerPopup||p.datepickerPopup,n.$observe("uibDatepickerPopup",(function(e,t){var n=e||p.datepickerPopup;if(n!==m&&(m=n,S.$modelValue=null,!m))throw new Error("uibDatepickerPopup must have a date format specified.")}))),!m)throw new Error("uibDatepickerPopup must have a date format specified.");if(M&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");(x=angular.element("<div uib-datepicker-popup-wrap data-ng-class=\"{'show': isOpen}\"><div uib-datepicker></div></div>")).attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":y}),($=angular.element(x.children()[0])).attr("template-url",_),e.datepickerOptions||(e.datepickerOptions={}),M&&"month"===n.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),$.attr("datepicker-options","datepickerOptions"),M?S.$formatters.push((function(t){return e.date=u.fromTimezone(t,C.getOption("timezone")),t})):(S.$$parserName="date",S.$validators.date=O,S.$parsers.unshift(D),S.$formatters.push((function(t){return S.$isEmpty(t)?(e.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),e.date=u.fromTimezone(t,C.getOption("timezone")),u.filter(e.date,m))}))),S.$viewChangeListeners.push((function(){e.date=E(S.$viewValue)})),t.on("keydown",L),A=a(x)(e),x.remove(),b?o.find("body").append(A):t.after(A),e.$on("$destroy",(function(){for(!0===e.isOpen&&(l.$$phase||e.$apply((function(){e.isOpen=!1}))),A.remove(),t.off("keydown",L),o.off("click",R),k&&k.off("scroll",I),angular.element(r).off("resize",I);P.length;)P.shift()()}))},e.getText=function(t){return e[t+"Text"]||p[t+"Text"]},e.isDisabled=function(t){"today"===t&&(t=u.fromTimezone(new Date,C.getOption("timezone")));var n={};return angular.forEach(["minDate","maxDate"],(function(t){e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?n[t]=new Date(e.datepickerOptions[t]):(g&&i.warn("Literal date support has been deprecated, please switch to date object usage"),n[t]=new Date(d(e.datepickerOptions[t],"medium"))):n[t]=null})),e.datepickerOptions&&n.minDate&&e.compare(t,n.minDate)<0||n.maxDate&&e.compare(t,n.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){e.date=n;var a=e.date?u.filter(e.date,m):null;t.val(a),S.$setViewValue(a),v&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,n){if(n.stopPropagation(),"today"===t){var a=new Date;angular.isDate(e.date)?(t=new Date(e.date)).setFullYear(a.getFullYear(),a.getMonth(),a.getDate()):(t=u.fromTimezone(a,C.getOption("timezone"))).setHours(0,0,0,0)}e.dateSelection(t)},e.close=function(n){n.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&P.push(e.$parent.$watch(s(n.ngDisabled),(function(t){e.disabled=t}))),e.$watch("isOpen",(function(a){a?e.disabled?e.isOpen=!1:f((function(){I(),w&&e.$broadcast("uib:datepicker.focus"),o.on("click",R);var a=n.popupPlacement?n.popupPlacement:p.placement;b||c.parsePlacement(a)[2]?(k=k||angular.element(c.scrollParent(t)))&&k.on("scroll",I):k=null,angular.element(r).on("resize",I)}),0,!1):(o.off("click",R),k&&k.off("scroll",I),angular.element(r).off("resize",I))})),e.$on("uib:datepicker.mode",(function(){f(I,0,!1)}))}]).directive("uibDatepickerPopup",(function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,a){var i=a[0];a[1].init(i)}}})).directive("uibDatepickerPopupWrap",(function(){return{restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}})),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){return function(t,n){var a;return function(){var i=this,s=Array.prototype.slice.call(arguments);a&&e.cancel(a),a=e((function(){t.apply(i,s)}),n)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",(function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map((function(t){return{key:t,value:e[t]}}))},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var a=e[t];if(a){var i=a.indexOf(n);-1!==i&&a.splice(i,1),a.length||delete e[t]}}}}}})),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"show"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(e,t,n){var a=null,i=n.createNew();this.isOnlyOpen=function(e,t){var n=i.get(t);if(n&&n.reduce((function(t,n){return n.scope===e?n:t}),{}))return 1===n.length;return!1},this.open=function(t,n,r){if(a||e.on("click",s),a&&a!==t&&(a.isOpen=!1),a=t,r){var o=i.get(r);if(o)-1===o.map((function(e){return e.scope})).indexOf(t)&&i.put(r,{scope:t});else i.put(r,{scope:t})}},this.close=function(t,n,r){if(a===t&&(e.off("click",s),e.off("keydown",this.keybindFilter),a=null),r){var o=i.get(r);if(o){var l=o.reduce((function(e,n){return n.scope===t?n:e}),{});l&&i.remove(r,l)}}};var s=function(e){if(a&&a.isOpen&&!(e&&"disabled"===a.getAutoClose()||e&&3===e.which)){var n=a.getToggleElement();if(!(e&&n&&n[0].contains(e.target))){var i=a.getDropdownElement();e&&"outsideClick"===a.getAutoClose()&&i&&i[0].contains(e.target)||(a.isOpen=!1,t.$$phase||a.$apply())}}};this.keybindFilter=function(e){if(a){var t=a.getDropdownElement(),n=a.getToggleElement(),i=t&&t[0].contains(e.target),r=n&&n[0].contains(e.target);27===e.which?(e.stopPropagation(),a.focusToggleElement(),s()):a.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&a.isOpen&&(i||r)&&(e.preventDefault(),e.stopPropagation(),a.focusDropdownEntry(e.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,a,i,s,r,o,l,c,d){var u,p,f=this,h=e.$new(),g=i.appendToOpenClass,m=i.openClass,v=angular.noop,b=n.onToggle?a(n.onToggle):angular.noop,w=!1,y=l.find("body");function _(){t.append(f.dropdownMenu)}t.addClass("dropdown"),this.init=function(){n.isOpen&&(p=a(n.isOpen),v=p.assign,e.$watch(p,(function(e){h.isOpen=!!e}))),w=angular.isDefined(n.keyboardNav)},this.toggle=function(e){return h.isOpen=arguments.length?!!e:!h.isOpen,angular.isFunction(v)&&v(h,h.isOpen),h.isOpen},this.isOpen=function(){return h.isOpen},h.getToggleElement=function(){return f.toggleElement},h.getAutoClose=function(){return n.autoClose||"always"},h.getElement=function(){return t},h.isKeynavEnabled=function(){return w},h.focusDropdownEntry=function(e){var n=f.dropdownMenu?angular.element(f.dropdownMenu).find(".dropdown-item"):t.find("div").eq(0).find("a.");switch(e){case 40:angular.isNumber(f.selectedOption)?f.selectedOption=f.selectedOption===n.length-1?f.selectedOption:f.selectedOption+1:f.selectedOption=0;break;case 38:angular.isNumber(f.selectedOption)?f.selectedOption=0===f.selectedOption?0:f.selectedOption-1:f.selectedOption=n.length-1}n[f.selectedOption].focus()},h.getDropdownElement=function(){return f.dropdownMenu},h.focusToggleElement=function(){f.toggleElement&&f.toggleElement[0].focus()},h.$watch("isOpen",(function(i,p){var w=null,x=!1;if(angular.isDefined(n.dropdownAppendTo)){var $=a(n.dropdownAppendTo)(h);$&&(w=angular.element($))}angular.isDefined(n.dropdownAppendToBody)&&(!1!==a(n.dropdownAppendToBody)(h)&&(x=!0));if(x&&!w&&(w=y),w&&f.dropdownMenu&&(i?(w.append(f.dropdownMenu),t.on("$destroy",_)):(t.off("$destroy",_),_())),w&&f.dropdownMenu){var k,S,C,A=o.positionElements(t,f.dropdownMenu,"bottom-left",!0),T=0;if(k={top:A.top+"px",display:i?"block":"none"},(S=f.dropdownMenu.hasClass("dropdown-menu-right"))?(k.left="auto",(C=o.scrollbarPadding(w)).heightOverflow&&C.scrollbarWidth&&(T=C.scrollbarWidth),k.right=window.innerWidth-T-(A.left+t.prop("offsetWidth"))+"px"):(k.left=A.left+"px",k.right="auto"),!x){var M=o.offset(w);k.top=A.top-M.top+"px",S?k.right=window.innerWidth-(A.left-M.left+t.prop("offsetWidth"))+"px":k.left=A.left-M.left+"px"}f.dropdownMenu.css(k)}var P,E=w||angular.element(t[0].querySelector("[uib-dropdown-menu]")),D=w?g:m,O=E.hasClass(D),R=s.isOnlyOpen(e,w);O===!i&&(r[P=w?R?"removeClass":"addClass":i?"addClass":"removeClass"](t,D),r[P](E,D).then((function(){angular.isDefined(i)&&i!==p&&b(e,{open:!!i})})));if(i)f.dropdownMenuTemplateUrl?d(f.dropdownMenuTemplateUrl).then((function(e){u=h.$new(),c(e.trim())(u,(function(e){var t=e;f.dropdownMenu.replaceWith(t),f.dropdownMenu=t,r.addClass(f.dropdownMenu,D),l.on("keydown",s.keybindFilter)}))})):l.on("keydown",s.keybindFilter),h.focusToggleElement(),s.open(h,t,w);else{if(s.close(h,t,w),f.dropdownMenuTemplateUrl){u&&u.$destroy();var L=angular.element('<div class="dropdown-menu"></div>');f.dropdownMenu.replaceWith(L),f.dropdownMenu=L}f.selectedOption=null}angular.isFunction(v)&&v(e,i)}))}]).directive("uibDropdown",(function(){return{controller:"UibDropdownController",link:function(e,t,n,a){a.init()}}})).directive("uibDropdownMenu",(function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,a){if(a&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var i=n.templateUrl;i&&(a.dropdownMenuTemplateUrl=i),a.dropdownMenu||(a.dropdownMenu=t)}}}})).directive("uibDropdownToggle",(function(){return{require:"?^uibDropdown",link:function(e,t,n,a){if(a){t.addClass("dropdown-toggle"),a.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply((function(){a.toggle()}))};t.on("click",i);var s=function(i){40!==i.which||a.isOpen()||(i.preventDefault(),i.stopPropagation(),t.hasClass("disabled")||n.disabled||e.$apply((function(){a.toggle()})))};t.on("keydown",s),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(a.isOpen,(function(e){t.attr("aria-expanded",!!e)})),e.$on("$destroy",(function(){t.off("click",i),t.off("keydown",s)}))}}}})),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",(function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,a=0;a<e.length;a++)if(t===e[a].key){n=a;break}return e.splice(n,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}})),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",(function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var a=e.resolver?t.get(e.resolver):null;return{resolve:function(e,i,s,r){if(a)return a.resolve(e,i,s,r);var o=[];return angular.forEach(e,(function(e){angular.isFunction(e)||angular.isArray(e)?o.push(n.resolve(t.invoke(e))):angular.isString(e)?o.push(n.resolve(t.get(e))):o.push(n.resolve(e))})),n.all(o).then((function(t){var n={},a=0;return angular.forEach(e,(function(e,i){n[i]=t[a++]})),n}))}}}]})).directive("uibModalBackdrop",["$uibModalStack","$q","$animate",function(e,t,n){return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),a}};function a(a,i,s){var r=t.defer();a.$$postDigest((function(){r.resolve()})),r.promise.then((function(){s.modalInClass&&n.addClass(i,s.modalInClass)})),s.modalInClass&&a.$on(e.NOW_CLOSING_EVENT,(function(e,t){var r=t();a.modalOptions.animation?n.removeClass(i,s.modalInClass).then(r):r()}))}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,a){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(i,s,r){s.addClass(r.windowTopClass||""),i.size=r.size,i.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},s.on("click",i.close),i.$isRendered=!0;var o=t.defer();i.$$postDigest((function(){o.resolve()})),o.promise.then((function(){var o=null;r.modalInClass&&(o=n(s,{addClass:r.modalInClass}).start(),i.$on(e.NOW_CLOSING_EVENT,(function(e,t){var a=t();n(s,{removeClass:r.modalInClass}).start().then(a)}))),t.when(o).then((function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!a[0].activeElement||!s[0].contains(a[0].activeElement)){var n=s[0].querySelector("[autofocus]");n?n.focus():s[0].focus()}}))}))}}}]).directive("uibModalAnimationClass",(function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}})).directive("uibModalTransclude",["$animate",function(e){return{link:function(t,n,a,i,s){s(t.$parent,(function(t){n.empty(),e.enter(t,n)}))}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,a,i,s,r,o,l){var c,d,u,p="modal-open",f=o.createNew(),h=r.createNew(),g={NOW_CLOSING_EVENT:"modal.stack.now-closing"},m=0,v=null,b="data-bootstrap-modal-aria-hidden-count",w=/[A-Z]/g;function y(){for(var e=-1,t=f.keys(),n=0;n<t.length;n++)f.get(t[n]).value.backdrop&&(e=n);return e>-1&&e<m&&(e=m),e}function _(e,t){var n=f.get(e).value,a=n.appendTo;f.remove(e),(v=f.top())&&(m=parseInt(v.value.modalDomEl.attr("index"),10)),$(n.modalDomEl,n.modalScope,(function(){var t=n.openedClass||p;h.remove(t,e);var i=h.hasKey(t);a.toggleClass(t,i),!i&&u&&u.heightOverflow&&u.scrollbarWidth&&(u.originalRight?a.css({paddingRight:u.originalRight+"px"}):a.css({paddingRight:""}),u=null),x(!0)}),n.closedDeferred),function(){if(c&&-1===y()){$(c,d,(function(){null})),c=void 0,d=void 0}}(),t&&t.focus?t.focus():a.focus&&a.focus()}function x(e){var t;f.length()>0&&(t=f.top().value).modalDomEl.toggleClass(t.windowTopClass||"",e)}function $(t,n,a,i){var r,o=null;return n.$broadcast(g.NOW_CLOSING_EVENT,(function(){return r||(r=s.defer(),o=r.promise),function(){r.resolve()}})),s.when(o).then((function s(){if(s.done)return;s.done=!0,e.leave(t).then((function(){a&&a(),t.remove(),i&&i.resolve()})),n.$destroy()}))}function k(e){if(e.isDefaultPrevented())return e;var t=f.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),i.$apply((function(){g.dismiss(t.key,"escape key press")})));break;case 9:var n=g.loadFocusElementList(t),a=!1;e.shiftKey?(g.isFocusInFirstItem(e,n)||g.isModalFocused(e,t))&&(a=g.focusLastFocusableElement(n)):g.isFocusInLastItem(e,n)&&(a=g.focusFirstFocusableElement(n)),a&&(e.preventDefault(),e.stopPropagation())}}function S(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}function C(){Array.prototype.forEach.call(document.querySelectorAll("["+b+"]"),(function(e){var t=parseInt(e.getAttribute(b),10)-1;e.setAttribute(b,t),t||(e.removeAttribute(b),e.removeAttribute("aria-hidden"))}))}return i.$watch(y,(function(e){d&&(d.index=e)})),n.on("keydown",k),i.$on("$destroy",(function(){n.off("keydown",k)})),g.open=function(t,s){var r=n[0].activeElement,o=s.openedClass||p;x(!1),v=f.top(),f.add(t,{deferred:s.deferred,renderDeferred:s.renderDeferred,closedDeferred:s.closedDeferred,modalScope:s.scope,backdrop:s.backdrop,keyboard:s.keyboard,openedClass:s.openedClass,windowTopClass:s.windowTopClass,animation:s.animation,appendTo:s.appendTo}),h.put(o,t);var g,_=s.appendTo,$=y();$>=0&&!c&&((d=i.$new(!0)).modalOptions=s,d.index=$,(c=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>')).attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"show"}),s.backdropClass&&c.addClass(s.backdropClass),s.animation&&c.attr("modal-animation","true"),e.enter(a(c)(d),_),(u=l.scrollbarPadding(_)).heightOverflow&&u.scrollbarWidth&&_.css({paddingRight:u.right+"px"})),s.component?(g=document.createElement(s.component.name.replace(w,(function(e,t){return(t?"-":"")+e.toLowerCase()}))),(g=angular.element(g)).attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):g=s.content,m=v?parseInt(v.value.modalDomEl.attr("index"),10)+1:0;var k=angular.element('<div uib-modal-window="modal-window"></div>');k.attr({class:"modal","template-url":s.windowTemplateUrl,"window-top-class":s.windowTopClass,role:"dialog","aria-labelledby":s.ariaLabelledBy,"aria-describedby":s.ariaDescribedBy,size:s.size,index:m,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"show"}).append(g),s.windowClass&&k.addClass(s.windowClass),s.animation&&k.attr("modal-animation","true"),_.addClass(o),s.scope&&(s.scope.$$topModalIndex=m),e.enter(a(k)(s.scope),_),f.top().value.modalDomEl=k,f.top().value.modalOpener=r,function e(t){if(!t||"BODY"===t[0].tagName)return;return function(e){var t=e.parent()?e.parent().children():[];return Array.prototype.filter.call(t,(function(t){return t!==e[0]}))}(t).forEach((function(e){var t="true"===e.getAttribute("aria-hidden"),n=parseInt(e.getAttribute(b),10);n||(n=t?1:0),e.setAttribute(b,n+1),e.setAttribute("aria-hidden","true")})),e(t.parent())}(k)},g.close=function(e,t){var n=f.get(e);return C(),n&&S(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),_(e,n.value.modalOpener),!0):!n},g.dismiss=function(e,t){var n=f.get(e);return C(),n&&S(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),_(e,n.value.modalOpener),!0):!n},g.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},g.getTop=function(){return f.top()},g.modalRendered=function(e){var t=f.get(e);t&&t.value.renderDeferred.resolve()},g.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},g.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},g.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},g.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},g.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},g.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");return n?Array.prototype.filter.call(n,(function(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}(e)})):n}}},g}]).provider("$uibModal",(function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,a,i,s,r,o){var l={};var c=null;return l.getPromiseChain=function(){return c},l.open=function(l){var d,u,p,f=n.defer(),h=n.defer(),g=n.defer(),m=n.defer(),v={result:f.promise,opened:h.promise,closed:g.promise,rendered:m.promise,close:function(e){return o.close(v,e)},dismiss:function(e){return o.dismiss(v,e)}};if((l=angular.extend({},e.options,l)).resolve=l.resolve||{},l.appendTo=l.appendTo||a.find("body").eq(0),!l.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!l.component&&!l.template&&!l.templateUrl)throw new Error("One of component or template or templateUrl options is required.");function b(){return d}return d=l.component?n.when(r.resolve(l.resolve,{},null,null)):n.all([(u=l,u.template?n.when(u.template):i(angular.isFunction(u.templateUrl)?u.templateUrl():u.templateUrl)),r.resolve(l.resolve,{},null,null)]),p=c=n.all([c]).then(b,b).then((function(e){var n=l.scope||t,a=n.$new();a.$close=v.close,a.$dismiss=v.dismiss,a.$on("$destroy",(function(){a.$$uibDestructionScheduled||a.$dismiss("$uibUnscheduledDestruction")}));var i,r,c={scope:a,deferred:f,renderDeferred:m,closedDeferred:g,animation:l.animation,backdrop:l.backdrop,keyboard:l.keyboard,backdropClass:l.backdropClass,windowTopClass:l.windowTopClass,windowClass:l.windowClass,windowTemplateUrl:l.windowTemplateUrl,ariaLabelledBy:l.ariaLabelledBy,ariaDescribedBy:l.ariaDescribedBy,size:l.size,openedClass:l.openedClass,appendTo:l.appendTo},d={},u={};function p(t,n,i,s){t.$scope=a,t.$scope.$resolve={},i?t.$scope.$uibModalInstance=v:t.$uibModalInstance=v;var r=n?e[1]:e;angular.forEach(r,(function(e,n){s&&(t[n]=e),t.$scope.$resolve[n]=e}))}l.component?(p(d,!1,!0,!1),d.name=l.component,c.component=d):l.controller&&(p(u,!0,!1,!0),r=s(l.controller,u,!0,l.controllerAs),l.controllerAs&&l.bindToController&&((i=r.instance).$close=a.$close,i.$dismiss=a.$dismiss,angular.extend(i,{$resolve:u.$scope.$resolve},n)),i=r(),angular.isFunction(i.$onInit)&&i.$onInit()),l.component||(c.content=e[0]),o.open(v,c),h.resolve(!0)}),(function(e){h.reject(e),f.reject(e)})).finally((function(){c===p&&(c=null)})),v},l}]};return e})),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,n,a){t.setNumPages=a.numPages?e(a.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(e,i){t.ngModelCtrl=e,t.config=i,e.$render=function(){t.render()},a.itemsPerPage?t._watchers.push(n.$parent.$watch(a.itemsPerPage,(function(e){t.itemsPerPage=parseInt(e,10),n.totalPages=t.calculateTotalPages(),t.updatePage()}))):t.itemsPerPage=i.itemsPerPage,n.$watch("totalItems",(function(e,a){(angular.isDefined(e)||e!==a)&&(n.totalPages=t.calculateTotalPages(),t.updatePage())}))},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(n.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){n.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(e,a){a&&a.preventDefault(),(!n.ngDisabled||!a)&&n.page!==e&&e>0&&e<=n.totalPages&&(a&&a.target&&a.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},n.getText=function(e){return n[e+"Text"]||t.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},t.updatePage=function(){t.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):t.ngModelCtrl.$render()},n.$on("$destroy",(function(){for(;t._watchers.length;)t._watchers.shift()()}))}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,a){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):a.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},link:function(t,n,a,i){n.addClass("pager");var s=i[0],r=i[1];r&&s.init(r,e)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,t,n,a,i){var s=this,r=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):i.maxSize,o=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):i.rotate,l=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):i.forceEllipses,c=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):i.boundaryLinkNumbers,d=angular.isDefined(t.pageLabel)?function(n){return e.$parent.$eval(t.pageLabel,{$page:n})}:angular.identity;function u(e,t,n){return{number:e,text:t,active:n}}e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):i.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):i.directionLinks,t.$set("role","menu"),a.create(this,e,t),t.maxSize&&s._watchers.push(e.$parent.$watch(n(t.maxSize),(function(e){r=parseInt(e,10),s.render()})));var p=this.render;this.render=function(){p(),e.page>0&&e.page<=e.totalPages&&(e.pages=function(e,t){var n=[],a=1,i=t,s=angular.isDefined(r)&&r<t;s&&(o?(i=(a=Math.max(e-Math.floor(r/2),1))+r-1)>t&&(a=(i=t)-r+1):(a=(Math.ceil(e/r)-1)*r+1,i=Math.min(a+r-1,t)));for(var p=a;p<=i;p++){var f=u(p,d(p),p===e);n.push(f)}if(s&&r>0&&(!o||l||c)){if(a>1){if(!c||a>3){var h=u(a-1,"...",!1);n.unshift(h)}if(c){if(3===a){var g=u(2,"2",!1);n.unshift(g)}var m=u(1,"1",!1);n.unshift(m)}}if(i<t){if(!c||i<t-2){var v=u(i+1,"...",!1);n.push(v)}if(c){if(i===t-2){var b=u(t-1,t-1,!1);n.push(b)}var w=u(t,t,!1);n.push(w)}}}return n}(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},link:function(e,n,a,i){n.addClass("pagination");var s=i[0],r=i[1];r&&s.init(r,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",(function(){var e={placement:"top",placementClassPrefix:"bs-tooltip-",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},t={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},n={};this.options=function(e){angular.extend(n,e)},this.setTriggers=function(e){angular.extend(t,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(a,i,s,r,o,l,c,d,u){var p=u.createNew();function f(e){if(27===e.which){var t=p.top();t&&(t.value.close(),t=null)}}return r.on("keyup",f),c.$on("$destroy",(function(){r.off("keyup",f)})),function(a,c,u,f){function h(e){var n=(e||f.trigger||u).split(" "),a=n.map((function(e){return t[e]||e}));return{show:n,hide:a}}f=angular.extend({},e,n,f);var g=a.replace(/[A-Z]/g,(function(e,t){return(t?"-":"")+e.toLowerCase()})),m=l.startSymbol(),v=l.endSymbol(),b="<div "+g+'-popup uib-title="'+m+"title"+v+'" '+(f.useContentExp?'content-exp="contentExp()" ':'content="'+m+"content"+v+'" ')+'origin-scope="origScope" class="uib-position-measure '+c+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ show: isOpen }" ></div>';return{compile:function(e,t){var n=i(b);return function(e,t,i,l){var u,g,m,v,b,w,y,_,x=!!angular.isDefined(f.appendToBody)&&f.appendToBody,$=h(void 0),k=angular.isDefined(i[c+"Enable"]),S=e.$new(!0),C=!1,A=!!angular.isDefined(i[c+"IsOpen"])&&d(i[c+"IsOpen"]),T=!!f.useContentExp&&d(i[a]),M=[],P=function(){u&&u.html()&&(w||(w=s((function(){var e=o.parsePlacement(S.placement),n="center"===e[1]?e[0]:e[0]+"-"+e[1];u.hasClass(e[0])||(u.removeClass(_.split("-")[0]),u.addClass(e[0])),u.hasClass(f.placementClassPrefix+n)||(u.removeClass(f.placementClassPrefix+_),u.addClass(f.placementClassPrefix+n));var a=o.positionElements(t,u,S.placement,x,!0),i=angular.isDefined(u.offsetHeight)?u.offsetHeight:u.prop("offsetHeight"),r=x?o.offset(t):o.position(t);u.css({top:a.top+"px",left:a.left+"px"}),y=s((function(){var t=angular.isDefined(u.offsetHeight)?u.offsetHeight:u.prop("offsetHeight"),n=o.adjustTop(e,r,i,t);n&&u.css(n),y=null}),0,!1),u.hasClass("uib-position-measure")?(o.positionArrow(u,a.placement),u.removeClass("uib-position-measure")):_!==a.placement&&o.positionArrow(u,a.placement),_=a.placement,w=null}),0,!1)))};function E(){S.isOpen?O():D()}function D(){k&&!e.$eval(i[c+"Enable"])||(F(),function(){S.title=i[c+"Title"],S.content=T?T(e):i[a];S.popupClass=i[c+"Class"],S.placement=angular.isDefined(i[c+"Placement"])?i[c+"Placement"]:f.placement;var t=o.parsePlacement(S.placement);_=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(i[c+"PopupDelay"],10),s=parseInt(i[c+"PopupCloseDelay"],10);S.popupDelay=isNaN(n)?f.popupDelay:n,S.popupCloseDelay=isNaN(s)?f.popupCloseDelay:s}(),S.popupDelay?v||(v=s(R,S.popupDelay,!1)):R())}function O(){L(),S.popupCloseDelay?b||(b=s(I,S.popupCloseDelay,!1)):I()}function R(){if(L(),F(),!S.content)return angular.noop;!function(){if(u)return;g=S.$new(),u=n(g,(function(e){x?r.find("body").append(e):t.after(e)})),p.add(S,{close:I}),function(){M.length=0,T?(M.push(e.$watch(T,(function(e){S.content=e,!e&&S.isOpen&&I()}))),M.push(g.$watch((function(){C||(C=!0,g.$$postDigest((function(){C=!1,S&&S.isOpen&&P()})))})))):M.push(i.$observe(a,(function(e){S.content=e,!e&&S.isOpen?I():P()})));M.push(i.$observe(c+"Title",(function(e){S.title=e,S.isOpen&&P()}))),M.push(i.$observe(c+"Placement",(function(e){S.placement=e||f.placement,S.isOpen&&P()})))}()}(),S.$evalAsync((function(){S.isOpen=!0,q(!0),P()}))}function L(){v&&(s.cancel(v),v=null),w&&(s.cancel(w),w=null)}function I(){S&&S.$evalAsync((function(){S&&(S.isOpen=!1,q(!1),S.animation?m||(m=s(U,150,!1)):U())}))}function F(){b&&(s.cancel(b),b=null),m&&(s.cancel(m),m=null)}function U(){L(),F(),M.length&&(angular.forEach(M,(function(e){e()})),M.length=0),u&&(u.remove(),u=null,y&&s.cancel(y)),p.remove(S),g&&(g.$destroy(),g=null)}function q(t){A&&angular.isFunction(A.assign)&&A.assign(e,t)}function z(e){S&&S.isOpen&&u&&(t[0].contains(e.target)||u[0].contains(e.target)||O())}function N(e){27===e.which&&O()}S.origScope=e,S.isOpen=!1,S.contentExp=function(){return S.content},i.$observe("disabled",(function(e){e&&L(),e&&S.isOpen&&I()})),A&&e.$watch(A,(function(e){S&&!e===S.isOpen&&E()}));var j,B,V,H=function(){$.show.forEach((function(e){"outsideClick"===e?t.off("click",E):(t.off(e,D),t.off(e,E)),t.off("keypress",N)})),$.hide.forEach((function(e){"outsideClick"===e?r.off("click",z):t.off(e,O)}))};j=[],B=[],V=e.$eval(i[c+"Trigger"]),H(),angular.isObject(V)?(Object.keys(V).forEach((function(e){j.push(e),B.push(V[e])})),$={show:j,hide:B}):$=h(V),"none"!==$.show&&$.show.forEach((function(e,n){"outsideClick"===e?(t.on("click",E),r.on("click",z)):e===$.hide[n]?t.on(e,E):e&&(t.on(e,D),t.on($.hide[n],O)),t.on("keypress",N)}));var W,G=e.$eval(i[c+"Animation"]);S.animation=angular.isDefined(G)?!!G:f.animation;var Y=c+"AppendToBody";W=Y in i&&void 0===i[Y]||e.$eval(i[Y]),x=angular.isDefined(W)?W:x,e.$on("$destroy",(function(){H(),U(),S=null}))}}}}}]})).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,a){return{link:function(i,s,r){var o,l,c,d=i.$eval(r.tooltipTemplateTranscludeScope),u=0,p=function(){l&&(l.remove(),l=null),o&&(o.$destroy(),o=null),c&&(e.leave(c).then((function(){l=null})),l=c,c=null)};i.$watch(t.parseAsResourceUrl(r.uibTooltipTemplateTransclude),(function(t){var r=++u;t?(a(t,!0).then((function(a){if(r===u){var i=d.$new(),l=n(a)(i,(function(t){p(),e.enter(t,s)}));c=l,(o=i).$emit("$includeContentLoaded",t)}}),(function(){r===u&&(p(),i.$emit("$includeContentError",t))})),i.$emit("$includeContentRequested",t)):p()})),i.$on("$destroy",p)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,a){if(t.placement){var i=e.parsePlacement(t.placement);n.addClass(i[0])}t.popupClass&&n.addClass(t.popupClass),t.animation&&n.addClass(a.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",(function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}})).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",(function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}})).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",(function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}})).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",(function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}})).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{placementClassPrefix:"bs-popover-",useContentExp:!0})}]).directive("uibPopoverHtmlPopup",(function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}})).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{placementClassPrefix:"bs-popover-",useContentExp:!0})}]).directive("uibPopoverPopup",(function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}})).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click",{placementClassPrefix:"bs-popover-"})}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){var a=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;function s(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}this.bars=[],e.max=s(),this.addBar=function(e,t,n){i||t.css({transition:"none"}),this.bars.push(e),e.max=s(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",(function(t){e.recalculatePercentage()})),e.recalculatePercentage=function(){var t=a.bars.reduce((function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent}),0);t>100&&(e.percent-=t-100)},e.$on("$destroy",(function(){t=null,a.removeBar(e)}))},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach((function(e){e.recalculatePercentage()}))},e.$watch("maxParam",(function(e){a.bars.forEach((function(e){e.max=s(),e.recalculatePercentage()}))}))}]).directive("uibProgress",(function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}})).directive("uibBar",(function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@",striped:"=?"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,a){a.addBar(e,t,n)}}})).directive("uibProgressbar",(function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@",striped:"=?"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,a){a.addBar(e,angular.element(t.children()[0]),{title:n.title})}}})),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var a={$setViewValue:angular.noop},i=this;this.init=function(i){(a=i).$render=this.render,a.$formatters.push((function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e})),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff,this.enableReset=angular.isDefined(t.enableReset)?e.$parent.$eval(t.enableReset):n.enableReset;var s=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(s)&&s.length>0?s:n.titles;var r=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(r)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){if(!e.readonly&&t>=0&&t<=e.range.length){var n=i.enableReset&&a.$viewValue===t?0:t;a.$setViewValue(n),a.$render()}},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=a.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=a.$viewValue,e.title=i.getTitle(e.value-1)}}]).directive("uibRating",(function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(e,t,n,a){var i=a[0],s=a[1];i.init(s)}}})),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){var t,n,a=this;function i(e){for(var t=0;t<a.tabs.length;t++)if(a.tabs[t].index===e)return t}a.tabs=[],a.select=function(e,s){if(!n){var r=i(t),o=a.tabs[r];if(o){if(o.tab.onDeselect({$event:s,$selectedIndex:e}),s&&s.isDefaultPrevented())return;o.tab.active=!1}var l=a.tabs[e];l?(l.tab.onSelect({$event:s}),l.tab.active=!0,a.active=l.index,t=l.index):!l&&angular.isDefined(t)&&(a.active=null,t=null)}},a.addTab=function(e){if(a.tabs.push({tab:e,index:e.index}),a.tabs.sort((function(e,t){return e.index>t.index?1:e.index<t.index?-1:0})),e.index===a.active||!angular.isDefined(a.active)&&1===a.tabs.length){var t=i(e.index);a.select(t)}},a.removeTab=function(e){for(var t,n=0;n<a.tabs.length;n++)if(a.tabs[n].tab===e){t=n;break}if(a.tabs[t].index===a.active){var i=t===a.tabs.length-1?t-1:t+1%a.tabs.length;a.select(i)}a.tabs.splice(t,1)},e.$watch("tabset.active",(function(e){angular.isDefined(e)&&e!==t&&a.select(i(e))})),e.$on("$destroy",(function(){n=!0}))}]).directive("uibTabset",(function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}})).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,n,a,i,s){t.disabled=!1,a.disable&&t.$parent.$watch(e(a.disable),(function(e){t.disabled=!!e})),angular.isUndefined(a.index)&&(i.tabs&&i.tabs.length?t.index=Math.max.apply(null,i.tabs.map((function(e){return e.index})))+1:t.index=0),angular.isUndefined(a.classes)&&(t.classes=""),t.select=function(e){if(!t.disabled){for(var n,a=0;a<i.tabs.length;a++)if(i.tabs[a].tab===t){n=a;break}i.select(n,e)}},i.addTab(t),t.$on("$destroy",(function(){i.removeTab(t)})),t.$transcludeFn=s}}}]).directive("uibTabHeadingTransclude",(function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",(function(e){e&&(t.html(""),t.append(e))}))}}})).directive("uibTabContentTransclude",(function(){return{restrict:"A",require:"^uibTabset",link:function(e,t,n){var a=e.$eval(n.uibTabContentTransclude).tab;a.$transcludeFn(a.$parent,(function(e){angular.forEach(e,(function(e){!function(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())}(e)?t.append(e):a.headingElement=e}))}))}}})),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,a,i,s,r){var o,l,c,d=new Date,u=[],p={$setViewValue:angular.noop},f=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):r.meridians||s.DATETIME_FORMATS.AMPMS,h=!angular.isDefined(n.padHours)||e.$parent.$eval(n.padHours);e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,a){(p=t).$render=this.render,p.$formatters.unshift((function(e){return e?new Date(e):null}));var i=a.eq(0),s=a.eq(1),d=a.eq(2);o=i.controller("ngModel"),l=s.controller("ngModel"),c=d.controller("ngModel"),(angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):r.mousewheel)&&this.setupMousewheelEvents(i,s,d),(angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):r.arrowkeys)&&this.setupArrowkeyEvents(i,s,d),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):r.readonlyInput,this.setupInputEvents(i,s,d)};var g=r.hourStep;n.hourStep&&u.push(e.$parent.$watch(a(n.hourStep),(function(e){g=+e})));var m,v,b=r.minuteStep;n.minuteStep&&u.push(e.$parent.$watch(a(n.minuteStep),(function(e){b=+e}))),u.push(e.$parent.$watch(a(n.min),(function(e){var t=new Date(e);m=isNaN(t)?void 0:t}))),u.push(e.$parent.$watch(a(n.max),(function(e){var t=new Date(e);v=isNaN(t)?void 0:t})));var w=!1;n.ngDisabled&&u.push(e.$parent.$watch(a(n.ngDisabled),(function(e){w=e}))),e.noIncrementHours=function(){var e=T(d,60*g);return w||e>v||e<d&&e<m},e.noDecrementHours=function(){var e=T(d,60*-g);return w||e<m||e>d&&e>v},e.noIncrementMinutes=function(){var e=T(d,b);return w||e>v||e<d&&e<m},e.noDecrementMinutes=function(){var e=T(d,-b);return w||e<m||e>d&&e>v},e.noIncrementSeconds=function(){var e=M(d,y);return w||e>v||e<d&&e<m},e.noDecrementSeconds=function(){var e=M(d,-y);return w||e<m||e>d&&e>v},e.noToggleMeridian=function(){return d.getHours()<12?w||T(d,720)>v:w||T(d,-720)<m};var y=r.secondStep;function _(){var t=+e.hours;if((e.showMeridian?t>0&&t<13:t>=0&&t<24)&&""!==e.hours)return e.showMeridian&&(12===t&&(t=0),e.meridian===f[1]&&(t+=12)),t}function x(){var t=+e.minutes;if(t>=0&&t<60&&""!==e.minutes)return t}function $(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function k(e){S(),p.$setViewValue(new Date(d)),C(e)}function S(){o&&o.$setValidity("hours",!0),l&&l.$setValidity("minutes",!0),c&&c.$setValidity("seconds",!0),p.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1,e.invalidSeconds=!1}function C(t){if(p.$modelValue){var n=d.getHours(),a=d.getMinutes(),i=d.getSeconds();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:$(n,!h),"m"!==t&&(e.minutes=$(a)),e.meridian=d.getHours()<12?f[0]:f[1],"s"!==t&&(e.seconds=$(i)),e.meridian=d.getHours()<12?f[0]:f[1]}else e.hours=null,e.minutes=null,e.seconds=null,e.meridian=f[0]}function A(e){d=M(d,e),k()}function T(e,t){return M(e,60*t)}function M(e,t){var n=new Date(e.getTime()+1e3*t),a=new Date(e);return a.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),a}function P(){return(null===e.hours||""===e.hours)&&(null===e.minutes||""===e.minutes)&&(!e.showSeconds||e.showSeconds&&(null===e.seconds||""===e.seconds))}n.secondStep&&u.push(e.$parent.$watch(a(n.secondStep),(function(e){y=+e}))),e.showSeconds=r.showSeconds,n.showSeconds&&u.push(e.$parent.$watch(a(n.showSeconds),(function(t){e.showSeconds=!!t}))),e.showMeridian=r.showMeridian,n.showMeridian&&u.push(e.$parent.$watch(a(n.showMeridian),(function(t){if(e.showMeridian=!!t,p.$error.time){var n=_(),a=x();angular.isDefined(n)&&angular.isDefined(a)&&(d.setHours(n),k())}else C()}))),this.setupMousewheelEvents=function(t,n,a){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.on("mousewheel wheel",(function(t){w||e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()})),n.on("mousewheel wheel",(function(t){w||e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})),a.on("mousewheel wheel",(function(t){w||e.$apply(i(t)?e.incrementSeconds():e.decrementSeconds()),t.preventDefault()}))},this.setupArrowkeyEvents=function(t,n,a){t.on("keydown",(function(t){w||(38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply()))})),n.on("keydown",(function(t){w||(38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply()))})),a.on("keydown",(function(t){w||(38===t.which?(t.preventDefault(),e.incrementSeconds(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementSeconds(),e.$apply()))}))},this.setupInputEvents=function(t,n,a){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void(e.updateSeconds=angular.noop);var i=function(t,n,a){p.$setViewValue(null),p.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t,o&&o.$setValidity("hours",!1)),angular.isDefined(n)&&(e.invalidMinutes=n,l&&l.$setValidity("minutes",!1)),angular.isDefined(a)&&(e.invalidSeconds=a,c&&c.$setValidity("seconds",!1))};e.updateHours=function(){var e=_(),t=x();p.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(d.setHours(e),d.setMinutes(t),d<m||d>v?i(!0):k("h")):i(!0)},t.on("blur",(function(t){p.$setTouched(),P()?S():null===e.hours||""===e.hours?i(!0):!e.invalidHours&&e.hours<10&&e.$apply((function(){e.hours=$(e.hours,!h)}))})),e.updateMinutes=function(){var e=x(),t=_();p.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(d.setHours(t),d.setMinutes(e),d<m||d>v?i(void 0,!0):k("m")):i(void 0,!0)},n.on("blur",(function(t){p.$setTouched(),P()?S():null===e.minutes?i(void 0,!0):!e.invalidMinutes&&e.minutes<10&&e.$apply((function(){e.minutes=$(e.minutes)}))})),e.updateSeconds=function(){var t=function(){var t=+e.seconds;return t>=0&&t<60?t:void 0}();p.$setDirty(),angular.isDefined(t)?(d.setSeconds(t),k("s")):i(void 0,void 0,!0)},a.on("blur",(function(t){P()?S():!e.invalidSeconds&&e.seconds<10&&e.$apply((function(){e.seconds=$(e.seconds)}))}))},this.render=function(){var t=p.$viewValue;isNaN(t)?(p.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(d=t),d<m||d>v?(p.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):S(),C())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):r.showSpinners,e.incrementHours=function(){e.noIncrementHours()||A(60*g*60)},e.decrementHours=function(){e.noDecrementHours()||A(60*-g*60)},e.incrementMinutes=function(){e.noIncrementMinutes()||A(60*b)},e.decrementMinutes=function(){e.noDecrementMinutes()||A(60*-b)},e.incrementSeconds=function(){e.noIncrementSeconds()||A(y)},e.decrementSeconds=function(){e.noDecrementSeconds()||A(-y)},e.toggleMeridian=function(){var t=x(),n=_();e.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(n)?A(720*(d.getHours()<12?60:-60)):e.meridian=e.meridian===f[0]?f[1]:f[0])},e.blur=function(){p.$setTouched()},e.$on("$destroy",(function(){for(;u.length;)u.shift()()}))}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(t,n){return n.templateUrl||e.templateUrl},link:function(e,t,n,a){var i=a[0],s=a[1];s&&i.init(s,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var a=n.match(t);if(!a)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:a[3],source:e(a[4]),viewMapper:e(a[2]||a[1]),modelMapper:e(a[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,n,a,i,s,r,o,l,c,d,u,p){var f,h,g=[9,13,27,38,40],m=e.$eval(n.typeaheadMinLength);m||0===m||(m=1),e.$watch(n.typeaheadMinLength,(function(e){m=e||0===e?e:1}));var v=e.$eval(n.typeaheadWaitMs)||0,b=!1!==e.$eval(n.typeaheadEditable);e.$watch(n.typeaheadEditable,(function(e){b=!1!==e}));var w,y,_=i(n.typeaheadLoading).assign||angular.noop,x=n.typeaheadShouldSelect?i(n.typeaheadShouldSelect):function(e,t){var n=t.$event;return 13===n.which||9===n.which},$=i(n.typeaheadOnSelect),k=!!angular.isDefined(n.typeaheadSelectOnBlur)&&e.$eval(n.typeaheadSelectOnBlur),S=i(n.typeaheadNoResults).assign||angular.noop,C=n.typeaheadInputFormatter?i(n.typeaheadInputFormatter):void 0,A=!!n.typeaheadAppendToBody&&e.$eval(n.typeaheadAppendToBody),T=n.typeaheadAppendTo?e.$eval(n.typeaheadAppendTo):null,M=!1!==e.$eval(n.typeaheadFocusFirst),P=!!n.typeaheadSelectOnExact&&e.$eval(n.typeaheadSelectOnExact),E=i(n.typeaheadIsOpen).assign||angular.noop,D=e.$eval(n.typeaheadShowHint)||!1,O=i(n.ngModel),R=i(n.ngModel+"($$$p)"),L=p.parse(n.uibTypeahead),I=e.$new(),F=e.$on("$destroy",(function(){I.$destroy()}));I.$on("$destroy",F);var U,q,z="typeahead-"+I.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":z}),D&&((U=angular.element("<div></div>")).css("position","relative"),t.after(U),(q=t.clone()).attr("placeholder",""),q.attr("tabindex","-1"),q.val(""),q.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),q.attr("id")&&q.removeAttr("id"),U.append(q),q.after(t));var N=angular.element("<div uib-typeahead-popup></div>");N.attr({id:z,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&N.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&N.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var j=function(){I.matches=[],I.activeIdx=-1,t.attr("aria-expanded",!1),D&&q.val("")},B=function(e){return z+"-option-"+e};I.$watch("activeIdx",(function(e){e<0?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",B(e))}));var V=function(n,a){var i={$viewValue:n};_(e,!0),S(e,!1),s.when(L.source(e,i)).then((function(s){var r=n===f.$viewValue;if(r&&w)if(s&&s.length>0){I.activeIdx=M?0:-1,S(e,!1),I.matches.length=0;for(var o=0;o<s.length;o++)i[L.itemName]=s[o],I.matches.push({id:B(o),label:L.viewMapper(I,i),model:s[o]});if(I.query=n,Y(),t.attr("aria-expanded",!0),P&&1===I.matches.length&&function(e,t){return!!(I.matches.length>t&&e)&&e.toUpperCase()===I.matches[t].label.toUpperCase()}(n,0)&&(angular.isNumber(I.debounceUpdate)||angular.isObject(I.debounceUpdate)?d((function(){I.select(0,a)}),angular.isNumber(I.debounceUpdate)?I.debounceUpdate:I.debounceUpdate.default):I.select(0,a)),D){var l=I.matches[0].label;angular.isString(n)&&n.length>0&&l.slice(0,n.length).toUpperCase()===n.toUpperCase()?q.val(n+l.slice(n.length)):q.val("")}}else j(),S(e,!0);r&&_(e,!1)}),(function(){j(),_(e,!1),S(e,!0)}))};A&&(angular.element(l).on("resize",G),o.find("body").on("scroll",G));var H,W=d((function(){I.matches.length&&Y(),I.moveInProgress=!1}),200);function G(){I.moveInProgress||(I.moveInProgress=!0,I.$digest()),W()}function Y(){I.position=A?u.offset(t):u.position(t),I.position.top+=t.prop("offsetHeight")}I.moveInProgress=!1,I.query=void 0;var K=function(){H&&r.cancel(H)};j(),I.assignIsOpen=function(t){E(e,t)},I.select=function(a,i){var s,o,l={};y=!0,l[L.itemName]=o=I.matches[a].model,s=L.modelMapper(e,l),function(t,n){angular.isFunction(O(e))&&h.getOption("getterSetter")?R(t,{$$$p:n}):O.assign(t,n)}(e,s),f.$setValidity("editable",!0),f.$setValidity("parse",!0),$(e,{$item:o,$model:s,$label:L.viewMapper(e,l),$event:i}),j(),!1!==I.$eval(n.typeaheadFocusOnSelect)&&r((function(){t[0].focus()}),0,!1)},t.on("keydown",(function(t){if(0!==I.matches.length&&-1!==g.indexOf(t.which)){var n,a=x(e,{$event:t});if(-1===I.activeIdx&&a||9===t.which&&t.shiftKey)return j(),void I.$digest();switch(t.preventDefault(),t.which){case 27:t.stopPropagation(),j(),e.$digest();break;case 38:I.activeIdx=(I.activeIdx>0?I.activeIdx:I.matches.length)-1,I.$digest(),(n=N[0].querySelectorAll(".uib-typeahead-match")[I.activeIdx]).parentNode.scrollTop=n.offsetTop;break;case 40:I.activeIdx=(I.activeIdx+1)%I.matches.length,I.$digest(),(n=N[0].querySelectorAll(".uib-typeahead-match")[I.activeIdx]).parentNode.scrollTop=n.offsetTop;break;default:a&&I.$apply((function(){angular.isNumber(I.debounceUpdate)||angular.isObject(I.debounceUpdate)?d((function(){I.select(I.activeIdx,t)}),angular.isNumber(I.debounceUpdate)?I.debounceUpdate:I.debounceUpdate.default):I.select(I.activeIdx,t)}))}}})),t.on("focus",(function(e){w=!0,0!==m||f.$viewValue||r((function(){V(f.$viewValue,e)}),0)})),t.on("blur",(function(e){k&&I.matches.length&&-1!==I.activeIdx&&!y&&(y=!0,I.$apply((function(){angular.isObject(I.debounceUpdate)&&angular.isNumber(I.debounceUpdate.blur)?d((function(){I.select(I.activeIdx,e)}),I.debounceUpdate.blur):I.select(I.activeIdx,e)}))),!b&&f.$error.editable&&(f.$setViewValue(),I.$apply((function(){f.$setValidity("editable",!0),f.$setValidity("parse",!0)})),t.val("")),w=!1,y=!1}));var Q=function(n){t[0]!==n.target&&3!==n.which&&0!==I.matches.length&&(j(),c.$$phase||e.$digest())};o.on("click",Q),e.$on("$destroy",(function(){o.off("click",Q),(A||T)&&X.remove(),A&&(angular.element(l).off("resize",G),o.find("body").off("scroll",G)),N.remove(),D&&U.remove()}));var X=a(N)(I);A?o.find("body").append(X):T?angular.element(T).eq(0).append(X):t.after(X),this.init=function(t){h=function(e){var t;angular.version.minor<6?(t=e.$options||{}).getOption=function(e){return t[e]}:t=e.$options;return t}(f=t),I.debounceUpdate=i(h.getOption("debounce"))(e),f.$parsers.unshift((function(t){return w=!0,0===m||t&&t.length>=m?v>0?(K(),function(e){H=r((function(){V(e)}),v)}(t)):V(t):(_(e,!1),K(),j()),b?t:t?void f.$setValidity("editable",!1):(f.$setValidity("editable",!0),null)})),f.$formatters.push((function(t){var n,a={};return b||f.$setValidity("editable",!0),C?(a.$model=t,C(e,a)):(a[L.itemName]=t,n=L.viewMapper(e,a),a[L.itemName]=void 0,n!==L.viewMapper(e,a)?n:t)}))}}]).directive("uibTypeahead",(function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(e,t,n,a){a[1].init(a[0])}}})).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,n,a){t.templateUrl=a.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(n,a){var i=t.debounce();angular.isNumber(i)||angular.isObject(i)?e((function(){t.select({activeIdx:n,evt:a})}),angular.isNumber(i)?i:i.default):t.select({activeIdx:n,evt:a})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(a,i,s){var r=n(s.templateUrl)(a.$parent)||"uib/template/typeahead/typeahead-match.html";e(r).then((function(e){var n=angular.element(e.trim());i.replaceWith(n),t(n)(a)}))}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){var a;return a=t.has("$sanitize"),function(t,i){return!a&&function(e){return/<.*>/g.test(e)}(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=i?(""+t).replace(new RegExp(i.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):t,a||(t=e.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="card-header" ng-keypress="toggleOpen($event)">\n  <h5 class="mb-0">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::cardId}}" tabindex="0" class="accordion-toggle"  ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h5>\n</div>\n<div id="{{::cardId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabcard" class="card-collapse collapse" uib-collapse="!isOpen">\n  <div class="card-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" ng-transclude></div>\n')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="carousel-control-prev" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n    <span class="carousel-control-prev-icon" aria-hidden="true"></span>\n    <span class="sr-only">Previous</span>\n</a>\n<a role="button" href class="carousel-control-next" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n    <span class="carousel-control-next-icon" aria-hidden="true"></span>\n    <span class="sr-only">Next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th>\n        <button type="button" class="btn btn-secondary btn-sm float-left uib-left" ng-click="move(-1)" tabindex="-1">\n          <i aria-hidden="true" class="fa-svg-icon">\n            <svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1427 301l-531 531 531 531q19 19 19 45t-19 45l-166 166q-19 19-45 19t-45-19l-742-742q-19-19-19-45t19-45l742-742q19-19 45-19t45 19l166 166q19 19 19 45t-19 45z"/></svg>\n          </i>\n          <span class="sr-only">previous</span>\n        </button>\n      </th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-secondary btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th>\n        <button type="button" class="btn btn-secondary btn-sm float-right uib-right" ng-click="move(1)" tabindex="-1">\n          <i aria-hidden="true" class="fa-svg-icon">\n            <svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1363 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45l166-166q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z"/></svg>\n          </i>\n          <span class="sr-only">next</span>\n        </button>\n      </th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-secondary btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th>\n        <button type="button" class="btn btn-secondary btn-sm float-left uib-left" ng-click="move(-1)" tabindex="-1">\n          <i aria-hidden="true" class="fa-svg-icon">\n            <svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1427 301l-531 531 531 531q19 19 19 45t-19 45l-166 166q-19 19-45 19t-45-19l-742-742q-19-19-19-45t19-45l742-742q19-19 45-19t45 19l166 166q19 19 19 45t-19 45z"/></svg>\n          </i>\n          <span class="sr-only">previous</span>\n        </button>\n      </th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-secondary btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th>\n        <button type="button" class="btn btn-secondary btn-sm float-right uib-right" ng-click="move(1)" tabindex="-1">\n          <i aria-hidden="true" class="fa-svg-icon">\n            <svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1363 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45l166-166q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z"/></svg>\n          </i>\n          <span class="sr-only">next</span>\n        </button>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-secondary"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n  <tr>\n    <th>\n      <button type="button" class="btn btn-secondary btn-sm float-left uib-left" ng-click="move(-1)" tabindex="-1">\n        <i aria-hidden="true" class="fa-svg-icon">\n          <svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1427 301l-531 531 531 531q19 19 19 45t-19 45l-166 166q-19 19-45 19t-45-19l-742-742q-19-19-19-45t19-45l742-742q19-19 45-19t45 19l166 166q19 19 19 45t-19 45z"/></svg>\n        </i>\n        <span class="sr-only">previous</span>\n      </button>\n    </th>\n    <th colspan="{{::columns - 2}}">\n      <button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button"\n              class="btn btn-secondary btn-sm uib-title" ng-click="toggleMode()"\n              ng-disabled="datepickerMode === maxMode" tabindex="-1">\n        <strong>{{title}}</strong>\n      </button>\n    </th>\n    <th>\n      <button type="button" class="btn btn-secondary btn-sm float-right uib-right" ng-click="move(1)" tabindex="-1">\n        <i aria-hidden="true" class="fa-svg-icon">\n          <svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1363 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45l166-166q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z"/></svg>\n        </i>\n        <span class="sr-only">next</span>\n      </button>\n    </th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n    <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n      <button type="button" class="btn btn-secondary"\n              uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n              ng-click="select(dt.date)"\n              ng-disabled="::dt.disabled"\n              tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n    </td>\n  </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group float-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success float-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="page-item"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle class="page-link">{{::getText(\'first\')}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="page-item"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle class="page-link">{{::getText(\'previous\')}}</a></li>\n<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="page-item"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle class="page-link">{{page.text}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="page-item"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle class="page-link">{{::getText(\'next\')}}</a></li>\n<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="page-item"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle class="page-link">{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n<h3 class="popover-header" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n<div class="popover-body" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<h3 class="popover-header" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n<div class="popover-body"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n<h3 class="popover-header" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n<div class="popover-body" ng-bind="content"></div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="[type ? \'bg-\' + type : \'\', striped ? \'progress-bar-striped\' : \'\']" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="[type ? \'bg-\' + type : \'\', striped ? \'progress-bar-striped\' : \'\']" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="fa-svg-icon" ng-class="$index < value && (r.stateOn || \'star\') || (r.stateOff || \'star-empty\')" ng-attr-title="{{r.title}}">\n        <svg data-ng-if="$index < value" width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z"/></svg>\n        <svg data-ng-if="$index >= value" width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1201 1004l306-297-422-62-189-382-189 382-422 62 306 297-73 421 378-199 377 199zm527-357q0 22-26 48l-363 354 86 500q1 7 1 20 0 50-41 50-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z"/></svg>\n    </i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li class="uib-tab nav-item">\n  <a href ng-click="select($event)" ng-class="[{active: active, disabled: disabled}, classes]" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours">\n        <a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1">\n          <span class="fa-svg-icon">\n            <svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1683 1331l-166 165q-19 19-45 19t-45-19l-531-531-531 531q-19 19-45 19t-45-19l-166-165q-19-19-19-45.5t19-45.5l742-741q19-19 45-19t45 19l742 741q19 19 19 45.5t-19 45.5z"/></svg>\n          </span>\n        </a>\n      </td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes">\n        <a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1">\n          <span class="fa-svg-icon">\n            <svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1683 1331l-166 165q-19 19-45 19t-45-19l-531-531-531 531q-19 19-45 19t-45-19l-166-165q-19-19-19-45.5t19-45.5l742-741q19-19 45-19t45 19l742 741q19 19 19 45.5t-19 45.5z"/></svg>\n          </span>\n        </a>\n      </td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds">\n        <a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1">\n          <span class="fa-svg-icon">\n            <svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1683 1331l-166 165q-19 19-45 19t-45-19l-531-531-531 531q-19 19-45 19t-45-19l-166-165q-19-19-19-45.5t19-45.5l742-741q19-19 45-19t45 19l742 741q19 19 19 45.5t-19 45.5z"/></svg>\n          </span>\n        </a>\n      </td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-secondary text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours">\n        <a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1">\n          <span class="fa-svg-icon">\n            <svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1683 808l-742 741q-19 19-45 19t-45-19l-742-741q-19-19-19-45.5t19-45.5l166-165q19-19 45-19t45 19l531 531 531-531q19-19 45-19t45 19l166 165q19 19 19 45.5t-19 45.5z"/></svg>\n          </span>\n        </a>\n      </td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes">\n        <a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1">\n          <span class="fa-svg-icon">\n            <svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1683 808l-742 741q-19 19-45 19t-45-19l-742-741q-19-19-19-45.5t19-45.5l166-165q19-19 45-19t45 19l531 531 531-531q19-19 45-19t45 19l166 165q19 19 19 45.5t-19 45.5z"/></svg>\n          </span>\n        </a>\n      </td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds">\n        <a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1">\n          <span class="fa-svg-icon">\n            <svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1683 808l-742 741q-19 19-45 19t-45-19l-742-741q-19-19-19-45.5t19-45.5l166-165q19-19 45-19t45 19l531 531 531-531q19-19 45-19t45 19l166 165q19 19 19 45.5t-19 45.5z"/></svg>\n          </span>\n        </a>\n      </td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   class="dropdown-item"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run((function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0})),angular.module("ui.bootstrap.common").run((function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCommonCss&&angular.element(document).find("head").prepend('<style type="text/css">.fa-svg-icon{display:inline-block;vertical-align:middle;min-width:1em;min-height:1em;height:100%;position:relative;top:-1px;}.fa-svg-icon svg{position:absolute;top:0;left:0;width:100%;height:100%;}.fa-svg-icon svg g,.fa-svg-icon svg path{fill:currentColor;}</style>'),angular.$$uibCommonCss=!0})),angular.module("ui.bootstrap.datepicker").run((function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0})),angular.module("ui.bootstrap.position").run((function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0})),angular.module("ui.bootstrap.datepickerPopup").run((function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px;}</style>'),angular.$$uibDatepickerpopupCss=!0})),angular.module("ui.bootstrap.tooltip").run((function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0})),angular.module("ui.bootstrap.timepicker").run((function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px !important;}</style>'),angular.$$uibTimepickerCss=!0})),angular.module("ui.bootstrap.typeahead").run((function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0})),window.localStorage=window.sessionStorage;var GL=angular.module("GL",["angular.filter","angularjs-dropdown-multiselect","ngAria","ngIdle","ngRoute","ui.bootstrap","ui.select","tmh.dynamicLocale","flow","monospaced.qrcode","pascalprecht.translate","ngCsv","ngResource","ngSanitize","ng-showdown"]).config(["$ariaProvider",function(e){e.config({ariaInvalid:!1})}]).config(["$compileProvider",function(e){e.debugInfoEnabled(!1)}]).config(["$httpProvider",function(e){e.interceptors.push("globaleaksRequestInterceptor")}]).config(["$locationProvider",function(e){e.hashPrefix("")}]).config(["$showdownProvider",function(e){e.setOption("sanitize",!0),e.setOption("openLinksInNewWindow",!0)}]).config(["$provide",function(e){e.decorator("$templateRequest",["$delegate",function(e){var t=e;return e=function(n){for(var a in t)e[a]=t[a];return t.apply(this,[n,!0])}}])}]).config(["$qProvider",function(e){e.errorOnUnhandledRejections(!1)}]).config(["$rootScopeProvider",function(e){e.digestTtl(30)}]).config(["$routeProvider",function(e){function t(e){return["Access",function(t){return t.isAuthenticated(e)}]}function n(e,t){return["$location","$q","$rootScope","Access","GLTranslate","AdminAuditLogResource","AdminContextResource","AdminQuestionnaireResource","AdminStepResource","AdminFieldResource","AdminFieldTemplateResource","AdminUserResource","AdminNodeResource","AdminNetworkResource","AdminNotificationResource","AdminRedirectResource","AdminTenantResource","TipsCollection","JobsAuditLog","AdminSubmissionStatusResource","ReceiverTips","UserPreferences",function(n,a,i,s,r,o,l,c,d,u,p,f,h,g,m,v,b,w,y,_,x,$){var k={auditlog:function(){return o.query().$promise},node:function(){return h.get().$promise},contexts:function(){return l.query().$promise},fieldtemplates:function(){return p.query().$promise},users:function(){return f.query().$promise},network:function(){return g.get().$promise},notification:function(){return m.get().$promise},redirects:function(){return v.query().$promise},tenants:function(){return b.query().$promise},tips:function(){return w.query().$promise},jobs:function(){return y.query().$promise},questionnaires:function(){return c.query().$promise},submission_statuses:function(){return _.query().$promise},rtips:function(){return x.query().$promise},preferences:function(){return $.get().$promise}};return s.isAuthenticated(e).then((function(){for(var e={},s=0;s<t.length;s++){var o=t[s];e[o]=k[o]()}return a.all(e).then((function(e){i.resources=e,i.resources.preferences&&(r.addUserPreference(i.resources.preferences.language),i.resources.preferences.password_change_needed?n.path("/actions/forcedpasswordchange"):i.resources.preferences.require_two_factor&&n.path("/actions/forcedtwofactor"))}))}))}]}e.when("/wizard",{templateUrl:"views/wizard/main.html",controller:"WizardCtrl",header_title:"Platform wizard"}).when("/signup",{templateUrl:"views/signup/main.html",controller:"SignupCtrl",header_title:"Sign up"}).when("/submission",{templateUrl:"views/whistleblower/submission.html",controller:"SubmissionCtrl",header_title:""}).when("/activation",{templateUrl:"views/signup/activation.html",controller:"SignupActivationCtrl",header_title:"Signup"}).when("/status/:tip_id",{templateUrl:"views/recipient/tip.html",controller:"TipCtrl",header_title:"Report",resolve:{access:t("receiver"),resources:n("receiver",["preferences"])}}).when("/actions/forcedpasswordchange",{templateUrl:"views/actions/forced_password_change.html",controller:"ForcedPasswordChangeCtrl",header_title:"Change your password",resolve:{access:t("*"),resources:n("*",["preferences"])}}).when("/actions/forcedtwofactor",{templateUrl:"views/actions/forced_two_factor.html",controller:"EnableTwoFactorAuthCtrl",header_title:"Enable two factor authentication",resolve:{access:t("*"),resources:n("*",["preferences"])}}).when("/recipient/home",{templateUrl:"views/recipient/home.html",controller:"HomeCtrl",header_title:"Home",sidebar:"views/recipient/sidebar.html",resolve:{access:t("receiver"),resources:n("receiver",["preferences"])}}).when("/recipient/preferences",{templateUrl:"views/partials/preferences.html",controller:"PreferencesCtrl",header_title:"Preferences",sidebar:"views/recipient/sidebar.html",resolve:{access:t("receiver"),resources:n("receiver",["preferences"])}}).when("/recipient/settings",{templateUrl:"views/recipient/settings.html",controller:"AdminCtrl",header_title:"Site settings",sidebar:"views/recipient/sidebar.html",resolve:{access:t("receiver"),resources:n("receiver",["node","preferences"])}}).when("/recipient/reports",{templateUrl:"views/recipient/tips.html",controller:"ReceiverTipsCtrl",header_title:"Reports",resolve:{access:t("receiver"),resources:n("receiver",["preferences","rtips"])}}).when("/recipient/statistics",{templateUrl:"views/recipient/statistics.html",controller:"StatisticsCtrl",header_title:"Statistics",sidebar:"views/recipient/sidebar.html",resolve:{access:t("receiver"),resources:n("receiver",["rtips","preferences"])}}).when("/admin/home",{templateUrl:"views/admin/home.html",controller:"HomeCtrl",header_title:"Home",sidebar:"views/admin/sidebar.html",resolve:{access:t("admin"),resources:n("admin",["node","preferences","users"])}}).when("/admin/preferences",{templateUrl:"views/partials/preferences.html",controller:"PreferencesCtrl",header_title:"Preferences",sidebar:"views/admin/sidebar.html",resolve:{access:t("admin"),resources:n("admin",["node","preferences"])}}).when("/admin/settings",{templateUrl:"views/admin/settings.html",controller:"AdminCtrl",header_title:"Site settings",sidebar:"views/admin/sidebar.html",resolve:{access:t("admin"),resources:n("admin",["node","preferences","questionnaires","users"])}}).when("/admin/contexts",{templateUrl:"views/admin/contexts.html",controller:"AdminCtrl",header_title:"Channels",sidebar:"views/admin/sidebar.html",resolve:{access:t("admin"),resources:n("admin",["contexts","node","preferences","questionnaires","users"])}}).when("/admin/questionnaires",{templateUrl:"views/admin/questionnaires.html",controller:"AdminCtrl",header_title:"Questionnaires",sidebar:"views/admin/sidebar.html",resolve:{access:t("admin"),resources:n("admin",["fieldtemplates","node","preferences","questionnaires","users"])}}).when("/admin/users",{templateUrl:"views/admin/users.html",controller:"AdminCtrl",header_title:"Users",sidebar:"views/admin/sidebar.html",resolve:{access:t("admin"),resources:n("admin",["node","preferences","users"])}}).when("/admin/notifications",{templateUrl:"views/admin/notifications.html",controller:"AdminCtrl",header_title:"Notifications",sidebar:"views/admin/sidebar.html",resolve:{access:t("admin"),resources:n("admin",["node","preferences","notification"])}}).when("/admin/network",{templateUrl:"views/admin/network.html",controller:"AdminCtrl",header_title:"Network",sidebar:"views/admin/sidebar.html",resolve:{access:t("admin"),resources:n("admin",["network","node","preferences","redirects"])}}).when("/admin/auditlog",{templateUrl:"views/admin/auditlog.html",controller:"AdminCtrl",header_title:"Audit log",sidebar:"views/admin/sidebar.html",resolve:{access:t("admin"),resources:n("admin",["auditlog","jobs","node","preferences","tips","users"])}}).when("/admin/sites",{templateUrl:"views/admin/sites.html",controller:"AdminCtrl",header_title:"Sites",sidebar:"views/admin/sidebar.html",resolve:{access:t("admin"),resources:n("admin",["node","preferences","tenants"])}}).when("/admin/casemanagement",{templateUrl:"views/admin/casemanagement.html",controller:"AdminCtrl",header_title:"Case management",sidebar:"views/admin/sidebar.html",resolve:{access:t("admin"),resources:n("admin",["node","preferences","submission_statuses"])}}).when("/custodian/home",{templateUrl:"views/custodian/home.html",controller:"HomeCtrl",header_title:"Home",sidebar:"views/custodian/sidebar.html",resolve:{access:t("custodian"),resources:n("custodian",["preferences"])}}).when("/custodian/preferences",{templateUrl:"views/partials/preferences.html",controller:"PreferencesCtrl",header_title:"Preferences",sidebar:"views/custodian/sidebar.html",resolve:{access:t("custodian"),resources:n("custodian",["preferences"])}}).when("/custodian/settings",{templateUrl:"views/custodian/settings.html",controller:"AdminCtrl",header_title:"Sites",sidebar:"views/custodian/sidebar.html",resolve:{access:t("custodian"),resources:n("custodian",["node","preferences"])}}).when("/custodian/requests",{templateUrl:"views/custodian/identity_access_requests.html",header_title:"Requests",resolve:{access:t("custodian"),resources:n("custodian",["preferences"])}}).when("/login",{templateUrl:"views/login/main.html",controller:"LoginCtrl",header_title:"Log in"}).when("/admin",{templateUrl:"views/login/main.html",controller:"LoginCtrl",header_title:"Log in"}).when("/login/passwordreset",{templateUrl:"views/passwordreset/main.html",controller:"PasswordResetCtrl",header_title:"Password reset"}).when("/login/passwordreset/requested",{templateUrl:"views/passwordreset/requested.html",header_title:"Password reset"}).when("/login/passwordreset/failure/token",{templateUrl:"views/passwordreset/failure_token.html",header_title:"Password reset"}).when("/login/passwordreset/failure/recovery",{templateUrl:"views/passwordreset/failure_recovery.html",header_title:"Password reset"}).when("/password/reset",{templateUrl:"views/passwordreset/reset.html",controller:"PasswordResetCompleteCtrl",header_title:"Password reset"}).when("/email/validation/success",{templateUrl:"views/email_validation_success.html",controller:"EmptyCtrl",header_title:""}).when("/email/validation/failure",{templateUrl:"views/email_validation_failure.html",controller:"EmptyCtrl",header_title:""}).when("/",{templateUrl:"views/home.html",header_title:""}).otherwise({redirectTo:"/"})}]).config(["$translateProvider",function(e){e.useStaticFilesLoader({prefix:"l10n/",suffix:""}),e.useInterpolation("noopInterpolation"),e.useSanitizeValueStrategy("escape")}]).config(["uibDatepickerConfig",function(e){e.datepickerPopup="dd-MM-yyyy",e.showWeeks=!1}]).config(["uibDatepickerPopupConfig",function(e){e.datepickerPopup="dd-MM-yyyy",e.showWeeks=!1}]).config(["$uibModalProvider",function(e){e.options.animation=!1,e.options.backdrop="static",e.options.keyboard=!1,e.options.focus=!0,e.options.size="lg"}]).config(["$uibTooltipProvider",function(e){e.options({placement:"auto",appendToBody:!0,trigger:"mouseenter"})}]).config(["tmhDynamicLocaleProvider",function(e){e.addLocalePatternValue("map",{ba:"bas","ca@valencia":"ca-es-valencia",crh:"ru",dv:"en","sl-si":"sl","sr-me":"sr-cyrl-me","sr-rs":"sr-cyrl-rs","sr-me@latin":"sr-latn-me","sr-rs@latin":"sr-latn",tt:"ru",ug:"ug-arab","ug@Cyrl":"ug","ug@Latin":"ug"}),e.localeLocationPattern("{{map[locale] ? 'lib/js/locale/angular-locale_' + map[locale] +'.js' : 'lib/js/locale/angular-locale_' + locale +'.js'}}")}]).config(["flowFactoryProvider",function(e){_flowFactoryProvider=e}]).config(["IdleProvider","KeepaliveProvider","TitleProvider",function(e,t,n){e.idle(300),e.timeout(1800),t.interval(600),n.enabled(!1)}]).run(["$rootScope","$http","$route","$routeParams","$window","$location","$filter","$translate","$uibModal","$templateCache","Idle","Authentication","SessionResource","PublicResource","Utils","AdminUtils","fieldUtilities","CONSTANTS","GLTranslate","Access",function(e,t,n,a,i,s,r,o,l,c,d,u,p,f,h,g,m,v,b,w){e.started=!1,e.page="homepage",e.Authentication=u,e.GLTranslate=b,e.Utils=h,e.fieldUtilities=m,e.AdminUtils=g,e.CONSTANTS=v,e.location=s,e.showLoadingPanel=!1,_flowFactoryProvider.defaults={chunkSize:1024e3,forceChunkSize:!0,testChunks:!1,simultaneousUploads:1,generateUniqueIdentifier:function(){return 1e6*Math.random()+1e6},headers:function(){return e.Authentication.get_headers()}},_flowFactoryProvider.on("catchAll",(function(){e.$broadcast("GL::uploadsUpdated")})),e.setPage=function(t){e.page=t,e.Utils.set_title()},e.setHomepage=function(){i.location="/"},e.dismissError=function(){delete e.error},e.open_confidentiality_modal=function(){l.open({controller:"ConfirmableModalCtrl",templateUrl:"views/modals/security_awareness_confidentiality.html",scope:e})},e.open_disclaimer_modal=function(){l.open({templateUrl:"views/modals/disclaimer.html",controller:"ConfirmableModalCtrl",resolve:{arg:null,confirmFun:function(){return function(){e.setPage("submissionpage")}},cancelFun:null}})},e.evaluateConfidentialityModalOpening=function(){if(!e.connection.tor&&!e.connection.https&&!e.confidentiality_warning_opened&&-1===["localhost","127.0.0.1"].indexOf(s.host()))return e.confidentiality_warning_opened=!0,e.open_confidentiality_modal()},e.openSubmission=function(){return e.public.node.disclaimer_text?e.open_disclaimer_modal():e.setPage("submissionpage")},e.init=function(){return f.get((function(t,n){var a;e.public=t,"/"===i.location.pathname&&(e.public.node.css&&null===(a=document.getElementById("load-custom-css"))&&((a=document.createElement("link")).setAttribute("id","load-custom-css"),a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("href","s/css"),document.getElementsByTagName("head")[0].appendChild(a)),e.public.node.script&&null===(a=document.getElementById("load-custom-script"))&&((a=document.createElement("script")).setAttribute("id","load-custom-script"),a.setAttribute("src","s/script"),document.getElementsByTagName("body")[0].appendChild(a)),e.public.node.favicon&&document.getElementById("favicon").setAttribute("href","s/favicon")),e.contexts_by_id=e.Utils.array_to_map(t.contexts),e.receivers_by_id=e.Utils.array_to_map(t.receivers),e.questionnaires_by_id=e.Utils.array_to_map(t.questionnaires),e.submission_statuses=t.submission_statuses,e.submission_statuses_by_id=e.Utils.array_to_map(t.submission_statuses),angular.forEach(e.questionnaires_by_id,(function(t,n){e.fieldUtilities.parseQuestionnaire(e.questionnaires_by_id[n],{}),e.questionnaires_by_id[n].steps=r("orderBy")(e.questionnaires_by_id[n].steps,"order")})),angular.forEach(e.contexts_by_id,(function(t,n){e.contexts_by_id[n].questionnaire=e.questionnaires_by_id[e.contexts_by_id[n].questionnaire_id],e.contexts_by_id[n].additional_questionnaire_id&&(e.contexts_by_id[n].additional_questionnaire=e.questionnaires_by_id[e.contexts_by_id[n].additional_questionnaire_id])})),e.connection={tor:"true"===n()["X-Check-Tor"]||s.host().match(/\.onion$/)},h.route_check(),e.languages_enabled={},e.languages_enabled_selector=[],e.languages_supported={},angular.forEach(e.public.node.languages_supported,(function(t){e.languages_supported[t.code]=t,-1!==e.public.node.languages_enabled.indexOf(t.code)&&(e.languages_enabled[t.code]=t,e.languages_enabled_selector.push(t))})),b.addNodeFacts(e.public.node.default_language,e.public.node.languages_enabled),h.set_title(),e.started=!0})).$promise};var y=!1;e.$watch((function(){y||(y=!0,e.$$postDigest((function(){y=!1,GL.mockEngine.run()})))})),e.$watch((function(){for(var e=0,n=0;n<t.pendingRequests.length;n++)-1===t.pendingRequests[n].url.indexOf("api/session")&&(e+=1);return e}),(function(t){e.showLoadingPanel=t>0})),e.$watch("GLTranslate.state.language",(function(t,n){t!==n&&n&&"*"!==n&&(b.setLang(t),e.reload())})),e.$on("$locationChangeStart",(function(){var e=s.search().lang;e&&e!==b.state.language&&(i.location.href=s.absUrl(),i.location.reload())})),e.$on("$routeChangeStart",h.route_check),e.$on("$routeChangeSuccess",(function(t,n){n.$$route&&(delete e.error,e.header_title=n.$$route.header_title,e.sidebar=n.$$route.sidebar,h.set_title())})),e.$on("$routeChangeError",(function(t,n,a,i){i===w.FORBIDDEN&&e.Authentication.loginRedirect(!1)})),e.$on("REFRESH",(function(){e.reload()})),e.keypress=function(t){(116===(t.which||t.keyCode)||82===(t.which||t.keyCode)&&(t.ctrlKey||t.metaKey))&&(t.preventDefault(),e.$emit("REFRESH"))},e.reload=function(t){delete e.error,e.init().then((function(){n.reload(),t&&s.path(t).replace()}))},e.$on("Keepalive",(function(){if(e.Authentication&&e.Authentication.session)return p.get()})),e.$on("IdleTimeout",(function(){if(e.Authentication&&e.Authentication.session){if("whistleblower"!==e.Authentication.session.role)return e.Authentication.deleteSession(),e.Authentication.loginRedirect(!1);i.location="about:blank"}})),d.watch(),e.init()}]).factory("globaleaksRequestInterceptor",["$injector",function(e){return{request:function(t){var n=e.get("$rootScope"),a=e.get("TokenResource");return angular.extend(t.headers,n.Authentication.get_headers()),n.Authentication.session||"api/auth/token"===t.url.substring(t.url.length-14,t.url.length)||-1===["DELETE","POST","PUT"].indexOf(t.method)?t:(new a).$get().then((function(e){return angular.extend(t.headers,{"x-token":e.id+":"+e.answer}),t}))},responseError:function(t){var n=e.get("$rootScope"),a=e.get("$q"),i=e.get("$location");if(null!==t.data){var s={message:t.data.error_message,code:t.data.error_code,arguments:t.data.arguments};10===s.code?(n.Authentication.deleteSession(),n.Authentication.loginRedirect(!1)):6===s.code&&n.Authentication.session&&"whistleblower"!==n.Authentication.session.role&&i.path(n.Authentication.session.homepage),n.error=s}return a.reject(t)}}}]).factory("noopInterpolation",["$interpolate","$translateSanitization",function(e,t){return{setLocale:function(e){e},getInterpolationIdentifier:function(){return"noop"},useSanitizeValueStrategy:function(e){return t.useStrategy(e),this},interpolate:function(e){return e}}}]);GL.constant("CONSTANTS",{email_regexp:/^([\w+-.]){0,100}[\w]{1,100}@([\w+-.]){0,100}[\w]{1,100}$/,email_regexp_or_empty:/^([\w+-.]){0,100}[\w]{1,100}@([\w+-.]){0,100}[\w]{1,100}$|^$/,country_code_regexp_or_empty:/^([a-zA-Z]){2}$|^$/,number_regexp:/^\d+$/,phonenumber_regexp:/^[+]?[ \d]+$/,hostname_regexp:/^[a-z0-9-.]+$|^$/,https_regexp:/^https:\/\/([a-z0-9-]+)\.(.*)$|^$/,secure_or_local_url_regexp:/^https:\/\/([a-z0-9-]+)\.(.*)$|^\/(.*)$|^$/,uuid_regexp:/^([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})$/}),GL.factory("glbcUtil",(function(){return{str2Uint8Array:function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}}})).factory("glbcProofOfWork",["$q","glbcUtil",function(e,t){return{proofOfWork:function(n){var a=e.defer(),i=function(s){var r,o=function(){if("undefined"!=typeof window&&window.isSecureContext)return window.crypto.subtle}(),l=t.str2Uint8Array(n+s),c=function(e){0===(e=new Uint8Array(e))[31]?a.resolve(s):i(s+1)};void 0!==(r=o?o.digest({name:"SHA-256"},l):e.resolve(sha256(l))).then?r.then(c):r.oncomplete=function(e){c(e.target.result)}};return i(0),a.promise}}}]),GL.directive("dateRangePicker",(function(){return{restrict:"A",scope:{ngModel:"=",onDateChange:"="},templateUrl:"views/partials/datarangepicker.html",require:"ngModel",link:function(e){e.daterangePickerModel={start:null,end:null},e.daterangePickerOptions={customClass:function(t){var n=t.date;if("day"===t.mode&&e.daterangePickerModel.start&&e.daterangePickerModel.end){var a=new Date(n).setHours(0,0,0,0);if(a>=e.daterangePickerModel.start&&a<=e.daterangePickerModel.end)return"full"}return""}},e.onDatePickerOpen=function(t){t.preventDefault(),t.stopPropagation(),e.isDatePickerOpened=!e.isDatePickerOpened},e.$watch("ngModel",(function(t){t?e.daterangePickerModel.start?e.daterangePickerModel.start&&!e.daterangePickerModel.end?(e.daterangePickerModel.end=e.ngModel,e.dataRangeFilter=[new Date(e.daterangePickerModel.start).getTime(),new Date(e.daterangePickerModel.end).getTime()]):e.daterangePickerModel.start&&e.daterangePickerModel.end&&(e.daterangePickerModel.end=null,e.daterangePickerModel.start=t):e.daterangePickerModel.start=t:(e.daterangePickerModel.start=null,e.daterangePickerModel.end=null,e.dataRangeFilter=[(new Date).getTime(),(new Date).getTime()]),(!e.daterangePickerModel.start&&!e.daterangePickerModel.end||e.daterangePickerModel.start&&e.daterangePickerModel.end)&&(e.daterangePickerModel.start||e.daterangePickerModel.end||(e.ngModel=void 0),e.isDatePickerOpened=!1),e.onDateChange&&e.onDateChange(e.dataRangeFilter)})),e.checkFilter=function(){return e.daterangePickerModel.start&&e.daterangePickerModel.end}}}})).directive("dynamicTextarea",(function(){return{restrict:"A",link:function(e,t,n){t.css("min-height","2rem");e.$watch(n.ngModel,(function(){!function(){t.css("height","auto");var e=t[0].scrollHeight;e&&t.css("height",e+"px")}()})),n.$set("ngTrim","false")}}})).directive("receiptvalidator",(function(){return{require:"ngModel",link:function(e,t,n,a){a.$setValidity("receiptvalidator",!1),a.$parsers.unshift((function(e){var n="";for(a.$setValidity("receiptvalidator",!1),e=e.replace(/\D/g,"");e.length&&(n+=e.substring(0,4),e.length>=4);)n.length<19&&(n+=" "),e=e.substring(4);return angular.element(t).val(n),19===n.length&&a.$setValidity("receiptvalidator",!0),n}))}}})).directive("recoverykeyvalidator",(function(){return{require:"ngModel",link:function(e,t,n,a){a.$setValidity("recoverykeyvalidator",!1),a.$parsers.unshift((function(e){var n="";for(a.$setValidity("recoverykeyvalidator",!1),e=e.replace(/[^[a-zA-Z0-9]/g,"").toUpperCase();e.length&&(n+=e.substring(0,4),e.length>=4);)n.length<64&&(n+="-"),e=e.substring(4);return angular.element(t).val(n),64===n.length&&a.$setValidity("recoverykeyvalidator",!0),n}))}}})).directive("subdomainvalidator",(function(){return{require:"ngModel",link:function(e,t,n,a){a.$parsers.unshift((function(e){return e=(e=(e=e.toLowerCase()).replace(/[^a-z0-9-]/g,"")).substring(0,60),angular.element(t).val(e),e}))}}})).directive("passwordMeter",(function(){return{scope:{value:"="},templateUrl:"views/partials/password_meter.html",link:function(e){e.type=null,e.text="",e.$watch("value",(function(t){t<2?(e.type="danger",e.text="Weak"):t<3?(e.type="warning",e.text="Acceptable"):(e.type="primary",e.text="Strong")}))}}})).directive("singleErrorUpload",(function(){return{restrict:"A",controller:["$scope",function(e){e.$watch("file_error_msgs.length",(function(){e.displayErr=!0})),e.displayErr=!0}],templateUrl:"views/partials/upload_error_msg.html"}})).directive("errorsUpload",(function(){return{restrict:"A",templateUrl:"views/partials/upload_error_msgs.html"}})).directive("extendFlowValidSize",["uploadUtils",function(e){return{restrict:"A",scope:!0,link:function(t,n,a){var i=parseInt(t.$eval(a.extendFlowValidSize),10);t.$on("flow::fileAdded",(function(n,a,s){if(s.size>i){void 0===t.file_error_msgs&&(t.file_error_msgs=[]);var r=e.translateInvalidSizeErr(s.name,i);t.file_error_msgs.push(r),n.preventDefault()}}))}}}]).directive("imageUpload",(function(){return{restrict:"A",scope:{imageUploadModel:"=",imageUploadModelAttr:"@",imageUploadId:"@",imageSrcUrl:"@"},templateUrl:"views/partials/image_upload.html",controller:"ImageUploadCtrl"}})).directive("singleClick",[function(){return{restrict:"A",link:function(e,t){t.on("click",(function(){t.attr("disabled",!0)}))}}}]).directive("rfile",[function(){return{restrict:"A",scope:!1,templateUrl:"views/partials/rfile.html"}}]).directive("fileInput",(function(){return{restrict:"A",templateUrl:"views/partials/file_input.html",scope:{fileInput:"&",fileInputLabel:"@"},link:function(e,t){t.find("input").on("change",(function(t){t.target.files&&t.target.files.length&&e.$apply((function(){e.fileInput({file:t.target.files[0]})}))}))}}})).directive("isolateClick",(function(){return{link:function(e,t){t.on("click",(function(e){e.stopPropagation()}))}}})).directive("disableCcp",(function(){return{scope:{},link:function(e,t){t.on("cut copy paste",(function(e){e.preventDefault()}))}}})).directive("convertToNumber",(function(){return{require:"ngModel",link:function(e,t,n,a){a.$parsers.push((function(e){return null!==e?parseInt(e,10):null})),a.$formatters.push((function(e){return null!==e?""+e:null}))}}})).directive("passwordStrengthValidator",(function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,a){a.$validators.passwordStrengthValidator=function(t){var n,a={lower:/[a-z]/.test(t),upper:/[A-Z]/.test(t),symbols:/\W/.test(t),digits:/\d/.test(t)},i=0,s=0,r={},o=0;if(t){for(n in a)i+=a[n]?1:0;for(n=0;n<t.length;n++)r[t[n]]||(r[t[n]]=1,s+=1);o=4!==i||s<10||t.length<12?1:4!==i||s<12||t.length<14?2:3}return e.$parent.passwordStrengthScore=o,o>1}},scope:{passwordStrengthValidator:"@"}}})),GL.filter("weekNumber",(function(){return function(e){var t=new Date(e);t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)}})).filter("expirationDate",(function(){return function(e,t){if(!angular.isUndefined(e)){var n=new Date(new Date(e).getTime());return n.setUTCHours(0,0,0,0),n.setDate(t+1),n}}})).filter("split",(function(){return function(e,t,n){return e.split(t)[n]}})).filter("highlightSafe",(function(){return function(e,t){var n=(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return t&&e?n.replace(new RegExp((""+t).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),'<span class="ui-select-highlight">$&</span>'):n}})),GL.factory("GLResource",["$resource",function(e){return function(t,n,a){return a=angular.extend({get:{method:"GET"},query:{method:"GET",isArray:!0},update:{method:"PUT"}},a),e(t,n,a)}}]).factory("Authentication",["$filter","$http","$location","$window","$rootScope","GLTranslate",function(e,t,n,a,i,s){return new function(){var e=this;e.loginInProgress=!1,e.requireAuthCode=!1,e.loginData={};var r=a.sessionStorage.getItem("session");"string"==typeof r&&(e.session=JSON.parse(r),n.path(e.session.homepage)),e.set_session=function(t){if(e.session=t.data,"whistleblower"!==e.session.role){var n="receiver"===e.session.role?"recipient":e.session.role;e.session.homepage="/"+n+"/home",e.session.preferencespage="/"+n+"/preferences",a.sessionStorage.setItem("session",JSON.stringify(e.session))}},e.reset=function(){e.loginInProgress=!1,e.requireAuthCode=!1,e.loginData={}},e.login=function(s,r,o,l,c){void 0===l&&(l=""),e.loginInProgress=!0;var d;return c?d=t.post("api/auth/tokenauth",{authtoken:c}):"whistleblower"===r?(o=o.replace(/\D/g,""),d=t.post("api/auth/receiptauth",{receipt:o})):d=t.post("api/auth/authentication",{tid:s,username:r,password:o,authcode:l}),d.then((function(t){e.reset(),"redirect"in t.data&&a.location.replace(t.data.redirect),e.set_session(t);var s=n.search().src;s?n.path(s):"whistleblower"===e.session.role?o&&(i.setPage("tippage"),n.path("/")):n.path(e.session.homepage)}),(function(t){e.loginInProgress=!1,t.data&&t.data.error_code&&(4===t.data.error_code?e.requireAuthCode=!0:13!==t.data.error_code&&e.reset())}))},e.deleteSession=function(){e.session=void 0,a.sessionStorage.removeItem("session")},e.logout=function(){var n;return i.Authentication.reset(),n="whistleblower"===e.session.role?function(){e.deleteSession(),i.setPage("homepage")}:function(){e.deleteSession(),e.loginRedirect(!0)},t.delete("api/auth/session").then(n,n)},e.loginRedirect=function(e){var t=n.path();"/login"!==t&&(n.path("/login"),e||n.search("src",t),a.location=n.absUrl(),a.location.reload())},e.hasUserRole=function(){return!angular.isUndefined(e.session)&&-1!==["admin","receiver","custodian"].indexOf(e.session.role)},e.get_headers=function(){var t={};return e.session&&(t["X-Session"]=e.session.id),t["Accept-Language"]=s.state.language,t}}}]).factory("Access",["$q","Authentication",function(e,t){var n={OK:200,FORBIDDEN:403,isUnauth:function(){return void 0===t.session?e.resolve(n.OK):e.reject(n.FORBIDDEN)},isAuthenticated:function(a){return!t.session||"*"!==a&&t.session.role!==a?e.reject(n.FORBIDDEN):e.resolve(n.OK)}};return n}]).factory("SessionResource",["GLResource",function(e){return new e("api/auth/session")}]).factory("PublicResource",["GLResource",function(e){return new e("api/public")}]).factory("TokenResource",["GLResource","glbcProofOfWork",function(e,t){return new e("api/auth/token/:id",{id:"@id"},{get:{method:"POST",interceptor:{response:function(e){var n=e.resource;return t.proofOfWork(n.id).then((function(e){return n.answer=e,n}))}}}})}]).factory("SubmissionResource",["GLResource",function(e){return new e("api/whistleblower/submission")}]).factory("Submission",["$q","$location","$rootScope","Authentication","GLResource","SubmissionResource",function(e,t,n,a,i,s){return function(e){var i=this;i._submission=null,i.context=void 0,i.receivers=[],i.mandatory_receivers=0,i.optional_receivers=0,i.selected_receivers={},i.setContextReceivers=function(e){i.context=n.contexts_by_id[e],Object.keys(i.selected_receivers).length&&i.context.allow_recipients_selection||(i.selected_receivers={},i.receivers=[],angular.forEach(i.context.receivers,(function(e){var t=n.receivers_by_id[e];t&&(i.receivers.push(t),t.forcefully_selected?i.mandatory_receivers+=1:i.optional_receivers+=1,(i.context.select_all_receivers||t.forcefully_selected)&&(i.selected_receivers[t.id]=!0))})))},i.countSelectedReceivers=function(){return Object.keys(i.selected_receivers).length},i.create=function(e){i.setContextReceivers(e),i._submission=new s({context_id:i.context.id,receivers:[],identity_provided:!1,answers:{},answer:0,score:0}),a.login(0,"whistleblower","")},i.submit=function(){return i._submission.receivers=[],angular.forEach(i.selected_receivers,(function(e,t){e&&i._submission.receivers.push(t)})),i._submission.$save().then((function(e){t.path("/"),n.receipt=e.receipt,n.setPage("receiptpage")}))},e(i)}}]).factory("RTipResource",["GLResource",function(e){return new e("api/recipient/rtips/:id",{id:"@id"})}]).factory("RTipCommentResource",["GLResource",function(e){return new e("api/recipient/rtips/:id/comments",{id:"@id"})}]).factory("RTipDownloadRFile",["Utils",function(e){return function(t){e.download("api/recipient/rfiles/"+t.id)}}]).factory("RTipRFileResource",["GLResource",function(e){return new e("api/recipient/rfiles/:id",{id:"@id"})}]).factory("RTipDownloadWBFile",["Utils",function(e){return function(t){e.download("api/recipient/wbfiles/"+t.id)}}]).factory("RTipExport",["Utils",function(e){return function(t){e.download("api/recipient/rtips/"+t.id+"/export")}}]).factory("RTip",["$rootScope","$http","RTipResource","RTipCommentResource",function(e,t,n,a){return function(i,s){this.tip=n.get(i,(function(n){n.context=e.contexts_by_id[n.context_id],n.questionnaire=e.questionnaires_by_id[n.context.questionnaire_id],n.additional_questionnaire=e.questionnaires_by_id[n.context.additional_questionnaire_id],n.newComment=function(e,t){var s=new a(i);s.content=e,s.visibility=t,s.$save((function(e){n.comments.unshift(e),n.localChange()}))},n.operation=function(e,a){var i={operation:e,args:a};return t({method:"PUT",url:"api/recipient/rtips/"+n.id,data:i})},n.updateSubmissionStatus=function(){return n.operation("update_status",{status:n.status,substatus:n.substatus?n.substatus:""}).then((function(){e.reload()}))},n.localChange=function(){n.update_date=(new Date).toISOString()},s&&s(n)}))}}]).factory("WBTipResource",["GLResource",function(e){return new e("api/whistleblower/wbtip")}]).factory("WBTipCommentResource",["GLResource",function(e){return new e("api/whistleblower/wbtip/comments")}]).factory("WBTipDownloadFile",["Utils",function(e){return function(t){e.download("api/whistleblower/wbtip/rfiles/"+t.id)}}]).factory("WBTip",["$rootScope","WBTipResource","WBTipCommentResource",function(e,t,n){return function(a){this.tip=t.get((function(t){t.context=e.contexts_by_id[t.context_id],t.questionnaire=e.questionnaires_by_id[t.context.questionnaire_id],t.additional_questionnaire=e.questionnaires_by_id[t.context.additional_questionnaire_id],t.msg_receiver_selected=null,t.msg_receivers_selector=[],angular.forEach(t.receivers,(function(n){e.receivers_by_id[n.id]&&(n=e.receivers_by_id[n.id],t.msg_receivers_selector.push({key:n.id,value:n.name}))})),t.newComment=function(e,a){var i=new n;i.content=e,i.visibility=a,i.$save((function(e){t.comments.unshift(e),t.localChange()}))},t.localChange=function(){t.update_date=(new Date).toISOString()},a&&a(t)}))}}]).factory("ReceiverTips",["GLResource",function(e){return new e("api/recipient/rtips")}]).factory("IdentityAccessRequests",["GLResource",function(e){return new e("api/custodian/iars")}]).factory("AdminAuditLogResource",["GLResource",function(e){return new e("api/admin/auditlog")}]).factory("AdminContextResource",["GLResource",function(e){return new e("api/admin/contexts/:id",{id:"@id"})}]).factory("AdminQuestionnaireResource",["GLResource",function(e){return new e("api/admin/questionnaires/:id",{id:"@id"})}]).factory("AdminStepResource",["GLResource",function(e){return new e("api/admin/steps/:id",{id:"@id"})}]).factory("AdminFieldResource",["GLResource",function(e){return new e("api/admin/fields/:id",{id:"@id"})}]).factory("AdminFieldTemplateResource",["GLResource",function(e){return new e("api/admin/fieldtemplates/:id",{id:"@id"})}]).factory("AdminRedirectResource",["GLResource",function(e){return new e("api/admin/redirects/:id",{id:"@id"})}]).factory("AdminTenantResource",["GLResource",function(e){return new e("api/admin/tenants/:id",{id:"@id"})}]).factory("AdminUserResource",["GLResource",function(e){return new e("api/admin/users/:id",{id:"@id"})}]).factory("AdminSubmissionStatusResource",["GLResource",function(e){return new e("api/admin/statuses/:id",{id:"@id"})}]).factory("AdminSubmissionSubStatusResource",["GLResource",function(e){return new e("api/admin/statuses/:submissionstatus_id/substatuses/:id",{id:"@id",submissionstatus_id:"@submissionstatus_id"})}]).factory("AdminNodeResource",["GLResource",function(e){return new e("api/admin/node")}]).factory("AdminNetworkResource",["GLResource",function(e){return new e("api/admin/network")}]).factory("AdminNotificationResource",["GLResource",function(e){return new e("api/admin/notification")}]).factory("AdminL10NResource",["GLResource",function(e){return new e("api/admin/l10n/:lang",{lang:"@lang"})}]).factory("AdminTLSConfigResource",["GLResource",function(e){return new e("api/admin/config/tls",{},{enable:{method:"POST",params:{}},disable:{method:"PUT",params:{}}})}]).factory("AdminTLSCertFileResource",["GLResource",function(e){return new e("api/admin/config/tls/files")}]).factory("AdminAcmeResource",["GLResource",function(e){return new e("api/admin/config/acme/run")}]).factory("AdminTLSCfgFileResource",["GLResource",function(e){return new e("api/admin/config/tls/files/:name",{name:"@name"})}]).factory("AdminUtils",["AdminContextResource","AdminQuestionnaireResource","AdminStepResource","AdminFieldResource","AdminFieldTemplateResource","AdminUserResource","AdminNodeResource","AdminNotificationResource","AdminRedirectResource","AdminTenantResource",function(e,t,n,a,i,s,r,o,l,c){return{new_context:function(){var t=new e;return t.id="",t.hidden=!0,t.name="",t.description="",t.order=0,t.tip_timetolive=90,t.tip_reminder_hard=80,t.tip_reminder_soft=5,t.show_recipients_details=!1,t.allow_recipients_selection=!1,t.show_receivers_in_alphabetical_order=!0,t.show_steps_navigation_interface=!0,t.select_all_receivers=!0,t.maximum_selectable_receivers=0,t.enable_two_way_comments=!0,t.enable_attachments=!0,t.questionnaire_id="",t.additional_questionnaire_id="",t.score_threshold_medium=0,t.score_threshold_high=0,t.tip_reminder=0,t.receivers=[],t},new_questionnaire:function(){var e=new t;return e.id="",e.key="",e.name="",e.steps=[],e},new_step:function(e){var t=new n;return t.id="",t.label="",t.description="",t.order=0,t.children=[],t.questionnaire_id=e,t.triggered_by_score=0,t.triggered_by_options=[],t},new_field:function(e,t){var n=new a;return n.id="",n.key="",n.instance="instance",n.descriptor_id="",n.label="",n.type="inputbox",n.description="",n.hint="",n.placeholder="",n.multi_entry=!1,n.required=!1,n.preview=!1,n.attrs={},n.options=[],n.x=0,n.y=0,n.width=0,n.children=[],n.fieldgroup_id=t,n.step_id=e,n.template_id="",n.template_override_id="",n.triggered_by_score=0,n.triggered_by_options=[],n},new_field_template:function(e){var t=new i;return t.id="",t.instance="template",t.label="",t.type="inputbox",t.description="",t.placeholder="",t.hint="",t.multi_entry=!1,t.required=!1,t.preview=!1,t.attrs={},t.options=[],t.x=0,t.y=0,t.width=0,t.children=[],t.fieldgroup_id=e,t.step_id="",t.template_id="",t.template_override_id="",t.triggered_by_score=0,t.triggered_by_options=[],t},new_user:function(){var e=new s;return e.id="",e.username="",e.role="receiver",e.enabled=!0,e.password_change_needed=!0,e.name="",e.description="",e.public_name="",e.mail_address="",e.pgp_key_fingerprint="",e.pgp_key_remove=!1,e.pgp_key_public="",e.pgp_key_expiration="",e.language="en",e.notification=!0,e.forcefully_selected=!1,e.can_edit_general_settings=!1,e.can_grant_access_to_reports=!1,e.can_delete_submission=!1,e.can_postpone_expiration=!0,e.can_transfer_access_to_reports=!1,e},new_redirect:function(){return new l},new_tenant:function(){var e=new c;return e.active=!0,e.name="",e.mode="default",e.subdomain="",e}}}]).factory("UserPreferences",["GLResource",function(e){return new e("api/user/preferences",{},{update:{method:"PUT"}})}]).factory("TipsCollection",["GLResource",function(e){return new e("api/admin/auditlog/tips")}]).factory("JobsAuditLog",["GLResource",function(e){return new e("api/admin/auditlog/jobs")}]).factory("Files",["GLResource",function(e){return new e("api/admin/files")}]).factory("DefaultL10NResource",["GLResource",function(e){return new e("/data/l10n/:lang.json",{lang:"@lang"})}]).factory("RTipViewRFile",["Utils",function(e){return function(t){e.openViewModalDialog("views/modals/file_view.html",t)}}]).factory("RTipViewWBFile",["Utils",function(e){return function(t){e.openViewModalDialog("views/modals/file_view.html",t)}}]).factory("Utils",["$rootScope","$http","$q","$location","$filter","$timeout","$uibModal","$window","TokenResource",function(e,t,n,a,i,s,r,o,l){return{array_to_map:function(e){var t={};return angular.forEach(e,(function(e){t[e.id]=e})),t},set_title:function(){if(e.public){var t=e.public.node.name,n=e.public.node.header_title_homepage;"/"!==a.path()?n=e.header_title:"receiptpage"===e.page&&(n="Your report was successful."),n=i("translate")(n),e.projectTitle="GLOBALEAKS"!==t?t:"",e.pageTitle=n!==t?n:"",o.document.title=n?t+" - "+n:t,o.document.getElementsByName("description")[0].content=e.public.node.description}},getDateFilter:function(e,t,n,a){var i=[];return angular.forEach(e,(function(e){var s=new Date(e.last_access).getTime(),r=new Date(e.update_date).getTime(),o=new Date(e.expiration_date).getTime();(null===t||null!==t&&(0===t[0]||t[0]===t[1]||s>t[0]&&s<t[1]))&&(null===n||null!==n&&(0===n[0]||n[0]===n[1]||r>n[0]&&r<n[1]))&&(null===a||null!==a&&(0===a[0]||a[0]===a[1]||o>a[0]&&o<a[1]))&&i.push(e)})),i},writeUTFBytes:function(e,t,n){for(let a=0;a<n.length;a++)e.setUint8(t+a,n.charCodeAt(a))},getStaticFilter:function(e,t,n){if(0===t.length)return e;var a=[];return e.forEach((e=>{t.forEach((t=>{"score"===n?this.maskScore(e[n])===t.label&&a.push(e):e[n]===t.label&&a.push(e)}))})),a},maskScore:function(e){return 1===e?i("translate")("Low"):2===e?i("translate")("Medium"):3===e?i("translate")("High"):i("translate")("None")},route_check:function(){var t=a.path();"/"!==t&&(e.page=""),e.public&&(e.public.node.wizard_done?"/"===t&&e.public.node.enable_signup?a.path("/signup"):"/"!==t&&"/submission"!==t||!e.public.node.adminonly||e.Authentication.session||a.path("/admin"):a.path("/wizard"))},getXOrderProperty:function(){return"x"},getYOrderProperty:function(e){var t="order";return void 0===e[t]&&(t="y"),t},getCardSize:function(e){return e<2?"col-md-12":2===e?"col-md-6":3===e?"col-md-4":"col-md-3 col-sm-6"},update:function(e,t,n){e.$update((function(){void 0!==t&&t()}),(function(){void 0!==n&&n()}))},go:function(e){a.path(e)},isWhistleblowerPage:function(){return-1!==["/","/submission"].indexOf(a.path())},getCSSFlags:function(){return{public:this.isWhistleblowerPage(),embedded:o.self!==o.top,"block-user-input":e.showLoadingPanel}},showUserStatusBox:function(){return e.public.node.wizard_done&&"homepage"!==e.page&&"submissionpage"!==e.page&&angular.isDefined(e.Authentication.session)&&!e.Authentication.session.require_password_change},showWBLoginBox:function(){return"/submission"===a.path()},showFilePreview:function(e){return["image/gif","image/jpeg","image/png","image/bmp"].indexOf(e)>-1},moveUp:function(e){e[this.getYOrderProperty(e)]-=1},moveDown:function(e){e[this.getYOrderProperty(e)]+=1},moveLeft:function(e){e[this.getXOrderProperty(e)]-=1},moveRight:function(e){e[this.getXOrderProperty(e)]+=1},deleteFromList:function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},deleteFromDict:function(e,t){delete e[t]},assignUniqueOrderIndex:function(e){if(!(e.length<=0)){var t=this.getYOrderProperty(e[0]);if(e.length){var n=0;e=i("orderBy")(e,t),angular.forEach(e,(function(e){e[t]=n,n+=1}))}}},isUploading:function(e){for(var t in e)if(e[t]&&e[t].isUploading&&e[t].isUploading())return!0;return!1},hasPausedFileUploads:function(e){if(e.status_page)for(var t=0;t<e.status_page.files.length;t++)if(e.status_page.files[t].paused)return!0;return!1},resumeFileUploads:function(e){for(var t in e)e[t]&&e[t].resume()},acceptPrivacyPolicyDialog:function(n,a,i){return r.open({templateUrl:"views/modals/accept_agreement.html",controller:"ConfirmableModalCtrl",resolve:{arg:function(){return a},confirmFun:function(){return function(){t({method:"PUT",url:"api/user/operations",data:{operation:"accepted_privacy_policy",args:{}}}).then((function(){console.log(e.resources.preferences.accepted_privacy_policy),e.resources.preferences.accepted_privacy_policy=""}))}},cancelFun:null}}).result},openConfirmableModalDialog:function(t,n,a){return a=a||e,r.open({templateUrl:t,controller:"ConfirmableModalCtrl",scope:a,resolve:{arg:function(){return n},confirmFun:null,cancelFun:null}}).result},openViewModalDialog:function(t,n,a){return a=a||e,r.open({templateUrl:t,controller:"ViewModalCtrl",scope:a,size:"xl",resolve:{arg:function(){return n},confirmFun:null,cancelFun:null}}).result},deleteDialog:function(){return this.openConfirmableModalDialog("views/modals/delete_confirmation.html")},deleteResource:function(e,t,n){e.delete({id:n.id},(function(){t.splice(t.indexOf(n),1)}))},isNever:function(e){return 3250368e7===new Date(e).getTime()},getPostponeDate:function(e){var t=new Date;return t.setDate(t.getDate()+e+1),t.setUTCHours(0,0,0,0),t},readFileAsText:function(e){var t=n.defer(),a=new o.FileReader;return a.onload=function(e){t.resolve(e.target.result)},a.readAsText(e),t.promise},displayErrorMsg:function(t){e.error={message:"local-failure",arguments:[t],code:10}},load:function(e){return(new l).$get().then((function(t){return e+"?token="+t.id+":"+t.answer}))},download:function(e){return(new l).$get().then((function(t){o.open(e+"?token="+t.id+":"+t.answer)}))},view:function(t,n,a){var i=new XMLHttpRequest;i.open("GET",t,!0),i.setRequestHeader("x-session",e.Authentication.session.id),i.overrideMimeType(n),i.responseType="blob",i.onload=function(){200===this.status&&a(this.response)},i.send()},getSubmissionStatusText:function(e,t,n){for(var a,s=0;s<n.length;s++)if(n[s].id===e){a=i("translate")(n[s].label);for(var r=n[s].substatuses,o=0;o<r.length;o++)if(r[o].id===t){a+="("+i("translate")(r[o].label)+")";break}break}return a},openSupportModal:function(){if(!e.public.node.custom_support_url)return this.openConfirmableModalDialog("views/modals/request_support.html",{});o.open(e.public.node.custom_support_url,"_blank")},submitSupportRequest:function(e){return t({method:"POST",url:"api/support",data:{mail_address:e.mail_address,text:e.text,url:a.absUrl()}})},print:function(){o.print()},scrollTo:function(e){s((function(){try{var t=o.document.querySelector(e);t.scrollIntoView(),t.focus()}catch(e){return}}))},getConfirmation:function(t){var n="views/modals/confirmation_with_password.html";e.resources.preferences.two_factor&&(n="views/modals/confirmation_with_2fa.html");var a=function(){return r.open({templateUrl:n,controller:"ConfirmableModalCtrl",resolve:{arg:null,confirmFun:function(){return function(e){t(e).then((function(){}),(function(){a()}))}},cancelFun:null}})};a()},copyToClipboard:function(e){if(o.navigator.clipboard&&o.isSecureContext)return o.navigator.clipboard.writeText(e)},encodeString:function(e){const t=Uint16Array.from({length:e.length},((t,n)=>e.charCodeAt(n))),n=new Uint8Array(t.buffer);let a="";return n.forEach((e=>{a+=String.fromCharCode(e)})),btoa(a)},saveAs:function(e,n){return t({method:"GET",url:n,responseType:"blob"}).then((function(t){var n=o.document.createElement("a");n.href=URL.createObjectURL(t.data),n.download=e,n.click(),s((function(){URL.revokeObjectURL(n.href)}),1e3)}))},role_l10n:function(e){var t="";return e&&(t="receiver"===e?"recipient":e,t=i("translate")(t.charAt(0).toUpperCase()+t.substr(1))),t},runOperation:function(a,i,s,r){var o=this,l=n.defer();if(s||(s={}),r||(r=!1),-1!==["enable_encryption","disable_2fa","get_recovery_key","toggle_escrow","toggle_user_escrow","enable_user_permission_file_upload","reset_submissions"].indexOf(i)){var c=function(n){return t({method:"PUT",url:a,data:{operation:i,args:s},headers:{"X-Confirmation":o.encodeString(n)}}).then((function(t){r&&e.reload(),l.resolve(t)}),(function(){o.getConfirmation(c)}))};o.getConfirmation(c)}else t({method:"PUT",url:a,data:{operation:i,args:s}}).then((function(t){r&&e.reload(),l.resolve(t)}),(function(){}));return l.promise},runAdminOperation:function(e,t,n){return this.runOperation("api/admin/config",e,t,n)},runUserOperation:function(e,t,n){return this.runOperation("api/user/operations",e,t,n)},runRecipientOperation:function(e,t,n){return this.runOperation("api/recipient/operations",e,t,n)},removeFile:function(t,n,a){for(var i=n.length-1;i>=0;i--)n[i]===a&&(n.splice(i,1),a.abort());e.$broadcast("GL::uploadsUpdated",{})},notifyException:function(e){var n=/([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})/g,a=/(([\w+-.]){0,100}[\w]{1,100}@([\w+-.]){0,100}.[\w]{1,100})/g;return t.post("api/exception",e.replace(n,"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx").replace(a,"~~~~~~@~~~~~~"))}}}]).factory("mediaProcessor",["Utils",function(e){return{enableNoiseSuppression:async function(e){if("noiseSuppression"in navigator.mediaDevices.getSupportedConstraints())try{const t={noiseSuppression:!0};e.getAudioTracks().forEach((e=>{e.applyConstraints(t)}))}catch(e){console.error("Error applying noise suppression:",e)}},createHighPassFilter:function(e){const t=e.createBiquadFilter();return t.type="highpass",t.frequency.value=300,t},createLowPassFilter:function(e){const t=e.createBiquadFilter();return t.type="lowpass",t.frequency.value=3e3,t},createDynamicCompressor:function(e){var t=e.createDynamicsCompressor();return t.threshold.value=-50,t.knee.value=40,t.ratio.value=12,t.reduction.value=-20,t.attack.value=0,t.release.value=.25,t}}}]).factory("fieldUtilities",["$filter","$http","CONSTANTS",function(e,t,n){var a=function(e,t){return 0===t.children.length?(e[t.id]=t,e):(e[t.id]=t,t.children.reduce(a,e))};return{getClass:function(e,t){return 0!==e.width?"col-md-"+e.width:"col-md-"+(t>12?1:12/t)},getValidator:function(e){var t={custom:e.attrs.regexp?e.attrs.regexp.value:"",none:"",email:n.email_regexp,number:n.number_regexp,phonenumber:n.phonenumber_regexp};return e.attrs.input_validation?t[e.attrs.input_validation.value]:""},minY:function(t){return e("min")(e("map")(t,"y"))},splitRows:function(e){var t=[],n=null;return angular.forEach(e,(function(e){n!==e.y&&(n=e.y,t.push([])),t[t.length-1].push(e)})),t},flatten_field:a,build_field_id_map:function(e){return e.steps.reduce((function(e,t){return t.children.reduce(a,e)}),{})},underscore:function(e){return e.replace(new RegExp("-","g"),"_")},stepFormName:function(e){return"stepForm_"+this.underscore(e)},fieldFormName:function(e){return"fieldForm_"+this.underscore(e)},findField:function(e,t){var n;for(var a in e){if(a===t)return e[a][0];if(e.hasOwnProperty(a)&&e[a]instanceof Array&&e[a].length&&void 0!==(n=this.findField(e[a][0],t)))return n}return n},isFieldTriggered:function(e,t,n,a,i){var s,r=0;if(n.enabled=!1,null!==t&&(!t.enabled||"submissionpage"===e.page&&"whistleblower_identity"===t.template_id&&!e.submission._submission.identity_provided))return!1;if(n.triggered_by_score>i)return!1;if(!n.triggered_by_options||0===n.triggered_by_options.length)return n.enabled=!0,!0;for(s=0;s<n.triggered_by_options.length;s++){var o=n.triggered_by_options[s],l=this.findField(a,o.field);if(void 0!==l&&(o.option===l.value||l.hasOwnProperty(o.option)&&l[o.option])){if(o.sufficient)return n.enabled=!0,!0;r+=1}}return r===n.triggered_by_options.length&&(n.enabled=!0,!0)},calculateScore:function(e,t,n){var a,i,s=this;if(["selectbox","multichoice"].indexOf(t.type)>-1)for(i=0;i<t.options.length;i++)n.value===t.options[i].id&&("addition"===t.options[i].score_type?e.points_to_sum+=t.options[i].score_points:"multiplier"===t.options[i].score_type&&(e.points_to_mul*=t.options[i].score_points));else if("checkbox"===t.type)for(i=0;i<t.options.length;i++)n[t.options[i].id]&&("addition"===t.options[i].score_type?e.points_to_sum+=t.options[i].score_points:"multiplier"===t.options[i].score_type&&(e.points_to_mul*=t.options[i].score_points));else if("fieldgroup"===t.type)return void angular.forEach(t.children,(function(t){angular.forEach(n[t.id],(function(n){s.calculateScore(e,t,n)}))}));(a=e.points_to_sum*e.points_to_mul)<e.context.score_threshold_medium?e.score=1:a<e.context.score_threshold_high?e.score=2:e.score=3},updateAnswers:function(e,t,n,a){var i,s,r,o,l=this,c=!1,d=!1;return angular.forEach(n,(function(n){if(l.isFieldTriggered(e,t,n,e.answers,e.score)?n.id in a||(a[n.id]=[{}]):n.id in a&&(a[n.id]=[{}]),n.id in a)for(r=0;r<a[n.id].length;r++)d|=l.updateAnswers(e,n,n.children,a[n.id][r]);else d|=l.updateAnswers(e,n,n.children,{});if(!n.enabled)return!1;for(c|=d,e.public.node.enable_scoring_system&&angular.forEach(e.answers[n.id],(function(t){l.calculateScore(e,n,t)})),r=0;r<a[n.id].length;r++){if(i=a[n.id][r],["inputbox","textarea"].indexOf(n.type)>-1)i.required_status=(n.required||n.attrs.min_len.value>0)&&!i.value;else if("checkbox"===n.type)if(n.required){for(i.required_status=!0,o=0;o<n.options.length;o++)if(i[n.options[o].id]){i.required_status=!1;break}}else i.required_status=!1;else["fileupload","voice"].indexOf(n.type)>-1?i.required_status=n.required&&(!e.uploads[n.id]||!e.uploads[n.id].files.length):i.required_status=n.required&&!i.value;if(c|=i.required_status,["checkbox","selectbox","multichoice"].indexOf(n.type)>-1)for(o=0;o<n.options.length;o++)(s=n.options[o]).set=!1,"checkbox"===n.type?i[s.id]&&(s.set=!0):s.id===i.value&&(s.set=!0),s.set&&(s.block_submission&&(e.block_submission=!0),s.trigger_receiver.length&&e.replaceReceivers(s.trigger_receiver))}})),c},onAnswersUpdate:function(e){var t=this,n=!1;return e.block_submission=!1,e.score=0,e.points_to_sum=0,e.points_to_mul=1,!!e.questionnaire&&(e.context&&e.submission.setContextReceivers(e.context.id),angular.forEach(e.questionnaire.steps,(function(a){a.enabled=t.isFieldTriggered(e,null,a,e.answers,e.score),n|=t.updateAnswers(e,a,a.children,e.answers)})),e.context&&(e.submission._submission.score=e.score,e.submission.blocked=e.block_submission),n)},parseField:function(e,t){var n=this;return Object.keys(t).length||(t.fields=[],t.fields_by_id={},t.options_by_id={}),["checkbox","selectbox","multichoice"].indexOf(e.type)>-1?(t.fields_by_id[e.id]=e,t.fields.push(e),e.options.forEach((function(e){t.options_by_id[e.id]=e}))):"fieldgroup"===e.type&&e.children.forEach((function(e){n.parseField(e,t)})),t},parseFields:function(e,t){var n=this;return e.forEach((function(e){t=n.parseField(e,t)})),t},parseQuestionnaire:function(e,t){var n=this;return e.steps.forEach((function(e){t=n.parseFields(e.children,t)})),t}}}]).factory("GLTranslate",["$translate","$location","$window","tmhDynamicLocale",function(e,t,n,a){var i={userChoice:null,urlParam:null,userPreference:null,nodeDefault:null},s=[],r={language:null};function o(e){return"string"==typeof e&&(!s.length||s.indexOf(e)>-1)}function l(e){return null!==e&&(!s.length||-1!==s.indexOf(e))}function c(){var t,s;GL.language=r.language=function(e){var t="*";return l(e.userChoice)?t=e.userChoice:l(e.urlParam)?t=e.urlParam:l(e.userPreference)?t=e.userPreference:l(e.nodeDefault)&&(t=e.nodeDefault),t}(i),"*"!==r.language&&(t=r.language,s=-1!==["ar","dv","fa","fa_AF","he","ps","ug","ur"].indexOf(t),document.getElementsByTagName("html")[0].setAttribute("dir",s?"rtl":"ltr"),e.use(t).then((function(){})),t=t.replace("_","-").toLowerCase(),a.set(t),n.document.getElementsByTagName("html")[0].setAttribute("lang",r.language))}return function(){var e=t.search().lang;e&&o(e)&&(i.urlParam=e);c()}(),{state:r,setLang:function(e){angular.isUndefined(e)&&(e=r.language),o(e)&&(i.userChoice=e,c())},addNodeFacts:function(e,t){i.nodeDefault=e,s=t,c()},addUserPreference:function(e){i.userPreference=e,c()}}}]),angular.module("GL").run(["$templateCache",function(e){"use strict";e.put("views/actions/forced_password_change.html",'<div class="row">\n  <div class="col-md-12" data-translate>Before proceeding, please set a new password.</div>\n</div>\n<div class="row mt-3">\n  <div class="col-md-4">\n    <div data-ng-include="\'views/partials/password_change.html\'"></div>\n  </div>\n</div>\n'),e.put("views/actions/forced_two_factor.html",'<div class="row">\n  <div class="col-md-12" data-translate>Before proceeding, please enable the two factor authentication.</div>\n</div>\n<div class="row mt-3">\n  <div class="col-md-6" data-ng-include="\'views/partials/enable_2fa.html\'"></div>\n</div>\n<div class="row mt-3">\n  <div class="col-md-6">\n    <button data-ng-click="enable2FA(totp.token)" data-ng-disabled="totp.secret.length !== 32 || totp.token.length !== 6" class="btn btn-primary" data-translate>Enable</button>\n  </div>\n</div>\n'),e.put("views/admin/auditlog.html",'<div id="SectionContent" data-ng-controller="AdminAuditLogCtrl">\n  <uib-tabset>\n    <uib-tab data-ng-repeat="tab in tabs" heading="{{tab.title | translate}}">\n      <div class="tab-content" data-ng-include="tab.template"></div>\n    </uib-tab>\n  </uib-tabset>\n</div>\n'),e.put("views/admin/auditlog/tab1.html",'<table id="userList" class="table table-condensed table-striped">\n  <thead>\n    <tr>\n      <th data-translate>Date</th>\n      <th data-translate>Type</th>\n      <th data-translate>Severity</th>\n      <th data-translate>User</th>\n      <th data-translate>Object</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr data-ng-repeat="data in auditLog.auditlog.elems | orderBy:\'date\':true | limitTo:itemsPerPage:((auditLog.auditlog.currentPage - 1) * itemsPerPage)">\n      <td>{{data.date | date:\'dd-MM-yyyy HH:mm\'}}</td>\n      <td>{{data.type}}</td>\n      <td>{{data.severity}}</td>\n      <td>{{data.user_id}}</td>\n      <td>{{data.object_id}}</td>\n    </tr>\n  </tbody>\n</table>\n<div class="text-center" data-ng-show="auditLog.auditlog.elems.length > itemsPerPage | limitTo:itemsPerPage:((auditLog.auditlog.currentPage - 1) * itemsPerPage)">\n  <ul uib-pagination\n      total-items="auditLog.auditlog.elems.length"\n      first-text="<< {{\'First\' | translate}}"\n      last-text="{{\'Last\' | translate}} >>"\n      previous-text="< {{\'Previous\' | translate}}"\n      next-text="{{\'Next\' | translate}} >"\n      items-per-page="itemsPerPage"\n      data-ng-model="auditLog.auditlog.currentPage"\n      max-size="10"\n      class="pagination-sm"\n      boundary-links="true"\n      force-ellipses="true"></ul>\n</div>\n<button class="btn btn-sm btn-link" type="button" ng-csv="resources.auditlog" csv-label=\'true\' filename="auditlog.csv"><i class="fa-solid fa-download"></i> <span data-translate>Export</span></button>\n<span data-ng-if="resources.node.root_tenant">\n  <a class="btn btn-sm btn-link" type="button" data-ng-click="Utils.saveAs(\'globaleaks.log\', \'/api/admin/auditlog/debug\')"><i class="fa-solid fa-download"></i> <span>globaleaks.log</span></a>\n  <a class="btn btn-sm btn-link" type="button" data-ng-click="Utils.saveAs(\'access.log\', \'/api/admin/auditlog/access\')"><i class="fa-solid fa-download"></i> <span>access.log</span></a>\n</span>\n'),e.put("views/admin/auditlog/tab2.html",'<table id="userList" class="table table-condensed table-striped">\n  <thead>\n    <tr>\n      <th data-translate>ID</th>\n      <th data-translate>Username</th>\n      <th data-translate>Role</th>\n      <th data-translate>Name</th>\n      <th>2FA</th>\n      <th data-translate>Creation date</th>\n      <th data-translate>Last access</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr data-ng-repeat="user in auditLog.users.elems | orderBy:\'name\' | limitTo:itemsPerPage:((auditLog.users.currentPage - 1) * itemsPerPage)">\n      <td>{{user.id}}</td>\n      <td>{{user.username}}</td>\n      <td>{{user.role}}</td>\n      <td>{{user.name}}</td>\n      <td><i class="fa" data-ng-class="{\'fa-check\': user.two_factor, \'fa-times\': !user.two_factor}"></i></td>\n      <td>{{user.creation_date | date:\'dd-MM-yyyy HH:mm\'}}</td>\n      <td>{{user.last_login | date:\'dd-MM-yyyy HH:mm\'}}</td>\n    </tr>\n  </tbody>\n</table>\n<div class="text-center" data-ng-show="auditLog.users.elems.length > itemsPerPage | limitTo:itemsPerPage:((auditLog.users.currentPage - 1) * itemsPerPage)">\n  <ul uib-pagination\n      total-items="auditLog.users.elems.length"\n      first-text="<< {{\'First\' | translate}}"\n      last-text="{{\'Last\' | translate}} >>"\n      previous-text="< {{\'Previous\' | translate}}"\n      next-text="{{\'Next\' | translate}} >"\n      items-per-page="itemsPerPage"\n      data-ng-model="auditLog.users.currentPage"\n      max-size="10"\n      class="pagination-sm"\n      boundary-links="true"\n      force-ellipses="true"></ul>\n</div>\n<button class="btn btn-sm btn-link" type="button" ng-csv="resources.users" csv-label=\'true\' filename="users.csv"><i class="fa-solid fa-download"></i> <span data-translate>Export</span></button>\n'),e.put("views/admin/auditlog/tab3.html",'<table id="ReportsTable" class="table table-condensed table-striped">\n  <thead>\n    <tr>\n      <th><i class="fa-solid fa-hashtag"></i></th>\n      <th data-translate>Date</th>\n      <th data-translate>Last update</th>\n      <th data-translate>Expiration date</th>\n      <th data-translate>Channel</th>\n      <th data-translate>Status</th>\n      <th>Tor</th>\n      <th data-translate>Comments</th>\n      <th data-translate>Messages</th>\n      <th data-translate>Files</th>\n      <th data-translate>Whistleblower\'s last access</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr data-ng-repeat="tip in auditLog.tips.elems | orderBy:\'last_update\':true | limitTo:itemsPerPage:((auditLog.tips.currentPage - 1) * itemsPerPage)">\n      <td>{{tip.progressive}}</td>\n      <td>{{tip.creation_date | date:\'dd-MM-yyyy HH:mm\'}}</td>\n      <td>{{tip.last_update | date:\'dd-MM-yyyy HH:mm\'}}</td>\n      <td>{{tip.expiration_date | date:\'dd-MM-yyyy\'}}</td>\n      <td>{{contexts_by_id[tip.context_id][\'name\']}}</td>\n      <td>{{Utils.getSubmissionStatusText(tip.status, tip.substatus, submission_statuses)}}</td>\n      <td><i data-ng-if="itip.tor" class="fa-solid fa-check"></i></td>\n      <td>{{tip.comments}}</td>\n      <td>{{tip.messages}}</td>\n      <td>{{tip.files}}</td>\n      <td>{{tip.last_access | date:\'dd-MM-yyyy HH:mm\'}}</td>\n    </tr>\n  </tbody>\n</table>\n<div class="text-center" data-ng-show="auditLog.tips.elems.length > itemsPerPage">\n  <ul uib-pagination\n      total-items="auditLog.tips.elems.length"\n      first-text="<< {{\'First\' | translate}}"\n      last-text="{{\'Last\' | translate}} >>"\n      previous-text="< {{\'Previous\' | translate}}"\n      next-text="{{\'Next\' | translate}} >"\n      items-per-page="itemsPerPage"\n      data-ng-model="auditLog.tips.currentPage"\n      max-size="10"\n      class="pagination-sm"\n      boundary-links="true"\n      force-ellipses="true"></ul>\n</div>\n<button class="btn btn-sm btn-link" type="button" ng-csv="resources.tips" csv-label=\'true\' filename="reports.csv"><i class="fa-solid fa-download"></i> <span data-translate>Export</span></button>\n'),e.put("views/admin/auditlog/tab4.html",'<table id="AnomaliesHistoryTable" class="table table-condensed table-striped">\n  <thead>\n    <tr>\n      <th></th>\n      <th data-ng-repeat="t in [1,2,3,4,5,6,7,8,9,10]">#{{t}}</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr data-ng-repeat="job in resources.jobs | orderBy:\'name\'">\n      <td>{{job.name}}</td>\n      <td data-ng-repeat="t in [0,1,2,3,4,5,6,7,8,9]">\n        <div data-ng-if="job.timings[t]">\n          <div>{{(job.timings[t][1] - job.timings[t][0]) / 1000}}s</div>\n          <div>{{job.timings[t][0] | date:\'HH:mm:ss\'}}</div>\n          <div>{{job.timings[t][0] | date:\'dd-MM-yyyy\'}}</div>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n<button class="btn btn-sm btn-link" type="button" ng-csv="resources_export.jobs" csv-label=\'true\' filename="jobs.csv"><i class="fa-solid fa-download"></i> <span data-translate>Export</span></button>\n'),e.put("views/admin/casemanagement.html",'<form name="notificationForm" data-ng-controller="AdminCaseManagementCtrl" class="col-md-12" novalidate>\n  <uib-tabset>\n    <uib-tab data-ng-repeat="tab in tabs" heading="{{tab.title | translate}}">\n      <div class="tab-content" data-ng-include="tab.template"></div>\n    </uib-tab>\n  </uib-tabset>\n</form>\n'),e.put("views/admin/casemanagement/substatuses.html",'<div id="SubstatusEditBox">\n  <div class="row">\n    <span class="col-md-8">\n      <span data-translate>Substatuses</span>\n      <button class="btn btn-sm btn-primary" data-ng-click="toggleAddSubstatus()">\n        <i class="fa-solid fa-plus"></i>\n        <span data-translate>Add</span>\n      </button>\n    </span>\n  </div>\n  <div id="SubstatusAddBox" data-ng-controller="AdminSubmissionSubStatusAddCtrl" class="row" data-ng-if="showAddSubstatus">\n    <div class="col-md-6">\n      <div data-ng-form="newSubstatus">\n        <div class="row">\n          <div class="col-md-12">\n            <div class="form-group">\n              <label data-translate>Label</label>\n              <input name="label" class="form-control" data-ng-model="new_substatus.label" type="text" required>\n              <div class="text-danger" data-ng-show="newSubstatus.label.$error.required">\n                <span data-translate>This field is mandatory</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-md-12">\n            <div class="form-group clearfix">\n              <button class="float-left btn btn-primary" data-ng-disabled="newSubstatus.$invalid"\n                      data-ng-click="addSubmissionSubStatus(); toggleAddSubstatus()">\n                <i class="fa-solid fa-plus"></i>\n                <span data-translate>Add</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="row">\n    <div data-ng-repeat="substatus in submissions_status.substatuses" class="col-md-12">\n      <div data-ng-controller="AdminSubmissionSubStatusEditorCtrl">\n        <div class="configItem">\n          <div class="editorHeader row" data-ng-click="toggleSubstatusEditing(); $event.stopPropagation();">\n            <span class="col-md-7">\n              <span class="substatusLabel">{{substatus.label}}</span>\n            </span>\n            <span class="col-md-5 clearfix">\n              <span class="float-right">\n                <button data-ng-if="!$first" class="btn btn-sm btn-primary" data-ng-click="moveSsUp($event, $index)" data-uib-tooltip="{{\'Move up\' | translate}}">\n                  <i class="fa-solid fa-chevron-up"></i>\n                </button>\n                <button data-ng-if="!$last" class="btn btn-sm btn-primary" data-ng-click="moveSsDown($event, $index)" data-uib-tooltip="{{\'Move down\' | translate}}">\n                  <i class="fa-solid fa-chevron-down"></i>\n                </button>\n                <button class="btn btn-sm btn-outline-secondary" data-ng-show="!substatus_editing"\n                        data-ng-click="toggleSubstatusEditing(); $event.stopPropagation();">\n                  <span data-translate>Edit</span>\n                </button>\n                <button class="btn btn-sm btn-primary" data-ng-show="substatus_editing"\n                        data-ng-click="save_submissions_substatuses(substatus);">\n                  <span data-translate>Save</span>\n                </button>\n                <button class="btn btn-sm btn-outline-secondary" data-ng-show="substatus_editing"\n                        data-ng-click="toggleSubstatusEditing(); $event.stopPropagation();">\n                  <span data-translate>Cancel</span>\n                </button>\n                <button class="btn btn-sm btn-danger"\n                        data-ng-click="deleteSubSubmissionStatus(substatus); $event.stopPropagation();">\n                  <span data-translate>Delete</span>\n                </button>\n              </span>\n            </span>\n          </div>\n          <div data-ng-form="editStep" data-ng-if="substatus_editing">\n            <hr/>\n            <div class="row">\n              <div class="form-group">\n                <div class="col-md-6">\n                  <label data-translate>Label</label>\n                  <input class="form-control" data-ng-model="substatus.label" type="text" required/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("views/admin/casemanagement/tab1.html",'<div data-ng-controller="AdminSubmissionStatusCtrl" class="configSection">\n  <div>\n    <span data-translate>Report statuses</span>\n    <button class="btn btn-sm btn-primary show-add-user-btn" data-ng-click="toggleAddStatus()">\n      <i class="fa-solid fa-plus"></i>\n      <span data-translate>Add</span>\n    </button>\n  </div>\n  <div class="configSection row" data-ng-controller="AdminSubmissionStatusAddCtrl" data-ng-if="showAddStatus">\n    <div data-ng-form="newSubmissionStatus" class="addSubmissionStatus col-md-6">\n      <div class="form-group">\n        <label>\n          <span data-translate>Label</span>\n          <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n        </label>\n        <div data-ng-class="{\'is-invalid\': newSubmissionStatus.submissions_status.$error.required}">\n          <input name="name" class="form-control" data-ng-model="new_submissions_status.label" type="text" required />\n        </div>\n      </div>\n      <div class="form-group">\n        <button id="add-btn" class="btn btn-primary" data-ng-disabled="newSubmissionStatus.$invalid" data-ng-click="addSubmissionStatus(); toggleAddStatus()"\n          type="submit">\n          <i class="fa-solid fa-plus"></i>\n          <span data-translate>Add</span>\n        </button>\n      </div>\n    </div>\n  </div>\n  <div data-ng-repeat="submissions_status in resources.submission_statuses">\n    <div data-ng-controller="AdminSubmissionStatusEditorCtrl" class="submissionStatusList">\n      <div data-ng-form="submissionStatus-{{$index}}" name="editsubmissionStatus">\n        <div class="configItem">\n          <div class="editorHeader row" data-ng-click="toggleEditing(); $event.stopPropagation();">\n            <span class="col-md-7">{{submissions_status.label | translate}}</span>\n            <span class="col-md-5 clearfix">\n              <span class="float-right">\n                <button data-ng-if="!$first" class="btn btn-sm btn-primary" data-ng-click="moveUp($event, $index)" data-uib-tooltip="{{\'Move up\' | translate}}">\n                  <i class="fa-solid fa-chevron-up"></i>\n                </button>\n                <button data-ng-if="!$last" class="btn btn-sm btn-primary" data-ng-click="moveDown($event, $index)" data-uib-tooltip="{{\'Move down\' | translate}}">\n                  <i class="fa-solid fa-chevron-down"></i>\n                </button>\n                <button class="btn btn-sm btn-outline-secondary" data-ng-show="isEditable() && !editing" data-ng-click="toggleEditing(); $event.stopPropagation();">\n                  <span data-translate>Edit</span>\n                </button>\n                <button class="btn btn-sm btn-primary" data-ng-show="editing" data-ng-disabled="editSubmissionStatus.$invalid" data-ng-click="save_submissions_status(submissions_status); toggleEditing();">\n                  <span data-translate>Save</span>\n                </button>\n                <button class="btn btn-sm btn-outline-secondary" data-ng-show="editing" data-ng-click="toggleEditing(); $event.stopPropagation();">\n                  <span data-translate>Cancel</span>\n                </button>\n                <button class="btn btn-sm btn-danger" data-ng-if="!isSystemDefined(submissions_status)" data-ng-click="deleteSubmissionStatus(); $event.stopPropagation();">\n                  <span data-translate>Delete</span>\n                </button>\n              </span>\n            </span>\n          </div>\n          <div data-ng-if="editing">\n            <hr />\n            <div class="row">\n              <div class="col-md-6" data-ng-if="!isSystemDefined(submissions_status)">\n                <div class="form-group">\n                  <label data-translate>Label</label>\n                  <input name="name" class="form-control" data-ng-model="submissions_status.label" data-ng-disabled="submissions_status.system_defined" type="text" required>\n                  <div class="text-danger" data-ng-show="editSubmissionStatus.name.$error.required" data-translate>This field is mandatory</div>\n                </div>\n              </div>\n              <div class="col-md-12" data-ng-include="\'views/admin/casemanagement/substatuses.html\'"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("views/admin/contexts.html",'<div class="configSection" data-ng-controller="AdminContextsCtrl">\n  <div>\n    <span data-translate>Channels</span>\n    <button class="btn btn-sm btn-primary show-add-context-btn" data-ng-click="toggleAddContext()">\n      <i class="fa-solid fa-plus"></i>\n      <span data-translate>Add</span>\n    </button>\n  </div>\n  <div class="row" data-ng-controller="AdminContextAddCtrl" data-ng-if="showAddContext">\n    <div data-ng-form="newContext" class="addContext col-md-6">\n      <div class="form-group">\n        <label>\n          <span data-translate>Name</span>\n          <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n        </label>\n        <div data-ng-class="{\'is-invalid\': newContext.name.$error.required}">\n          <input name="name" class="form-control" data-ng-model="new_context.name" type="text" required />\n        </div>\n      </div>\n      <div class="form-group">\n        <button id="add-btn" class="btn btn-primary" data-ng-disabled="newContext.$invalid"\n                data-ng-click="add_context(); toggleAddContext()" type="submit">\n          <i class="fa-solid fa-plus"></i>\n          <span data-translate>Add</span>\n        </button>\n      </div>\n    </div>\n  </div>\n  <div data-ng-repeat="context in resources.contexts">\n    <form id="context-{{$index}}" name="editContext" data-ng-controller="AdminContextEditorCtrl" novalidate>\n      <div class="configItem">\n        <div class="editorHeader row" data-ng-click="toggleEditing(); $event.stopPropagation();">\n          <span class="col-md-7">\n            <span>{{context.name}}</span>\n\t    <span class="badge badge-secondary" data-ng-if="context.hidden" data-translate>Hidden</span>\n          </span>\n          <span class="col-md-5 clearfix">\n            <span class="float-right">\n              <button data-ng-if="!$first && !resources.node.show_contexts_in_alphabetical_order"\n\t\t      class="btn btn-sm btn-primary"\n\t\t      data-ng-click="moveUp($event, $index)"\n                      data-uib-tooltip="{{\'Move up\' | translate}}">\n                <i class="fa-solid fa-chevron-up"></i>\n              </button>\n              <button data-ng-if="!$last && !resources.node.show_contexts_in_alphabetical_order"\n\t\t      class="btn btn-sm btn-primary"\n\t\t      data-ng-click="moveDown($event, $index)"\n                      data-uib-tooltip="{{\'Move down\' | translate}}">\n                <i class="fa-solid fa-chevron-down"></i>\n              </button>\n              <button class="btn btn-sm btn-outline-secondary"\n                      data-ng-show="!editing"\n                      data-ng-click="toggleEditing(); $event.stopPropagation();">\n                <span data-translate>Edit</span>\n              </button>\n              <button class="btn btn-sm btn-primary"\n                      data-ng-show="editing"\n                      data-ng-disabled="editContext.$invalid"\n                      data-ng-click="save_context(context)">\n                <span data-translate>Save</span>\n              </button>\n              <button class="btn btn-sm btn-outline-secondary"\n                      data-ng-show="editing"\n                      data-ng-click="toggleEditing(); $event.stopPropagation();">\n                <span data-translate>Cancel</span>\n              </button>\n              <button class="btn btn-sm btn-danger"\n                      data-ng-click="deleteContext(); $event.stopPropagation();">\n                <span data-translate>Delete</span>\n              </button>\n            </span>\n          </span>\n        </div>\n        <div data-ng-if="editing">\n          <hr/>\n          <div class="row">\n            <div class="col-md-6">\n              <div class="form-group">\n                <div data-image-upload data-image-upload-model="context" data-image-upload-model-attr="picture" data-image-upload-id="{{context.id}}"></div>\n              </div>\n              <div class="form-group">\n                <label data-translate>Name</label>\n                <input name="name" class="form-control" data-ng-model="context.name" type="text" required>\n                <div class="text-danger" data-ng-show="editContext.name.$error.required" data-translate>This field is mandatory</div>\n              </div>\n              <div class="form-group">\n                <label data-translate>Description</label>\n                <textarea name="description" class="form-control" data-ng-model="context.description"></textarea>\n              </div>\n              <div class="form-group">\n                <label data-translate>Questionnaire</label>\n                <select class="form-control" data-ng-model="context.questionnaire_id"\n                        data-ng-options="item.id as item.name for item in resources.questionnaires"></select>\n              </div>\n              <div class="form-group">\n                <label>\n                  <span data-translate>Recipients</span>\n                  <button class="btn btn-sm btn-primary add-receiver-btn" data-ng-click="toggleSelect()">\n                    <i class="fa-solid fa-plus"></i>\n                    <span data-translate>Add</span>\n                  </button>\n                </label>\n                <div id="ReceiverContextAdder" class="row">\n                  <div class="col-md-12" data-ng-if="showSelect">\n                    <ui-select data-ng-model="selected.value" data-theme="bootstrap"\n                               data-on-select=\'moveReceiver($item)\'>\n                      <ui-select-match data-ng-attr-placeholder="{{\'Search\' | translate}}">\n                        <span data-ng-bind="$select.selected.name"></span>\n                      </ui-select-match>\n                      <ui-select-choices data-repeat="receiver in resources.users | filter: {role: \'receiver\', name: $select.search} | filter:receiverNotSelectedFilter">\n                        <span data-ng-bind-html="receiver.name | highlight: $select.search"></span>\n                      </ui-select-choices>\n                    </ui-select>\n                    <br/>\n                  </div>\n                </div>\n                <ol class="selectionList">\n                  <li data-ng-repeat="receiver in context.receivers">\n                    <span data-ng-controller="AdminContextReceiverSelectorCtrl">\n                      <span data-ng-if="!context.show_receivers_in_alphabetical_order">\n                        <span data-ng-if="!$first" data-ng-click="moveUp($index)"\n                              data-uib-tooltip="{{\'Move up\' | translate}}">\n                          <i class="fa-solid fa-chevron-up"></i>\n                        </span>\n                        <i data-ng-if="$first || $last" class="fa-solid fa-none"></i>\n                        <span data-ng-if="!$last" data-ng-click="moveDown($index)"\n                              data-uib-tooltip="{{\'Move down\' | translate}}">\n                          <i class="fa-solid fa-chevron-down"></i>\n                        </span>\n                      </span>\n                      <span data-ng-click="context.receivers.splice($index, 1)"\n                            data-uib-tooltip="{{\'Remove\' | translate}}">\n                        <i class="fa-solid fa-times"></i>\n                      </span>\n                    </span>\n                    <span>{{admin_receivers_by_id[receiver].name}}</span>\n                  </li>\n                </ol>\n              </div>\n              <div class="form-group">\n                <div>\n                  <span data-ng-class="{\'is-invalid\': editContext.reminder.$invalid}">\n                    <div class="input-group">\n                      <div class="dual_title"><span data-translate>Reminder date</span> (<span data-translate>days</span>)</div>\n                    </div>\n                    <div class="input-group">\n                      <input class="form-control" name="reminder" ng-change="onReminderChanged()" data-ng-model="context.tip_reminder" type="number" min="0"/>\n                    </div>\n                  </span>\n                  <div data-translate>Set the value to 0 to disable this feature.</div>\n                </div>\n              </div>\n              <div class="form-group">\n                <label>\n                  <span data-translate>Expiration date</span> (<span data-translate>days</span>)\n                </label>\n                <div>\n                  <span data-ng-class="{\'is-invalid\': editContext.timetolive.$invalid}">\n                    <input class="form-control" name="timetolive" data-ng-model="context.tip_timetolive" type="number" min="0" max="3650"/>\n                  </span>\n                  <div data-translate>Set the value to 0 to disable this feature.</div>\n                </div>\n              </div>\n              <div class="form-group">\n                <input data-ng-model="context.hidden" type="checkbox" />\n                <label data-translate>Hidden</label>\n              </div>\n            </div>\n          </div>\n          <hr/>\n          <div class="row">\n            <div class="col-md-12">\n              <button class="btn btn-primary" data-ng-click="show_advanced_settings = !show_advanced_settings"\n                      data-ng-init="show_advanced_settings=false">\n                <i data-ng-if="!show_advanced_settings" class="fa-solid fa-plus"></i>\n                <i data-ng-if="show_advanced_settings" class="fa-solid fa-minus"></i>\n                <span data-translate>Advanced</span>\n              </button>\n              <div id="ContextAdvancedSettingsBox">\n                <div class="row" data-ng-show="show_advanced_settings">\n                  <div class="col-md-6">\n                    <div class="form-group">\n                      <label class="inline-checkbox">\n                        <input data-ng-model="context.show_steps_navigation_interface" type="checkbox"/>\n                        <span data-translate>Show the questionnaire navigation interface</span>\n                      </label>\n                    </div>\n                    <div class="form-group">\n                      <label class="inline-checkbox">\n                        <input data-ng-model="context.allow_recipients_selection" type="checkbox"/>\n                        <span data-translate>Allow whistleblowers to select their recipients</span>\n                      </label>\n                    </div>\n                    <div data-ng-show="context.allow_recipients_selection" class="form-group well">\n                      <div class="form-group">\n                        <label class="inline-checkbox">\n                          <input data-ng-model="context.select_all_receivers"\n                                 data-ng-disabled="!context.allow_recipients_selection"\n                                 type="checkbox"\n                                 data-ng-click="context.maximum_selectable_receivers=0"/>\n                          <span data-translate>Select all recipients by default</span>\n                        </label>\n                      </div>\n                      <div class="form-group">\n                        <label class="inline-checkbox">\n                          <span data-translate>Maximum number of selectable recipients:</span>\n                          <input class="form-control" data-ng-model="context.maximum_selectable_receivers"\n                                 type="number" min="0" data-ng-disabled="context.select_all_receivers"/>\n                          <div data-translate>Set the value to 0 to disable this feature.</div>\n                        </label>\n                      </div>\n                      <div class="form-group">\n                        <label class="inline-checkbox">\n                          <input data-ng-model="context.show_receivers_in_alphabetical_order" type="checkbox"/>\n                          <span data-translate>Show recipients in alphabetical order</span>\n                        </label>\n                      </div>\n                    </div>\n                    <div class="form-group">\n                      <label class="inline-checkbox">\n                        <input data-ng-model="context.show_recipients_details" type="checkbox"/>\n                        <span data-translate>Show recipient details on the status page of the report</span>\n                      </label>\n                    </div>\n                    <div class="form-group">\n                      <label class="inline-checkbox">\n                        <input data-ng-model="context.enable_comments" type="checkbox"/>\n                        <span data-translate>Enable comments</span>\n                      </label>\n                    </div>\n                    <div class="form-group">\n                      <label class="inline-checkbox" data-ng-if="context.enable_comments">\n                        <input data-ng-model="context.enable_two_way_comments" type="checkbox"/>\n                        <span data-translate>Allow the whistleblower to write comments</span>\n                      </label>\n                    </div>\n                    <div class="form-group">\n                      <label class="inline-checkbox">\n                        <input data-ng-model="context.enable_attachments" type="checkbox"/>\n                        <span data-translate>Allow the whistleblower to add attachments</span>\n                      </label>\n                    </div>\n                    <div class="form-group">\n                      <label data-translate>Additional questionnaire</label>\n                      <select class="form-control" data-ng-model="context.additional_questionnaire_id"\n                              data-ng-options="item.id as item.name for item in resources.questionnaires">\n                        <option data-ng-if="context.additional_questionnaire_id" value=\'\'></option>\n                      </select>\n                    </div>\n                    <div data-ng-if="resources.node.enable_scoring_system">\n                      <label data-ng-translate>Scoring system options</label>\n                      <div class="form-group well">\n                        <table class="table table-bordered">\n                          <thead>\n                          <th data-translate>Threshold</th>\n                          <th data-translate>Value</th>\n                          </thead>\n                          <tbody>\n                          <tr>\n                            <td data-translate>Medium</td>\n                            <td><input class="form-control" data-ng-model="context.score_threshold_medium"\n                                       type="number"/></td>\n                          </tr>\n                          <tr>\n                            <td data-translate>High</td>\n                            <td><input class="form-control" data-ng-model="context.score_threshold_high"\n                                       type="number"/></td>\n                          </tr>\n                          </tbody>\n                        </table>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <hr/>\n          <div class="form-group">UUID: <a href="#/submission?context={{context.id}}" target="_blank">{{context.id}}</a></div>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>\n'),e.put("views/admin/home.html",'<div id="AdminHomepage">\n  <uib-tabset>\n    <uib-tab data-index="0" heading="{{\'Home\' | translate}}">\n      <div class="tab-content" data-ng-include="\'views/partials/user_home.html\'"></div>\n    </uib-tab>\n    <uib-tab data-index="1">\n      <uib-tab-heading>\n        <i data-ng-if="resources.node.update_available" class="fa-solid fa-exclamation-sign text-danger"></i>\n        <span data-translate>Changelog</span>\n      </uib-tab-heading>\n      <div class="tab-content">\n        <label><span data-translate>Software version:</span> {{resources.node.version}}</label>\n        <div class="tos-text">{{resources.node.changelog}}</div>\n      </div>\n    </uib-tab>\n    <uib-tab data-index="2" heading="{{\'License\' | translate}}">\n      <div class="tab-content">\n        <div class="tos-text">{{resources.node.license}}</div>\n      </div>\n    </uib-tab>\n  </uib-tabset>\n</div>\n'),e.put("views/admin/network.html",'<div data-ng-controller="AdminNetworkCtrl">\n  <uib-tabset>\n    <uib-tab data-ng-repeat="tab in tabs" heading="{{tab.title | translate}}">\n      <div class="tab-content" data-ng-include="tab.template"></div>\n    </uib-tab>\n  </uib-tabset>\n</div>\n'),e.put("views/admin/network/access_control.html",'<div class="card card-default">\n  <div class="card-body">\n    <form name="adminIPAccessControlForm">\n      <div class="row">\n        <div class="col-md-12">\n          <div class="form-group">\n            <label data-translate>Restrict access to specific IP addresses</label>\n          </div>\n          <table class="table table-bordered">\n            <thead>\n              <tr>\n                <th data-translate>Role</th>\n                <th data-translate>Enabled</th>\n                <th data-translate>Allowed IP addresses</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td data-translate>Admin</td>\n                <td><input data-ng-model="resources.network.ip_filter_admin_enable" type="checkbox"></td>\n                <td><input data-ng-if="resources.network.ip_filter_admin_enable" class="form-control" name="ip_filter_list" data-ng-model="resources.network.ip_filter_admin" type="text" autocomplete="off" /></td>\n              </tr>\n              <tr data-ng-if="resources.network.enable_custodian">\n                <td data-translate>Custodian</td>\n                <td><input data-ng-model="resources.network.ip_filter_custodian_enable" type="checkbox"></td>\n                <td><input data-ng-if="resources.network.ip_filter_custodian_enable" class="form-control" name="ip_filter_list" data-ng-model="resources.network.ip_filter_custodian" type="text" autocomplete="off" /></td>\n              </tr>\n              <tr>\n                <td data-translate>Recipient</td>\n                <td><input data-ng-model="resources.network.ip_filter_receiver_enable" type="checkbox"></td>\n                <td><input data-ng-if="resources.network.ip_filter_receiver_enable" class="form-control" name="ip_filter_list" data-ng-model="resources.network.ip_filter_receiver" type="text" autocomplete="off" /></td>\n              </tr>\n            </tbody>\n          </table>\n          <div>\n            <div><span data-translate>Each entry must be separated with a comma.</span></div>\n            <div><span data-translate>Example:</span> <span>212.35.212.87,192.0.2.0/24,2001:db8::/32</span></div>\n          </div>\n        </div>\n      </div>\n      <hr />\n      <div class="row">\n        <div class="col-md-6">\n          <button id="AccessControlSave" class="btn btn-primary" data-ng-disabled="adminIPAccessControlForm.$invalid" data-ng-click="Utils.update(resources.network)" type="submit">\n            <i class="fa-solid fa-check"></i>\n            <span data-translate>Save</span>\n          </button>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>\n'),e.put("views/admin/network/https_csr_gen.html",'<div data-ng-form name="certSigRequestForm" class="form-horizontal was-validated clearfix">\n  <div class="form-group">\n    <label class="col-md-4 control-label" data-translate>Organization</label>\n    <div class="col-md-8">\n      <input class="form-control" data-ng-model="csr_cfg.company" name="company" />\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label class="col-md-4 control-label" data-translate>Email</label>\n    <div class="col-md-8">\n      <input class="form-control" data-ng-model="csr_cfg.email"\n             data-ng-class="{\'is-invalid\': certSigRequestForm.email.$invalid}"\n             name="email" type="text" data-ng-pattern="CONSTANTS.email_regexp_or_empty"/>\n      <div class="text-danger" data-ng-show="certSigRequestForm.email.$error.pattern">\n        <span data-translate>Invalid email address</span>\n      </div>\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label class="col-md-4 control-label" data-translate>City</label>\n    <div class="col-md-8">\n      <input class="form-control" data-ng-model="csr_cfg.city" name="city" type="text" />\n    </div>\n  </div>\n\n\n  <div class="form-group">\n    <label class="col-md-4 control-label" data-translate>Country</label>\n    <div class="col-md-8">\n      <input class="form-control" data-ng-model="csr_cfg.province" name="province" type="text" />\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label class="col-md-4 control-label" data-translate>Country code</label>\n    <div class="col-md-8">\n      <input class="form-control" data-ng-model="csr_cfg.country"\n             data-ng-class="{\'is-invalid\': certSigRequestForm.country.$error.pattern}"\n             name="country" type="text" maxlength="2" data-ng-pattern="CONSTANTS.country_code_regexp_or_empty" />\n    </div>\n  </div>\n\n  <button id="csrSubmit" class="btn btn-primary float-right"\n      data-ng-click="generateCSR()"\n      data-ng-disabled="certSigRequestForm.$invalid"\n      data-translate>Generate</button>\n</div>\n'),e.put("views/admin/network/https_files.html",'<div class="https-files">\n  <div class="card card-default key mb-1">\n    <div class="card-body clearfix">\n      <span data-translate>Private Key</span>\n      <span>(PEM)</span>\n      <span class="float-right">\n        <span class="file-upload" data-ng-if="!tls_config.files.key.set">\n          <label id="keyUpload" file-input="postFile(file, file_resources.key)" file-input-label="Upload" class="file-upload btn btn-sm btn-primary"></label>\n        </span>\n        <button id="pkGen" class="btn btn-sm btn-primary" data-ng-if="!tls_config.files.key.set" data-ng-click="gen_key()">\n            <i class="fa-solid fa-cog"></i>\n          <span data-translate>Generate</span>\n        </button>\n        <span data-ng-if="tls_config.files.key.set">\n          <button id="deleteKey" class="btn btn-sm btn-danger" data-ng-click="deleteFile(file_resources.key)" data-ng-if="!tls_config.enabled">\n            <i class="fa-solid fa-times"></i>\n            <span data-translate>Delete</span>\n          </button>\n        </span>\n      </span>\n    </div>\n  </div>\n\n  <div data-ng-if="tls_config.files.key.set && !tls_config.acme" class="card card-default csr mb-1">\n    <div class="card-body clearfix">\n      <span data-translate>Certificate Signing Request</span>\n      <span>(PEM)</span>\n      <span data-ng-if="!tls_config.files.csr.set">\n        <span class="float-right">\n          <button id="csrGen" class="btn btn-sm btn-primary" data-ng-hide="csr_state.open" data-ng-click="csr_state.open = true">\n            <i class="fa-solid fa-cog"></i>\n            <span data-translate>Generate</span>\n          </button>\n          <button type="submit" class="close" data-ng-show="csr_state.open" data-ng-click="csr_state.open = false" aria-label="Close">&times;</button>\n        </span>\n        <div data-ng-show="csr_state.open">\n          <hr />\n          <div data-ng-include="\'views/admin/network/https_csr_gen.html\'"></div>\n        </div>\n      </span>\n    </div>\n  </div>\n\n  <div class="card card-default cert mb-1">\n    <div class="card-body clearfix">\n      <span data-translate>Certificate</span>\n      <span>(PEM)</span>\n      <span data-ng-show="tls_config.files.cert.set" class="badge badge-primary">\n        <span data-translate>Valid until:</span> {{tls_config.files.cert.expiration_date | date:\'dd-MM-yyyy HH:mm\'}}\n        <span data-translate>Issuer:</span> <b>{{tls_config.files.cert.issuer}}</b>\n      </span>\n      <span class="float-right">\n        <span class="file-upload" data-ng-if="!tls_config.files.cert.set">\n          <label id="certUpload" file-input="postFile(file, file_resources.cert)" file-input-label="Upload" class="file-upload btn btn-sm btn-primary"></label>\n        </span>\n        <span data-ng-if="tls_config.files.cert.set">\n          <button id="deleteCert" class="btn btn-sm btn-danger" data-ng-click="deleteFile(file_resources.cert)" data-ng-if="!tls_config.enabled">\n            <i class="fa-solid fa-times"></i>\n            <span data-translate>Delete</span>\n          </button>\n        </span>\n      </span>\n    </div>\n  </div>\n\n  <div class="card card-default chain mb-1">\n    <div class="card-body clearfix">\n      <span data-translate>Intermediate Certificates</span>\n      <span>(PEM)</span>\n      <span data-ng-show="tls_config.files.chain.set" class="badge badge-primary">\n        <span data-translate>Valid until:</span> {{tls_config.files.chain.expiration_date | date:\'dd-MM-yyyy HH:mm\'}}\n        <span data-translate>Issuer:</span> <b>{{tls_config.files.chain.issuer}}</b>\n      </span>\n      <div class="float-right">\n        <span class="file-upload" data-ng-if="!tls_config.files.chain.set">\n          <label id="chainUpload" file-input="postFile(file, file_resources.chain)" file-input-label="Upload" class="file-upload btn btn-sm btn-primary" data-ng-if="!tls_config.enabled"></label>\n        </span>\n        <span data-ng-if="tls_config.files.chain.set">\n          <button id="deleteChain" class="btn btn-sm btn-danger" data-ng-click="deleteFile(file_resources.chain)" data-ng-if="!tls_config.enabled">\n            <i class="fa-solid fa-times"></i>\n            <span data-translate>Delete</span>\n          </button>\n        </span>\n      </div>\n    </div>\n  </div>\n</div>\n\n<button data-ng-if="!tls_config.enabled && state > 1" class="btn btn-primary" data-ng-click="toggleCfg()" data-translate>Enable</button>\n<button data-ng-if="tls_config.enabled" class="btn btn-danger" data-ng-click="toggleCfg()" data-translate>Disable</button>\n<button class="btn btn-danger" data-ng-click="resetCfg()" data-translate>Reset</button>\n'),e.put("views/admin/network/https_setup.html",'<div class="mt-3 mb-3" data-translate>The platform supports the configuration of HTTPS through this interface.</div>\n<div class="row">\n  <div class="col-md-6">\n    <div class="card card-default">\n      <div class="card-header" data-translate>Automatic configuration</div>\n      <div class="card-body">\n        <p>\n          <span data-translate>Using automatic HTTPS configuration will handle the entire process of requesting, enabling and renewing certificates from the Let\'s Encrypt Certificate Authority.</span> <span data-translate>The platform must be reachable through a public IP address and the selected hostname must have a DNS record referencing that address.</span>\n        </p>\n        <button id="HTTPSAutoMode" class="btn btn-primary" data-ng-click="setupAcme()" data-translate>Proceed</button>\n      </div>\n    </div>\n  </div>\n  <div class="col-md-6">\n    <div class="card card-default">\n      <div class="card-header" data-translate>Manual configuration</div>\n      <div class="card-body">\n        <p data-translate>The manual configuration wizard will guide you through the setup of HTTPS from an alternative Certificate Authority.</p>\n        <button id="HTTPSManualMode" class="btn btn-primary" data-ng-click="setup()" data-translate>Proceed</button>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("views/admin/network/https_status.html",'<div class="info-section">\n  <div>\n    <div>\n      <span data-translate>Status</span><span>: </span>\n\n      <span data-ng-if="tls_config.enabled">\n        <span data-translate>Enabled</span>\n      </span>\n\n      <span data-ng-if="!tls_config.enabled">\n        <span data-translate>Disabled</span>\n      </span>\n    </div>\n\n    <div data-ng-if="tls_config.acme">\n      <span data-translate>Auto-renewal</span>: <span data-translate>Enabled</span>\n    </div>\n  </div>\n\n  <div class="hostname">\n    <div data-ng-if="tls_config.enabled">\n      <span>URL</span><span>:</span>\n      <a href="https://{{resources.network.hostname}}" rel="noreferrer" target="_blank">https://{{resources.network.hostname}}</a>\n    </div>\n  </div>\n</div>\n'),e.put("views/admin/network/https.html",'<div class="form-group">\n  <form name="adminNetForm" novalidate>\n    <p class="input-group">\n      <span class="input-group-prepend"><span class="input-group-text" data-translate>Hostname</span></span>\n      <input name="hostname"\n             class="form-control"\n             type="text"\n             data-ng-model="hostname"\n\t     data-ng-init="hostname=public.node.hostname"\n             data-ng-pattern="CONSTANTS.hostname_regexp"\n\t     data-ng-class="{\'is-invalid\': adminNetForm.hostname.$error.pattern}"/>\n      <span class="input-group-append">\n        <button class="btn btn-primary" data-ng-click="Utils.runAdminOperation(\'set_hostname\', {\'value\': hostname}, true)" data-ng-disabled="adminNetForm.$pristine" data-translate>Save</button>\n      </span>\n    </p>\n  </form>\n</div>\n<div id="HTTPSSettings" data-ng-controller="AdminHTTPSConfigCtrl" data-ng-show="public.node.hostname">\n  <div class="card card-default">\n    <div class="card-body" data-ng-switch="menuState">\n      <div data-ng-include="\'views/admin/network/https_status.html\'"></div>\n      <div data-ng-switch-when="setup">\n        <div data-ng-include="\'views/admin/network/https_setup.html\'"></div>\n      </div>\n      <div data-ng-switch-default="files">\n        <div data-ng-include="\'views/admin/network/https_files.html\'"></div>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("views/admin/network/tor.html",'<div class="form-group">\n  <div class="input-group">\n    <span class="input-group-prepend">\n      <span class="input-group-text" data-translate>Tor Onion Service</span>\n    </span>\n    <input name="onionservice" class="form-control" type="text" value="{{resources.network.onionservice}}" disabled />\n    <span class="input-group-append">\n      <button class="btn btn-danger" data-ng-disabled="torOnionResetInProgress" data-ng-click="resetOnionPrivateKey()">\n        <i class="fa-solid fa-sync"></i>\n        <span data-translate>Regenerate</span>\n      </button>\n    </span>\n  </div>\n</div>\n\n<div class="card card-default">\n  <div class="card-body">\n    <form name="adminNetForm">\n      <div class="row">\n        <div class="col-md-12">\n          <div class="form-group" data-ng-if="resources.node.root_tenant">\n            <input data-ng-model="resources.network.anonymize_outgoing_connections" type="checkbox">\n            <label data-translate>Anonymize outgoing connections</label>\n          </div>\n\n          <div class="form-group">\n            <input data-ng-model="resources.network.reachable_via_web" type="checkbox">\n            <label data-translate>Let the platform be reachable without Tor</label>\n          </div>\n\n          <div data-ng-show="resources.network.reachable_via_web">\n            <div class="form-group">\n              <label data-translate>Roles enabled to use the platform without Tor</label>\n            </div>\n            <table class="table table-bordered">\n              <thead>\n                <th data-translate>Role</th>\n                <th data-translate>Enabled</th>\n              </thead>\n              <tbody>\n                <tr>\n                  <td data-translate>Admin</td>\n                  <td>\n                    <input data-ng-model="resources.network.https_admin" type="checkbox">\n                  </td>\n                </tr>\n                <tr data-ng-if="resources.network.enable_custodian">\n                  <td data-translate>Custodian</td>\n                  <td>\n                    <input data-ng-model="resources.network.https_custodian" type="checkbox">\n                  </td>\n                </tr>\n                <tr>\n                  <td data-translate>Recipient</td>\n                  <td>\n                    <input data-ng-model="resources.network.https_receiver" type="checkbox">\n                  </td>\n                </tr>\n                <tr>\n                  <td data-translate>Whistleblower</td>\n                  <td>\n                    <input data-ng-model="resources.network.https_whistleblower" type="checkbox">\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n      <hr />\n      <div class="row">\n        <div class="col-md-6">\n          <button class="btn btn-primary" data-ng-disabled="adminNetForm.$invalid" data-ng-click="Utils.update(resources.network)" type="submit">\n            <i class="fa-solid fa-check"></i>\n            <span data-translate>Save</span>\n          </button>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>\n'),e.put("views/admin/network/url_redirects.html",'<div class="row">\n  <div class="col-md-12">\n    <div data-ng-form="redirectAddForm" class="form-inline" isolate-form>\n      <div class="form-group d-block">\n\t<div class="input-group">\n          <span class="input-group-prepend"><span class="input-group-text" data-translate>From</span></span>\n          <input type="text" class="form-control" name="path1" data-ng-model="new_redirect.path1" />\n        </div>\n      </div>\n      <div class="form-group d-block ml-2">\n\t<span class="input-group">\n          <span class="input-group-prepend"><span class="input-group-text" data-translate>To</span></span>\n          <input type="text" class="form-control" name="path2" data-ng-model="new_redirect.path2" />\n\t</span>\n      </div>\n      <button type="submit"\n              class="btn btn-primary ml-2"\n              data-ng-disabled="redirectAddForm.$invalid"\n              data-ng-click="add_redirect()">\n        <i class="fa-solid fa-plus"></i>\n        <span data-translate>Add</span>\n      </button>\n    </div>\n  </div>\n</div>\n<br />\n<div class="row">\n  <div class="col-md-12">\n    <table class="table">\n      <thead>\n        <tr>\n          <th data-translate>From</th>\n          <th data-translate>To</th>\n          <th></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr data-ng-repeat="redirect in resources.redirects | orderBy:\'path1\'" data-ng-controller="AdminRedirectEditCtrl">\n          <td>{{redirect.path1}}</td>\n          <td>{{redirect.path2}}</td>\n          <td>\n            <button class="btn btn-sm btn-danger"\n                    data-ng-click="delete_redirect(redirect)">\n              <i class="fa-solid fa-trash"></i>\n              <span data-translate>Delete</span>\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n'),e.put("views/admin/notifications.html",'<form name="notificationForm" data-ng-controller="AdminMailCtrl" novalidate>\n  <uib-tabset>\n    <uib-tab data-ng-repeat="tab in tabs" heading="{{tab.title | translate}}">\n      <div class="tab-content" data-ng-include="tab.template"></div>\n    </uib-tab>\n  </uib-tabset>\n</form>'),e.put("views/admin/notifications/tab1.html",'<div id="UserWarnings">\n  <div class="alert alert-secondary" data-ng-show="resources.notification.smtp_server === \'mail.globaleaks.org\'">\n    <i class="fa-solid fa-exclamation-circle"></i>\n    <span data-translate>Default mail configuration in use. Please consider using a private mail server.</span>\n  </div>\n<div class="row">\n  <div class="col-md-12">\n    <div class="form-group">\n      <label data-translate>SMTP email address</label>\n      <input class="form-control" name="source_email" data-ng-model="resources.notification.smtp_source_email" data-ng-pattern="CONSTANTS.email_regexp" type="text" />\n    </div>\n    <div class="text-danger" data-ng-show="notificationForm.source_email.$error.pattern">\n      <span data-translate>Invalid email address</span>\n    </div>\n\n    <div class="form-group">\n      <label data-translate>SMTP server address</label>\n      <input class="form-control" data-ng-model="resources.notification.smtp_server" type="text" />\n    </div>\n\n    <div class="form-group">\n      <label data-translate>SMTP server port</label>\n      <input class="form-control" data-ng-model="resources.notification.smtp_port" type="number" />\n    </div>\n\n    <div class="form-group">\n      <label data-translate>Security</label>\n      <select class="form-control" data-ng-model="resources.notification.smtp_security">\n        <option value="PLAIN">PLAIN</option>\n        <option value="SSL">SMTPS</option>\n        <option value="TLS">SMTP/TLS</option>\n      </select>\n    </div>\n\n    <div class="form-group">\n      <input data-ng-model="resources.notification.smtp_authentication" type="checkbox">\n      <label data-translate>Require authentication</label>\n    </div>\n\n    <div data-ng-show="resources.notification.smtp_authentication">\n      <div class="form-group">\n        <label data-translate>Username</label>\n        <input class="form-control" data-ng-model="resources.notification.smtp_username" type="text" />\n      </div>\n      <div class="form-group">\n        <label data-translate>Password</label>\n        <input class="form-control" data-ng-model="resources.notification.smtp_password" type="password" placeholder="*****************" />\n      </div>\n    </div>\n    <div class="form-group">\n      <input data-ng-model="resources.notification.disable_admin_notification_emails" type="checkbox">\n      <label data-translate>Disable notifications to administrators</label>\n    </div>\n\n    <div class="form-group">\n      <input data-ng-model="resources.notification.disable_receiver_notification_emails" type="checkbox">\n      <label data-translate>Disable notifications to recipients</label>\n      <div data-ng-show="resources.notification.disable_receiver_notification_emails">\n        <span class="badge badge-danger" data-translate>Disabled</span>\n      </div>\n    </div>\n\n    <div class="form-group" data-ng-if="resources.node.enable_custodian">\n      <input data-ng-model="resources.notification.disable_custodian_notification_emails" type="checkbox">\n      <label data-translate>Disable notifications to custodians</label>\n      <div data-ng-show="resources.notification.disable_custodian_notification_emails">\n        <span class="badge badge-danger" data-translate>Disabled</span>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label data-translate>Number of hours before sending a report expiration alert</label>\n      <input class="form-control" data-ng-model="resources.notification.tip_expiration_threshold" type="number" />\n    </div>\n\n    <div class="form-group">\n      <button class="btn btn-primary" data-ng-disabled="notificationForm.$invalid" data-ng-click="Utils.update(resources.notification)" type="submit">\n        <i class="fa-solid fa-check"></i>\n        <span data-translate>Save</span>\n      </button>\n      <button data-uib-tooltip="{{\'Send a test email to your email address.\' | translate}}"\n              data-ng-click="updateThenTestMail()"\n              class="btn btn-primary">\n        <i class="fa-solid fa-envelope"></i>\n        <span data-translate>Test the configuration</span>\n      </button>\n      <button data-ng-click="Utils.runAdminOperation(\'reset_smtp_settings\', {}, true)"\n              class="btn btn-primary">\n        <span data-translate>Reset SMTP configuration</span>\n      </button>\n      <button data-ng-click="Utils.runAdminOperation(\'reset_templates\', {}, true)"\n              class="btn btn-primary">\n        <span data-translate>Reset notification templates to default</span>\n      </button>\n    </div>\n  </div>\n</div>\n'),e.put("views/admin/notifications/tab2.html",'<div class="row">\n  <div class="col-md-12">\n    <div class="form-group">\n      <label data-translate>Template</label>\n      <select name="template" class="form-control" data-ng-model="template" data-ng-options="t as t for t in resources.notification.templates"></select>\n    </div>\n\n    <br /><br />\n\n    <div class="row" data-ng-if="template">\n      <div class="col-md-12">\n        <div class="form-group">\n          <textarea data-ng-model="resources.notification[template]" class="form-control" rows="10"></textarea>\n        </div>\n\n        <div class="form-group">\n          <button class="btn btn-primary" data-ng-disabled="notificationForm.$invalid" data-ng-click="Utils.update(resources.notification)" type="submit">\n            <i class="fa-solid fa-check"></i>\n            <span data-translate>Save</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("views/admin/questionnaires.html",'<div data-ng-controller="AdminQuestionnaireCtrl">\n  <uib-tabset>\n    <uib-tab data-ng-repeat="tab in tabs" heading="{{tab.title | translate}}">\n      <div class="tab-content" data-ng-include="tab.template"></div>\n    </uib-tab>\n  </uib-tabset>\n</div>\n'),e.put("views/admin/questionnaires/add_field_from_template.html",'<div class="addFieldFromTemplate" data-ng-form="newField">\n  <div class="form-group">\n    <label data-translate>Type</label>\n    <select name="template_id" class="form-control" data-ng-model="new_field.template_id" data-ng-options="f.id as f.label for f in resources.fieldtemplates" required></select>\n    <div class="text-danger" data-ng-show="newField.template_id.$error.required">\n      <span data-translate>This field is mandatory</span>\n    </div>\n  </div>\n  <div class="form-group">\n    <button id="add-field-btn" data-ng-click="add_field_from_template(); toggleAddFieldFromTemplate()" class="btn btn-primary"\n            data-ng-disabled="newField.$invalid" type="button">\n      <i class="fa-solid fa-plus"></i>\n      <span data-translate>Add</span>\n    </button>\n  </div>\n</div>\n'),e.put("views/admin/questionnaires/add_field.html",'<div class="addField" data-ng-form="newField">\n  <div class="form-group">\n    <label data-translate>Question</label>\n    <input name="label" class="form-control" data-ng-model="new_field.label" type="text" required>\n    <div class="text-danger" data-ng-show="newField.label.$error.required">\n      <span data-translate>This field is mandatory</span>\n    </div>\n  </div>\n  <div class="form-group">\n    <label data-translate>Type</label>\n    <select name="type" class="form-control" data-ng-model="new_field.type" required>\n      <option value="inputbox" data-translate>Single-line text input</option>\n      <option value="audioUpload" data-translate>Audio recording</option>\n      <option value="textarea" data-translate>Multi-line text input</option>\n      <option value="selectbox" data-translate>Selection box</option>\n      <option value="multichoice" data-translate>Multiple choice input</option>\n      <option value="checkbox" data-translate>Checkbox</option>\n      <option value="fileupload" data-translate>Attachment</option>\n      <option value="tos" data-translate>Terms of service</option>\n      <option value="date" data-translate>Date</option>\n      <option value="daterange" data-translate>Date range</option>\n      <option value="voice" data-translate>Voice</option>\n      <option value="fieldgroup" data-translate>Group of questions</option>\n    </select>\n    <div class="text-danger" data-ng-show="newField.type.$error.required">\n      <span data-translate>This field is mandatory</span>\n    </div>\n  </div>\n  <div class="form-group">\n    <button id="add-field-btn" class="btn btn-primary" data-ng-disabled="newField.$invalid" data-ng-click="add_field(); toggleAddQuestion()">\n      <i class="fa-solid fa-plus"></i>\n      <span data-translate>Add</span>\n    </button>\n  </div>\n</div>\n'),e.put("views/admin/questionnaires/fields.html",'<div id="field-{{$index}}" class="fieldBox"\n  data-ng-init="editing=false" data-ng-controller="AdminFieldEditorCtrl">\n  <div data-ng-form="editField">\n    <div class="configItem">\n      <div class="editorHeader" data-ng-click="field.editable && toggleEditing(); $event.stopPropagation();">\n        <div class="row">\n          <span class="col-md-6">\n            <span>{{field.label}}</span>\n            <span class="fieldIndex badge badge-secondary" data-ng-if="field.step_id || field.fieldgroup_id">\n              <span data-translate>Row</span><span>: {{field.y}}</span>\n              <span data-translate>Column</span><span>: {{field.x}}</span>\n              <span data-translate>Width</span><span>: {{field.width}}</span>\n            </span>\n            <span class="fieldType badge badge-primary">\n              <span data-translate>Type</span><span>:</span>\n              <span data-ng-switch="field.type" data-ng-if="!field.template_id">\n                <span data-ng-switch-when="inputbox" data-translate>Single-line text input</span>\n                <span data-ng-switch-when="textarea" data-translate>Multi-line text input</span>\n                <span data-ng-switch-when="selectbox" data-translate>Selection box</span>\n                <span data-ng-switch-when="multichoice" data-translate>Multiple choice input</span>\n                <span data-ng-switch-when="checkbox" data-translate>Checkbox</span>\n                <span data-ng-switch-when="fileupload" data-translate>Attachment</span>\n                <span data-ng-switch-when="audioUpload" data-translate>Audio recording</span>\n                <span data-ng-switch-when="tos" data-translate>Terms of service</span>\n                <span data-ng-switch-when="date" data-translate>Date</span>\n                <span data-ng-switch-when="daterange" data-translate>Date range</span>\n                <span data-ng-switch-when="voice" data-translate>Voice</span>\n                <span data-ng-switch-when="fieldgroup" data-translate>Question group</span>\n                <span data-ng-switch-default="default">{{field.type}}</span>\n              </span>\n              <span data-ng-if="field.template_id" data-translate>Template</span>\n            </span>\n            <span data-ng-if="field.multi_entry" class="badge badge-default">\n              <span data-ng-switch="field.type">\n                <span data-ng-switch-when="fileupload" data-uib-tooltip="{{\'Accept multiple file uploads\' | translate}}"><i class="fa-solid fa-option-horizontal"></i></span>\n                <span data-ng-switch-default data-uib-tooltip="{{\'Accept multiple answers for the field\' | translate}}"><i class="fa-solid fa-option-horizontal"></i></span>\n              </span>\n            </span>\n            <span data-ng-if="field.required" class="badge badge-danger">\n              <span data-uib-tooltip="{{\'Mandatory\' | translate}}"><i class="fa-solid fa-asterisk"></i></span>\n            </span>\n          </span>\n          <span class="col-md-6 clearfix" data-ng-if="field.editable">\n            <span class="float-right">\n              <button class="btn btn-sm btn-outline-secondary"\n                data-ng-if="!editing"\n                data-ng-click="toggleEditing(); $event.stopPropagation();">\n                <span data-translate>Edit</span>\n              </button>\n              <button class="btn btn-sm btn-primary"\n                data-ng-if="editing"\n                data-ng-click="save_field(field)">\n                <span data-translate>Save</span>\n              </button>\n              <button\n                class="btn btn-sm btn-outline-secondary"\n                data-ng-if="editing"\n                data-ng-click="toggleEditing(); $event.stopPropagation();">\n                <span data-translate>Cancel</span>\n              </button>\n              <button class="downloadButton btn btn-sm btn-outline-secondary"\n                data-ng-click="exportQuestion(field); $event.stopPropagation()">\n                <i class="fa-solid fa-file-export"></i>\n                <span data-translate>Export</span>\n              </button>\n              <button class="btn btn-sm btn-danger"\n                data-ng-if="field.editable"\n\t\tdata-ng-click="delField(field); $event.stopPropagation();">\n                <span data-translate>Delete</span>\n              </button>\n              <span data-ng-if="field.step_id || field.fieldgroup_id">\n                <button class="btn btn-sm btn-primary" data-ng-click="moveLeftAndSave(field); $event.stopPropagation();" data-uib-tooltip="{{\'Move left\' | translate}}">\n                  <i class="fa-solid fa-chevron-left"></i>\n                </button>\n                <button class="btn btn-sm btn-primary" data-ng-click="moveRightAndSave(field); $event.stopPropagation();" data-uib-tooltip="{{\'Move right\' | translate}}">\n                  <i class="fa-solid fa-chevron-right"></i>\n                </button>\n                <button class="btn btn-sm btn-primary" data-ng-click="moveUpAndSave(field); $event.stopPropagation();" data-uib-tooltip="{{\'Move up\' | translate}}">\n                  <i class="fa-solid fa-chevron-up"></i>\n                </button>\n                <button class="btn btn-sm btn-primary" data-ng-click="moveDownAndSave(field); $event.stopPropagation();" data-uib-tooltip="{{\'Move down\' | translate}}">\n                  <i class="fa-solid fa-chevron-down"></i>\n                </button>\n              </span>\n            </span>\n          </span>\n        </div>\n      </div>\n      <div class="fieldEditor" data-ng-if="editing">\n        <hr />\n        <div class="row">\n          <div class="col-md-12" data-ng-if="field.editable">\n            <div class="form-group" data-ng-if="field.instance !== \'reference\'">\n              <label data-translate>Name</label>\n              <input name="label" class="form-control" data-ng-model="field.label" type="text" required />\n              <div class="text-danger" data-ng-show="editField.label.$error.required">\n                <span data-translate>This field is mandatory</span>\n              </div>\n            </div>\n            <div class="form-group" data-ng-if="field.instance !== \'reference\' && (field.type === \'inputbox\' || field.type === \'textarea\')">\n              <label><span data-translate>Type</span><span>:</span></label>\n              <select name="type" class="form-control" data-ng-model="field.type" required>\n                <option value="inputbox" data-translate>Single-line text input</option>\n                <option value="textarea" data-translate>Multi-line text input</option>\n              </select>\n            </div>\n            <div class="form-group" data-ng-if="field.instance !== \'reference\' && (field.type === \'selectbox\' || field.type === \'checkbox\' || field.type === \'multichoice\')">\n              <label><span data-translate>Type</span><span>:</span></label>\n              <select name="type" class="form-control" data-ng-model="field.type" required>\n                <option value="selectbox" data-translate>Selection box</option>\n                <option value="multichoice" data-translate>Multiple choice input</option>\n                <option value="checkbox" data-translate>Checkbox</option>\n              </select>\n            </div>\n            <div class="form-group" data-ng-if="field.instance !== \'reference\'">\n              <label data-translate>Hint</label>\n              <input name="hint" class="form-control" data-ng-model="field.hint" type="text">\n            </div>\n            <div class="form-group" data-ng-if="field.instance !== \'reference\'">\n              <label data-translate>Description</label>\n              <textarea name="description" class="form-control" data-ng-model="field.description"></textarea>\n            </div>\n            <div class="form-group" data-ng-if="field.instance !== \'reference\' && (field.type === \'inputbox\' || field.type === \'textarea\')">\n              <label data-translate>Placeholder</label>\n              <input name="hint" class="form-control" data-ng-model="field.placeholder" type="text">\n            </div>\n            <div class="form-group" data-ng-if="field.type !== \'fieldgroup\'">\n              <input data-ng-model="field.required" type="checkbox">\n              <label data-translate>Mandatory</label>\n            </div>\n\n            <div class="form-group" data-ng-if="(field.type === \'audioUpload\') && field.template_id === \'\'">\n              <div class="form-group">\n                <label data-translate>Minimum number of seconds</label>\n                <input data-ng-model="field.attrs.min_time.value"  value="10" type="text"  class="form-control" data-ng-disabled="!field.editable" />\n                <div data-translate>Set the value to 0 to disable this feature.</div>\n              </div>\n            </div>\n            <div class="form-group" data-ng-if="(field.type === \'audioUpload\') && field.template_id === \'\'">\n              <div class="form-group">\n                <label data-translate>Maximum number of seconds</label>\n                <input data-ng-model="field.attrs.max_time.value" value="60" type="text"  class="form-control" data-ng-disabled="!field.editable" />\n                <div data-translate>Set the value to 0 to disable this feature.</div>\n              </div>\n            </div>\n\n            <div class="form-group" data-ng-if="(field.type === \'fieldgroup\' || field.type === \'fileupload\') && field.template_id === \'\'">\n              <div data-ng-switch="typeSwitch(field.type)">\n                <input data-ng-model="field.multi_entry" type="checkbox">\n                <label data-ng-switch-when="fileupload" data-translate>Accept multiple file uploads</label>\n                <label data-ng-switch-default data-translate>Accept multiple answers</label>\n              </div>\n            </div>\n            <div class="form-group" data-ng-if="(field.type === \'fieldgroup\' || field.type === \'fileupload\') && field.template_id === \'\'">\n              <label data-translate>Allowed types</label>\n              <textarea data-ng-model="field.attrs.upload_type.value" class="form-control"></textarea>\n            </div>\n            <div class="form-group" data-ng-if="fieldIsMarkableSubjectToPreview && field.type !== \'audioUpload\'">\n              <input data-ng-model="field.preview" type="checkbox">\n              <label data-translate>Preview</label>\n            </div>\n            <div class="form-group">\n              <label>\n                <span data-translate>Width</span>\n                <span>(</span><span data-translate>0 = auto</span><span>)</span>\n               </label>\n              <input class="form-control" data-ng-model="field.width" type="number" min="0" max="12">\n            </div>\n            <div class="form-group" data-ng-if="field.template_id">\n              <label data-translate>Template override</label>\n              <input name="template_override_id" class="form-control" data-ng-model="field.template_override_id" type="text">\n            </div>\n          </div>\n        </div>\n        <div class="row" data-ng-if="field.instance !== \'reference\'">\n          <div class="col-md-12">\n            <div data-ng-if="[\'inputbox\', \'textarea\', \'voice\'].indexOf(field.type) != -1">\n              <div class="form-group">\n                <label data-translate>Min</label>\n                <input data-ng-model="field.attrs.min_len.value" type="text" class="form-control" data-ng-disabled="!field.editable" />\n                <div data-translate>Set the value to 0 to disable this feature.</div>\n              </div>\n              <div class="form-group">\n                <label data-translate>Max</label>\n                <input data-ng-model="field.attrs.max_len.value" type="text" class="form-control" data-ng-disabled="!field.editable" />\n                <div data-translate>Set the value to 0 to disable this feature.</div>\n              </div>\n              <div class="form-group">\n                <label data-translate>Input validation</label>\n                <select name="type" class="form-control" data-ng-model="field.attrs.input_validation.value" required>\n                  <option value="none" data-translate>None</option>\n                  <option value="email" data-translate>Email address</option>\n                  <option value="number" data-translate>Number</option>\n                  <option value="phonenumber" data-translate>Phone number</option>\n                  <option value="custom" data-translate>Custom</option>\n                </select>\n              </div>\n              <div class="form-group" data-ng-if="field.attrs.input_validation.value === \'custom\'">\n                <label data-translate>Regular expression</label>\n                <input data-ng-model="field.attrs.regexp.value" type="text" class="form-control" data-ng-disabled="!field.editable" />\n              </div>\n            </div>\n            <div data-ng-if="field.type === \'tos\'" data-ng-disabled="!field.editable">\n              <div class="form-group">\n                <label data-translate>Text</label>\n                <textarea data-ng-model="field.attrs.text.value" class="form-control"></textarea>\n              </div>\n              <div class="form-group">\n                <label data-translate>Checkbox label</label>\n                <input data-ng-model="field.attrs.checkbox_label.value" type="text" class="form-control" />\n              </div>\n              <div class="form-group">\n                <input data-ng-model="field.attrs.attachment.value" type="checkbox" />\n                <label data-translate>Attachment</label>\n              </div>\n              <div data-ng-if="field.attrs.attachment.value" class="nested">\n                <div class="form-group">\n                  <label data-translate>Text</label>\n                  <input data-ng-model="field.attrs.attachment_text.value" type="text" class="form-control" />\n                </div>\n                <div class="form-group">\n                  <label>URL</label>\n                  <input data-ng-model="field.attrs.attachment_url.value" type="text" class="form-control" />\n                </div>\n              </div>\n            </div>\n            <div data-ng-if="field.type === \'fieldgroup\'">\n              <div class="form-group">\n                <input data-ng-model="field.attrs.multimedia.value" type="checkbox">\n                <label data-translate>Add multimedia content</label>\n                <div data-ng-if="field.attrs.multimedia.value" class="nested">\n                  <div class="form-group">\n                    <label data-translate>Type</label>\n                    <select name="type" class="form-control" data-ng-model="field.attrs.multimedia_type.value" required>\n                      <option value="image" data-translate>Image</option>\n                      <option value="audioUpload" data-translate>Audio</option>\n                      <option value="video" data-translate>Video</option>\n                    </select>\n                  </div>\n                  <div class="form-group">\n                    <label>URL</label>\n                    <input data-ng-model="field.attrs.multimedia_url.value" type="text" class="form-control" required />\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div data-ng-disabled="!field.editable">\n              <div data-ng-if="field.type === \'checkbox\' || field.type === \'selectbox\' || field.type === \'multichoice\'">\n                <div class="form-group">\n                  <input data-ng-model="field.attrs.display_alphabetically.value" type="checkbox">\n                  <label data-translate>Display options alphabetically</label>\n                </div>\n              </div>\n              <div data-ng-if="field.type === \'date\' || field.type === \'daterange\'" data-ng-init="open_min_date = false; open_max_date = false">\n                <div class="form-group">\n                  <div uib-datepicker-popup\n                       data-ng-model="field.attrs.min_date.value"\n                       is-open="open_min_date"\n                       show-button-bar="false"\n                       data-ng-click="open_min_date = !open_min_date">\n                    <label data-translate>Earliest selectable date</label>:\n                    <span data-ng-show="field.attrs.min_date.value">\n                      <span>{{field.attrs.min_date.value | date:\'dd-MM-yyyy\'}}</span>\n                      <button class="btn btn-sm btn-danger"\n                              data-ng-click="field.attrs.min_date.value = \'\'; $event.stopPropagation();">\n                        <i class="fa-solid fa-times"></i>\n                      </button>\n                    </span>\n                    <button data-ng-show="field.attrs.min_date.value === \'\'" type="button" class="btn btn-sm btn-outline-secondary"><i class="fa-solid fa-calendar"></i></button>\n                  </div>\n                </div>\n                <div class="form-group">\n                  <div uib-datepicker-popup\n                       data-ng-model="field.attrs.max_date.value"\n                       is-open="open_max_date"\n                       show-button-bar="false"\n                       data-ng-click="open_max_date = !open_max_date">\n                    <label data-translate>Latest selectable date</label>:\n                    <span data-ng-show="field.attrs.max_date.value">\n                      <span>{{field.attrs.max_date.value | date:\'dd-MM-yyyy\'}}</span>\n                      <button class="btn btn-sm btn-danger"\n                              data-ng-click="field.attrs.max_date.value = \'\'; $event.stopPropagation();">\n                        <i class="fa-solid fa-times"></i>\n                      </button>\n                    </span>\n                    <button data-ng-show="field.attrs.max_date.value === \'\'" type="button" class="btn btn-sm btn-outline-secondary"><i class="fa-solid fa-calendar"></i></button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-md-12" data-ng-if="field.instance === \'reference\'" data-ng-switch="field.template_id">\n            <div data-ng-switch-when="whistleblower_identity">\n              <div class="form-group">\n                <input data-ng-model="field.required" type="checkbox">\n                <label data-translate>Mandatory</label>\n              </div>\n              <div data-ng-if="!field.required">\n                <div class="form-group">\n                  <label data-translate>Text shown upon negative answer</label>\n                  <div>\n                    <textarea class="form-control" data-ng-model="field.attrs.text_shown_upon_negative_answer.value"></textarea>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-md-12">\n            <div class="form-group" data-ng-if="resources.node.enable_scoring_system">\n              <label data-translate>Triggered by score:</label>\n              <select class="form-control" data-ng-model="field.triggered_by_score" convert-to-number>\n                <option value="0" data-translate>Low</option>\n                <option value="1" data-translate>Medium</option>\n                <option value="2" data-translate>High</option>\n              </select>\n            </div>\n            <div class="form-group">\n              <label>\n                <span data-translate>Trigger conditions</span>\n                <button class="btn btn-sm btn-primary show-add-question-btn" data-ng-click="toggleAddTrigger()">\n                  <i class="fa-solid fa-plus"></i>\n                  <span data-translate>Add</span>\n                </button>\n              </label>\n              <div data-ng-if="showAddTrigger">\n                <div  class="form-group">\n                  <select name="type" class="form-control" data-ng-model="new_trigger.field" required>\n                    <option data-ng-repeat="field in parsedFields.fields" value="{{field.id}}">{{field.label}}</option>\n                  </select>\n                </div>\n                <div data-ng-if="new_trigger.field" class="form-group">\n                  <select name="type" class="form-control" data-ng-model="new_trigger.option" required>\n                    <option data-ng-repeat="option in parsedFields.fields_by_id[new_trigger.field].options" value="{{option.id}}">{{option.label}}</option>\n                  </select>\n                </div>\n                  <div data-ng-if="new_trigger.field" class="form-group">\n                    <input data-ng-model="new_trigger.sufficient" type="checkbox">\n                    <label data-translate>Sufficient</label>\n                  </div>\n                <div class="form-group">\n                  <button id="add-step-btn" class="btn btn-primary" data-ng-disabled="!new_trigger.field || !new_trigger.option" data-ng-click="addTrigger()">\n                    <i class="fa-solid fa-plus"></i>\n                    <span data-translate>Add</span>\n                  </button>\n                </div>\n              </div>\n              <div data-ng-repeat="trigger in field.triggered_by_options" class="nested">\n                <button class="btn btn-sm btn-danger" data-ng-click="delTrigger(trigger)">\n                  <i class="fa-solid fa-times"></i>\n                </button>\n                <span>{{parsedFields.fields_by_id[trigger.field].label}}</span>: <span>{{parsedFields.options_by_id[trigger.option].label}}</span> <span data-ng-if=\'trigger.sufficient\'>(<span data-translate>Sufficient</span>)</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-md-12">\n            <div class="form-group" data-ng-if="showOptions(field)">\n              <label>\n                <span data-translate>Options</span>\n                <button class="btn btn-sm btn-primary show-add-question-btn" data-ng-click="addOption()">\n                  <i class="fa-solid fa-plus"></i>\n                  <span data-translate>Add</span>\n                </button>\n              </label>\n              <div class="col-md-12">\n                <div class="fieldOption" data-ng-repeat="option in field.options">\n                  <div class="row">\n                    <div class="col-md-1">\n                      <div class="badge badge-secondary">{{$index + 1}}</div>\n                    </div>\n                    <div class="col-md-6">\n                      <input class="form-control" data-ng-model="option.label" data-ng-attr-placeholder="{{\'Label\' | translate}}" type="text" data-ng-disabled="!field.editable" required />\n                    </div>\n                    <div class="col-md-5">\n                      <button class="btn btn-sm btn-danger" data-ng-click="delOption(option)">\n                        <i class="fa-solid fa-times"></i>\n                      </button>\n                      <button data-ng-disabled="$first" class="btn btn-sm btn-primary" data-ng-click="moveOptionUp($index);" data-uib-tooltip="{{\'Move up\' | translate}}">\n                        <i class="fa-solid fa-chevron-up"></i>\n                      </button>\n                      <button data-ng-disabled="$last" class="btn btn-sm btn-primary" data-ng-click="moveOptionDown($index);" data-uib-tooltip="{{\'Move down\' | translate}}">\n                        <i class="fa-solid fa-chevron-down"></i>\n                      </button>\n                      <span>\n                        <button class="btn btn-sm" data-ng-class="option.hint1 || option.hint2 ? \'btn-primary\' : \'btn-outline-secondary\'" data-ng-click="addOptionHintDialog(option)" data-uib-tooltip="{{\'Hint\' | translate}}">\n                          <i class="fa-solid fa-question-circle"></i>\n                        </button>\n                      </span>\n                      <span>\n                        <button class="btn btn-sm" data-ng-class="option.block_submission ? \'btn-danger\' : \'btn-outline-secondary\'" data-ng-click="flipBlockSubmission(option)" data-uib-tooltip="{{\'Block the submission\' | translate}}">\n                          <i class="fa-solid fa-ban"></i>\n                        </button>\n                      </span>\n                      <span>\n                        <button class="btn btn-sm" data-ng-class="option.trigger_receiver.length ? \'btn-primary\' : \'btn-outline-secondary\'" data-ng-click="triggerReceiverDialog(option)" data-uib-tooltip="{{\'Recipients\' | translate}}">\n                          <i class="fa-solid fa-user"></i>\n                        </button>\n                      </span>\n                      <span data-ng-if="resources.node.enable_scoring_system">\n                        <button class="btn btn-sm" data-ng-class="option.score_type !== \'none\' ? \'btn-primary\' : \'btn-outline-secondary\'" data-ng-click="assignScorePointsDialog(option)" data-uib-tooltip="{{\'Assign score points\' | translate}}">\n                          <i class="fa-solid fa-bolt"></i>\n                          <span data-ng-if="option.score_type !== \'none\'">\n                            <span> {{option.score_points}} </span>\n                            <span data-ng-switch="option.score_type">\n                              <span data-ng-switch-when="addition"> (<span data-translate>Addition</span>)</span>\n                              <span data-ng-switch-when="multiplier"> (<span data-translate>Multiplier</span>)</span>\n                            </span>\n                          </span>\n                        </button>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div data-ng-if="field.editable && field.instance !== \'reference\' && field.type === \'fieldgroup\'" class="row">\n          <div class="col-md-12">\n            <div class="form-group">\n              <div>\n                <span data-translate>Questions</span>\n                <button class="btn btn-sm btn-primary show-add-question-btn" data-ng-click="toggleAddQuestion()">\n                  <i class="fa-solid fa-plus"></i>\n                  <span data-translate>Add new question</span>\n                </button>\n                <button class="btn btn-sm btn-primary show-add-question-from-template-btn" data-ng-click="toggleAddQuestionFromTemplate()" data-ng-if="resources.fieldtemplates.length">\n                  <i class="fa-solid fa-plus"></i>\n                  <span data-translate>Add question from template</span>\n                </button>\n              </div>\n              <div class="row" data-ng-if="field.editable && field.type === \'fieldgroup\'">\n                <div class="col-md-12" data-ng-if="showAddQuestion">\n                  <div data-ng-include="\'views/admin/questionnaires/add_field.html\'"></div>\n                </div>\n                <div class="col-md-12" data-ng-if="showAddQuestionFromTemplate">\n                  <div data-ng-include="\'views/admin/questionnaires/add_field_from_template.html\'"></div>\n                </div>\n              </div>\n              <div class="configuredFields">\n                <div data-ng-repeat="field in children | orderBy:[\'y\', \'x\']">\n                  <div data-ng-include="\'views/admin/questionnaires/fields.html\'"></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="form-group" data-ng-if="field.instance === \'template\'">UUID: {{field.id}}</div>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("views/admin/questionnaires/main.html",'<div class="configSection row">\n  <div class="col-md-12">\n    <div>\n      <span data-translate>Questionnaires</span>\n      <button class="btn btn-sm btn-primary show-add-questionnaire-btn" data-ng-click="toggleAddQuestionnaire()">\n        <i class="fa-solid fa-plus"></i>\n        <span data-translate>Add</span>\n      </button>\n      <span class="custom-file">\n        <label file-input="importQuestionnaire(file)" file-input-label="Import" class="file-upload btn btn-sm btn-outline-secondary"></label>\n      </span>\n    </div>\n    <div class="configSection row" data-ng-controller="AdminQuestionnaireAddCtrl" data-ng-if="showAddQuestionnaire">\n      <form id="newQuestionnaire" class="addQuestionnaire col-md-6" novalidate>\n        <div class="form-group">\n          <label>\n            <span data-translate>Name</span>\n            <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n          </label>\n        <div>\n          <input name="name" class="form-control" data-ng-model="new_questionnaire.name" type="text" data-ng-class="{\'is-invalid\': newQuestionnaire.name.$error.required}" required />\n        </div>\n        </div>\n        <div class="form-group">\n          <button id="add-questionnaire-btn" class="btn btn-primary" data-ng-disabled="newQuestionnaire.$invalid" data-ng-click="add_questionnaire(); toggleAddQuestionnaire()" type="button">\n            <i class="fa-solid fa-plus"></i>\n            <span data-translate>Add</span>\n          </button>\n        </div>\n      </form>\n    </div>\n    <div data-ng-repeat="questionnaire in resources.questionnaires | orderBy: [\'editable\',\'name\']">\n      <form id="questionnaire-{{$index}}" class="configItem" name="editQuestionnaire" data-ng-controller="AdminQuestionnaireEditorCtrl" novalidate>\n        <div class="editorHeader row" data-ng-click="toggleEditing(); $event.stopPropagation();">\n          <span class="col-md-7">{{questionnaire.name}}</span>\n          <span class="col-md-5 clearfix">\n            <span class="float-right">\n              <button\n                class="btn btn-sm btn-outline-secondary"\n                data-ng-show="questionnaire.editable && !editing"\n                data-ng-click="toggleEditing(); $event.stopPropagation();">\n                <span data-translate>Edit</span>\n              </button>\n              <button\n                class="btn btn-sm btn-primary"\n                data-ng-show="editing"\n                data-ng-click="save_questionnaire(questionnaire)">\n                <span data-translate>Save</span>\n              </button>\n              <button\n               class="btn btn-sm btn-outline-secondary"\n                data-ng-show="editing"\n                data-ng-click="toggleEditing(); $event.stopPropagation();">\n                <span data-translate>Cancel</span>\n              </button>\n              <button class="downloadButton btn btn-sm btn-outline-secondary"\n                data-ng-click="exportQuestionnaire(questionnaire); $event.stopPropagation()">\n                <i class="fa-solid fa-file-export"></i>\n                <span data-translate>Export</span>\n              </button>\n              <button\n                class="btn btn-sm btn-outline-secondary"\n                data-ng-click="duplicate_questionnaire(questionnaire)">\n                <i class="fa-solid fa-clone"></i>\n                <span data-translate>Duplicate</span>\n              </button>\n              <button\n                class="btn btn-sm btn-danger"\n                data-ng-show="questionnaire.editable"\n                data-ng-click="delete_questionnaire(questionnaire); $event.stopPropagation();">\n                <span data-translate>Delete</span>\n              </button>\n            </span>\n          </span>\n        </div>\n        <div data-ng-if="editing">\n          <hr />\n          <div class="row">\n            <div class="col-md-6">\n              <div class="form-group">\n                <label data-translate>Name</label>\n                <input name="name" class="form-control" data-ng-model="questionnaire.name" type="text" required>\n                <div class="text-danger" data-ng-show="editQuestionnaire.name.$error.required">\n                  <span data-translate>This field is mandatory</span>\n                </div>\n              </div>\n            </div>\n            <div class="col-md-12" data-ng-include="\'views/admin/questionnaires/steps.html\'"></div>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n'),e.put("views/admin/questionnaires/questions.html",'<div data-ng-controller="AdminFieldTemplatesCtrl">\n  <div class="configSection row" data-ng-init="fields = resources.fieldtemplates">\n    <div class="col-md-12">\n      <div>\n        <span data-translate>Question templates</span>\n        <button class="btn btn-sm btn-primary show-add-question-btn" data-ng-click="toggleAddQuestion()">\n          <i class="fa-solid fa-plus"></i>\n          <span data-translate>Add</span>\n        </button>\n        <span class="custom-file">\n          <label file-input="importQuestion(file)" file-input-label="Import" class="file-upload btn btn-sm btn-outline-secondary"></label>\n        </span>\n      </div>\n    </div>\n    <div class="configSection col-md-6" data-ng-if="showAddQuestion">\n      <div data-ng-form="newField" class="addField" novalidate>\n        <div data-ng-controller="AdminFieldTemplatesAddCtrl" data-ng-include="\'views/admin/questionnaires/add_field.html\'"></div>\n      </div>\n    </div>\n    <div class="col-md-12" data-ng-repeat="field in fields | filter: {editable: true} | orderBy:\'label\'">\n      <div data-ng-include="\'views/admin/questionnaires/fields.html\'"></div>\n    </div>\n  </div>\n</div>\n'),e.put("views/admin/questionnaires/step.html",'            <div id="FieldsEditBox" class="form-group">\n              <div class="row">\n                <span class="col-md-12">\n                  <label>\n                    <span data-translate>Questions</span>\n                    <button class="btn btn-sm btn-primary show-add-question-btn" data-ng-click="toggleAddQuestion()">\n                      <i class="fa-solid fa-plus"></i>\n                      <span data-translate>Add new question</span>\n                    </button>\n                    <button class="btn btn-sm btn-primary show-add-question-from-template-btn" data-ng-click="toggleAddQuestionFromTemplate()" data-ng-if="resources.fieldtemplates.length">\n                      <i class="fa-solid fa-plus"></i>\n                      <span data-translate>Add question from template</span>\n                    </button>\n                  </label>\n                </span>\n              </div>\n              <div class="row configSection" data-ng-if="showAddQuestion">\n                <div class="col-md-6">\n                  <div data-ng-include="\'views/admin/questionnaires/add_field.html\'"></div>\n                </div>\n              </div>\n              <div class="row configSection" data-ng-if="showAddQuestionFromTemplate">\n                <div class="col-md-6">\n                  <div data-ng-include="\'views/admin/questionnaires/add_field_from_template.html\'"></div>\n                </div>\n              </div>\n              <div class="row configuredFields">\n                <div class="col-md-12" data-ng-repeat="field in step.children | orderBy:[\'y\', \'x\']">\n                  <div data-ng-include="\'views/admin/questionnaires/fields.html\'"></div>\n                </div>\n              </div>\n            </div>\n'),e.put("views/admin/questionnaires/steps.html",'<div id="StepsEditBox">\n  <div class="row">\n    <span class="col-md-8">\n      <span data-translate>Steps</span>\n      <button class="btn btn-sm btn-primary show-add-step-btn" data-ng-click="toggleAddStep()">\n        <i class="fa-solid fa-plus"></i>\n        <span data-translate>Add</span>\n      </button>\n    </span>\n  </div>\n  <div id="StepAddBox" data-ng-controller="AdminStepAddCtrl" class="row" data-ng-if="showAddStep">\n    <div class="col-md-6">\n      <div data-ng-form="newStep">\n        <div class="row">\n          <div class="col-md-12">\n            <div class="form-group">\n              <label data-translate>Label</label>\n              <input name="label" class="form-control" data-ng-model="new_step.label" type="text" required>\n              <div class="text-danger" data-ng-show="newStep.label.$error.required">\n                <span data-translate>This field is mandatory</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-md-12">\n            <div class="form-group clearfix">\n              <button id="add-step-btn" class="float-left btn btn-primary" data-ng-disabled="newStep.$invalid" data-ng-click="add_step(); toggleAddStep()">\n                <i class="fa-solid fa-plus"></i>\n                <span data-translate>Add</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="row">\n    <div data-ng-repeat="step in questionnaire.steps" class="col-md-12">\n      <div data-ng-controller="AdminStepEditorCtrl">\n        <div class="configItem">\n          <div class="editorHeader row" data-ng-click="toggleEditing(); $event.stopPropagation();">\n            <span class="col-md-7">\n              <span class="badge badge-primary">{{$index + 1}}</span>\n              <span>{{step.label}}</span>\n            </span>\n            <span class="col-md-5 clearfix">\n              <span class="float-right">\n                <button data-ng-show="!$first" class="actionButton btn btn-sm btn-primary" data-ng-click="moveUp($event, $index)" data-uib-tooltip="{{\'Move up\' | translate}}">\n                  <i class="fa-solid fa-chevron-up"></i>\n                </button>\n                <button data-ng-show="!$last" class="actionButton btn btn-sm btn-primary" data-ng-click="moveDown($event, $index)" data-uib-tooltip="{{\'Move down\' | translate}}">\n                  <i class="fa-solid fa-chevron-down"></i>\n                </button>\n                <button\n                  class="btn btn-sm btn-outline-secondary"\n                  data-ng-show="!editing"\n                  data-ng-click="toggleEditing(); $event.stopPropagation();">\n                  <span data-translate>Edit</span>\n                </button>\n                <button\n                  class="btn btn-sm btn-primary"\n                  data-ng-show="editing"\n                  data-ng-click="save_step(step);">\n                  <span data-translate>Save</span>\n                </button>\n                <button\n                  class="btn btn-sm btn-outline-secondary"\n                  data-ng-show="editing"\n                  data-ng-click="toggleEditing(); $event.stopPropagation();">\n                  <span data-translate>Cancel</span>\n                </button>\n                <button\n                  class="btn btn-sm btn-danger"\n                  data-ng-click="delStep(step); $event.stopPropagation();">\n                  <span data-translate>Delete</span>\n                </button>\n              </span>\n            </span>\n          </div>\n          <div data-ng-form="editStep" data-ng-if="editing">\n            <hr />\n            <div class="row">\n              <div class="form-group col-md-6">\n                <label data-translate>Label</label>\n                <input class="form-control" data-ng-model="step.label" type="text" required />\n              </div>\n            </div>\n            <div class="row">\n              <div class="form-group col-md-6">\n                <label data-translate>Description</label>\n                <div>\n                  <textarea class="form-control" data-ng-model="step.description"></textarea>\n                </div>\n              </div>\n            </div>\n            <div class="row">\n              <div class="form-group col-md-12" data-ng-if="resources.node.enable_scoring_system">\n                <label data-translate>Triggered by score:</label>\n                <select class="form-control" data-ng-model="step.triggered_by_score" convert-to-number>\n                  <option value="0" data-translate>Low</option>\n                  <option value="1" data-translate>Medium</option>\n                  <option value="2" data-translate>High</option>\n                </select>\n              </div>\n              <div class="form-group col-md-12">\n                <label>\n                  <span data-translate>Trigger conditions</span>\n                  <button class="btn btn-sm btn-primary show-add-trigger-btn" data-ng-click="toggleAddTrigger()">\n                    <i class="fa-solid fa-plus"></i>\n                    <span data-translate>Add</span>\n                  </button>\n                </label>\n                <div data-ng-if="showAddTrigger" class="col-md-12">\n                  <div class="form-group">\n                    <select name="type" class="form-control" data-ng-model="new_trigger.field" required>\n                      <option data-ng-repeat="field in parsedFields.fields" value="{{field.id}}">{{field.label}}</option>\n                    </select>\n                  </div>\n                  <div data-ng-if="new_trigger.field" class="form-group">\n                    <select name="type" class="form-control" data-ng-model="new_trigger.option" required>\n                      <option data-ng-repeat="option in parsedFields.fields_by_id[new_trigger.field].options" value="{{option.id}}">{{option.label}}</option>\n                    </select>\n                  </div>\n                  <div data-ng-if="new_trigger.field" class="form-group">\n                    <input data-ng-model="new_trigger.sufficient" type="checkbox">\n                    <label data-translate>Sufficient</label>\n                  </div>\n                  <div class="form-group">\n                    <button id="add-step-btn" class="btn btn-primary" data-ng-disabled="!new_trigger.field || !new_trigger.option" data-ng-click="addTrigger()">\n                      <i class="fa-solid fa-plus"></i>\n                      <span data-translate>Add</span>\n                    </button>\n                  </div>\n\t        </div>\n                <div data-ng-repeat="trigger in step.triggered_by_options" class="nested">\n                  <button class="btn btn-sm btn-danger" data-ng-click="delTrigger(trigger)">\n                    <i class="fa-solid fa-times"></i>\n                  </button>\n\t\t  <span>{{parsedFields.fields_by_id[trigger.field].label}}</span>: <span>{{parsedFields.options_by_id[trigger.option].label}}</span> <span data-ng-if=\'trigger.sufficient\'>(<span data-translate>Sufficient</span>)</span>\n                </div>\n              </div>\n            </div>\n            <div data-ng-include="\'views/admin/questionnaires/step.html\'"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("views/admin/settings.html",'<form name="contentForm" data-ng-controller="AdminSettingsCtrl" novalidate>\n  <uib-tabset>\n    <uib-tab data-ng-repeat="tab in tabs" heading="{{tab.title | translate}}">\n      <div class="tab-content" data-ng-include="tab.template"></div>\n    </uib-tab>\n  </uib-tabset>\n</form>\n'),e.put("views/admin/settings/tab1.html",'<div class="row">\n  <div class="col-md-6">\n    <div class="form-group">\n      <label data-translate>Logo</label>\n      <div data-image-upload data-image-upload-model="resources.node" data-image-upload-model-attr=\'logo\' data-image-upload-id="{{\'logo\'}}"></div>\n    </div>\n\n    <div class="form-group">\n      <label data-translate>Project name</label>\n      <input class="form-control" data-ng-model="resources.node.name" type="text" />\n    </div>\n\n    <div class="form-group">\n      <label data-translate>Description</label>\n      <div>\n        <textarea class="form-control" data-ng-model="resources.node.description"></textarea>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label data-translate>Homepage title</label>\n      <div>\n        <textarea class="form-control" data-ng-model="resources.node.header_title_homepage"></textarea>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label data-translate>Presentation</label>\n      <div>\n        <textarea class="form-control" data-ng-model="resources.node.presentation"></textarea>\n      </div>\n    </div>\n\n    <div class="form-group" data-ng-if="Authentication.session.role === \'admin\'">\n      <label data-translate>Question to solicit possible whistleblowers</label>\n      <div>\n        <textarea class="form-control" data-ng-model="resources.node.whistleblowing_question"></textarea>\n      </div>\n    </div>\n\n    <div class="form-group" data-ng-if="Authentication.session.role === \'admin\'">\n      <label data-translate>Whistleblowing button</label>\n      <input class="form-control" data-ng-model="resources.node.whistleblowing_button" type="text" />\n    </div>\n\n\n    <div class="form-group" data-ng-if="public.node.mode === \'default\'">\n      <div class="form-group">\n        <label data-translate>Disclaimer</label>\n        <div>\n          <textarea class="form-control" data-ng-model="resources.node.disclaimer_text"></textarea>\n        </div>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label data-translate>Whistleblowing Policy</label>\n      <input name="footer_whistleblowing_policy" class="form-control" data-ng-model="resources.node.footer_whistleblowing_policy" data-ng-pattern="CONSTANTS.secure_or_local_url_regexp" data-ng-class="{\'is-invalid\': contentForm.footer_whistleblowing_policy.$error.pattern}" type="text" />\n    </div>\n\n    <div class="form-group">\n      <label data-translate>Privacy Policy</label>\n      <input name="footer_privacy_policy" class="form-control" data-ng-model="resources.node.footer_privacy_policy" data-ng-pattern="CONSTANTS.secure_or_local_url_regexp" data-ng-class="{\'is-invalid\': contentForm.footer_privacy_policy.$error.pattern}" type="text" />\n    </div>\n\n    <div class="form-group">\n      <label data-translate>Accessibility Declaration</label>\n      <input name="footer_accessibility_declaration" class="form-control" data-ng-model="resources.node.footer_accessibility_declaration" data-ng-pattern="CONSTANTS.secure_or_local_url_regexp" data-ng-class="{\'is-invalid\': contentForm.footer_accessibility_declaration.$error.pattern}" type="text" />\n    </div>\n\n    <div class="form-group" data-ng-if="public.node.mode === \'default\'">\n      <div>\n        <label data-translate>Footer</label>\n        <div>\n          <textarea class="form-control" data-ng-model="resources.node.footer"></textarea>\n        </div>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <button class="btn btn-primary"\n              data-ng-disabled="contentForm.$invalid"\n              data-ng-click="updateNode()" type="submit">\n        <i class="fa-solid fa-check"></i>\n        <span data-translate>Save</span>\n      </button>\n    </div>\n  </div>\n</div>\n'),e.put("views/admin/settings/tab2.html",'<div class="row mt-4">\n  <div class="col-md-10" data-ng-class="{\'container-disabled\': !Authentication.session.permissions.can_upload_files}">\n    <div class="form-group">\n      <div class="mb-2" data-ng-repeat="admin_file in admin_files" data-ng-include="\'views/partials/admin_file.html\'"></div>\n      <div class="mb-2"\n\t   data-flow-init="{target: \'api/admin/files/custom\'}"\n           data-flow-files-submitted="$flow.upload()"\n           data-flow-file-success="reload()"\n           extend-flow-valid-size="public.node.maximum_filesize*1024*1024">\n        <div data-translate>Files</div>\n        <div class="uploadfile file-custom">\n          <span class="custom-file">\n            <input id="customFile" class="custom-file-input" type="file" data-flow-btn />\n            <label class="btn btn-sm btn-primary" for="customFile">\n              <i class="fa-solid fa-upload"></i>\n              <span data-translate>Upload</span>\n            </label>\n          </span>\n        </div>\n      </div>\n      <div class="table-responsive">\n        <table class="table table-striped" id="fileList">\n          <tbody id="fileListBody">\n            <tr data-ng-repeat="file in files | orderBy:\'name\'">\n              <td>{{file.name}}</td>\n              <td>\n                <a class="btn btn-sm btn-primary" data-ng-href="s/{{file.name}}" download="{{file.name}}">\n                  <i class="fa-solid fa-download"></i>\n                  <span data-translate>Download</span>\n                </a>\n                <button class="btn btn-sm btn-danger" data-ng-click="delete_file(\'api/admin/files/\' + file.id)" data-single-click>\n                  <i class="fa-solid fa-trash"></i>\n                  <span data-translate>Delete</span>\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n  <div class="col-md-2">\n    <div class="custom-control custom-switch">\n      <input id="toggleSwitch" class="custom-control-input" type="checkbox" data-ng-model="Authentication.session.permissions.can_upload_files" data-ng-change="togglePermissionUploadFiles()">\n      <label class="custom-control-label" for="toggleSwitch">{{preferences.permissions.can_upload_files ? \'Enabled\' : \'Disabled\'}}</label>\n    </div>\n  </div>\n</div>\n'),e.put("views/admin/settings/tab3.html",'<div class="row">\n  <div class="col-md-6">\n    <input data-ng-model="resources.node.languages_enabled" class="d-none" />\n    <input data-ng-model="resources.node.default_language" class="d-none" />\n    <div class="form-group">\n      <label data-translate>Languages</label>\n      <button class="btn btn-sm btn-primary add-language-btn" data-ng-click="toggleLangSelect()">\n        <i class="fa-solid fa-plus"></i>\n        <span data-translate>Add</span>\n      </button>\n      <div>\n        <div id="LanguageAdder" class="row">\n          <div class="col-md-12" data-ng-if="showLangSelect">\n            <ui-select data-ng-model="selected.value" data-theme="bootstrap" data-on-select=\'enableLanguage($item);\'>\n              <ui-select-match data-ng-attr-placeholder="{{\'Search\' | translate}}">\n                <span data-ng-bind="$select.selected.name"></span>\n              </ui-select-match>\n              <ui-select-choices data-repeat="language in resources.node.languages_supported | filter:langNotEnabledFilter | filter: {name: $select.search}">\n                <span data-ng-bind-html="language.name | highlight: $select.search"></span>\n                <span>[{{language.code}}]</span>\n              </ui-select-choices>\n            </ui-select>\n          </div>\n        </div>\n        <br/>\n        <ul class="selectionList">\n          <li data-ng-repeat="lang_code in resources.node.languages_enabled">\n            <span class="action-btns">\n              <span data-ng-if="lang_code === resources.node.default_language" class="default-language">\n                <i class="fa-solid fa-check"></i>\n              </span>\n              <span data-ng-if="lang_code !== resources.node.default_language" class="non-default-language"\n                data-uib-tooltip="{{\'Use as default\' | translate}}"\n                data-ng-click="resources.node.default_language = lang_code">\n                <i class="fa-solid fa-check"></i>\n              </span>\n              <span data-ng-if="lang_code !== resources.node.default_language" data-ng-click="removeLang($index, lang_code)" data-uib-tooltip="{{\'Remove\' | translate}}" class="remove-lang-btn">\n                <i class="fa-solid fa-times"></i>\n              </span>\n              <i data-ng-if="lang_code === resources.node.default_language" class="fa-solid fa-times disabled-icon"></i>\n            </span>\n            <label>{{languages_supported[lang_code][\'name\']}} [{{lang_code}}]</label>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <div class="form-group">\n      <button class="btn btn-primary"\n              data-ng-disabled="contentForm.$invalid"\n              data-ng-click="updateNode()" type="submit">\n        <i class="fa-solid fa-check"></i>\n        <span data-translate>Save</span>\n      </button>\n    </div>\n  </div>\n</div>\n'),e.put("views/admin/settings/tab4.html",'<div class="row">\n  <div class="col-md-12">\n    <div class="form-group">\n      <label data-translate>Language:</label>\n      <select class="form-control" data-ng-model="vars.language_to_customize" data-ng-change="get_l10n(vars.language_to_customize)">\n        <option data-ng-repeat="item in languages_enabled_selector" value="{{item.code}}">{{item.name}}</option>\n      </select>\n    </div>\n    <div class="form-group">\n      <label data-translate>Add custom text</label>\n      <select class="form-control" data-ng-model="vars.text_to_customize" data-ng-change="vars.custom_text = custom_texts[vars.text_to_customize] ? custom_texts[vars.text_to_customize] : default_texts[vars.text_to_customize]">\n        <option data-ng-repeat="item in custom_texts_selector" value="{{item.key}}">{{item.value}}</option>\n      </select>\n      <div data-ng-show="vars.text_to_customize">\n        <label data-translate>Custom text</label>\n        <div>\n          <textarea class="form-control" data-ng-model="vars.custom_text"></textarea>\n        </div>\n      </div>\n      <br />\n      <div class="form-group clearfix">\n        <button id="addCustomTextButton" class="float-left btn btn-primary" data-ng-disabled="!vars.text_to_customize" type="submit" data-ng-click="custom_texts[vars.text_to_customize] = vars.custom_text; custom_texts.$update({\'lang\': vars.language_to_customize})">\n          <i class="fa-solid fa-plus"></i>\n          <span data-translate>Add</span>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n<br /><br />\n<div class="row" data-ng-if="custom_texts">\n  <div class="col-md-12">\n    <div class="form-group">\n      <table class="table table-striped">\n        <thead>\n          <tr>\n            <th data-translate>Original text</th>\n            <th data-translate>Original translation</th>\n            <th data-translate>Custom translation</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr data-ng-repeat="(key, value) in custom_texts" data-ng-class="{danger: !default_texts[key]}" data-uib-tooltip="{{!default_texts[key] ? \'This custom text is no longer displayed on the platform. The original text has either changed or been removed.\' : \'\' | translate}}">\n            <td class="preformatted">{{key}}</td>\n            <td class="preformatted">{{default_texts[key]}}</td>\n            <td class="clearfix">\n              <span class="preformatted">{{custom_texts[key]}}</span>\n              <button class="deleteCustomTextButton float-right btn btn-sm btn-danger" data-ng-click="Utils.deleteFromDict(custom_texts, key); custom_texts.$update({\'lang\': vars.language_to_customize})">\n                <i class="fa" data-ng-class="{\'fa-times\': default_texts[key], \'fa-alert\': !default_texts[key]}"></i>\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n'),e.put("views/admin/settings/tab5.html",'<div class="row">\n  <div class="col-md-12">\n    <div class="form-group">\n      <label>\n        <input data-ng-model="resources.node.disable_submissions" type="checkbox" />\n        <span data-translate>Disable submissions</span>\n      </label>\n    </div>\n\n    <div class="form-group">\n      <label>\n        <input data-ng-model="resources.node.encryption" type="checkbox" data-ng-change="enableEncryption()" data-ng-disabled="resources.node.encryption" />\n        <span data-translate>Enable encryption</span>\n      </label>\n    </div>\n\n    <div data-ng-if="resources.node.encryption">\n      <div class="form-group">\n        <label>\n          <input data-ng-model="resources.node.escrow" type="checkbox" data-ng-change="toggleEscrow()" data-ng-disabled="resources.node.escrow && !resources.preferences.escrow" />\n          <span data-translate>Enable administrators to change user passwords</span>\n        </label>\n      </div>\n      <div class="form-group" data-ng-if="resources.node.escrow">\n        <label data-translate>Administrators authorized to change user passwords:</label>\n        <ol class="selectionList">\n          <li data-ng-repeat="user in resources.users | filter: {escrow: true}">\n            <span>{{user.name}}</span>\n          </li>\n        </ol>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label>\n        <input data-ng-model="resources.node.viewer" type="checkbox" />\n        <span data-translate>Enable file viewer</span>\n      </label>\n    </div>\n\n    <div class="form-group">\n      <label>\n        <input data-ng-model="resources.node.pgp" type="checkbox" />\n        <span data-translate>Enable PGP</span>\n      </label>\n    </div>\n\n    <div class="form-group">\n      <label>\n        <input data-ng-model="resources.node.simplified_login" type="checkbox" />\n        <span data-translate>Enable simplified login</span>\n      </label>\n    </div>\n\n    <div class="form-group">\n      <label>\n        <input data-ng-model="resources.node.allow_indexing" type="checkbox" />\n        <span data-translate>Enable search engines indexing</span>\n      </label>\n    </div>\n\n    <div class="form-group">\n      <label data-translate>Default questionnaire</label>\n      <select class="form-control" data-ng-model="resources.node.default_questionnaire" data-ng-options="item.id as item.name for item in resources.questionnaires"></select>\n    </div>\n\n    <div class="form-group">\n      <label data-translate>Text shown on top of the interface for selecting channels</label>\n      <div>\n        <textarea class="form-control" data-ng-model="resources.node.contexts_clarification"></textarea>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label>\n        <input data-ng-model="resources.node.show_contexts_in_alphabetical_order" type="checkbox" />\n        <span data-translate>Show contexts in alphabetical order</span>\n      </label>\n    </div>\n\n    <div class="form-group">\n      <label>\n        <span data-translate>Size limit for file attachments</span> <span>(</span><span data-translate>megabytes</span><span>)</span>\n      </label>\n      <input class="form-control" data-ng-model="resources.node.maximum_filesize" type="number" min="0" />\n    </div>\n\n    <div class="form-group">\n      <label>\n        <input data-ng-model="resources.node.two_factor" type="checkbox" />\n        <span data-translate>Require two factor authentication</span>\n      </label>\n    </div>\n\n    <div class="form-group">\n      <label data-translate>Password change interval</label>\n      <input class="form-control" data-ng-model="resources.node.password_change_period" type="number" min="0" />\n      <div data-translate>For security reasons, password changes are required at regular intervals.</div>\n      <div data-translate>Set the value to 0 to disable this feature.</div>\n    </div>\n\n    <div class="form-group" data-ng-if="resources.node.root_tenant">\n      <label data-translate>Number of days till notifying unread reports to users</label>\n      <input class="form-control" data-ng-model="resources.node.unread_reminder_time" type="number" min="1" />\n    </div>\n\n    <div class="form-group">\n      <label data-translate>Custom support URL</label>\n      <input name="support_url"\n             class="form-control"\n             data-ng-model="resources.node.custom_support_url"\n             data-ng-pattern="CONSTANTS.https_regexp"\n             data-ng-class="{\'is-invalid\': contentForm.support_url.$error.pattern}"\n             type="text" />\n    </div>\n    \n    <div class="form-group">\n      <label>\n        <input data-ng-model="resources.node.disable_privacy_badge" type="checkbox" />\n        <span data-translate>Disable the privacy panel</span>\n      </label>\n    </div>\n\n    <div class="form-group" data-ng-if="!resources.node.disable_privacy_badge">\n      <label>\n        <input data-ng-model="resources.node.enable_custom_privacy_badge" type="checkbox" />\n        <span data-translate>Enable custom privacy panel</span>\n      </label>\n    </div>\n\n    <div class="form-group" data-ng-if="!resources.node.disable_privacy_badge && resources.node.enable_custom_privacy_badge">\n      <label data-translate>Custom privacy panel</label>\n      <div>\n        <textarea class="form-control" data-ng-model="resources.node.custom_privacy_badge_text" type="text"></textarea>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <input data-ng-model="resources.node.enable_custodian" type="checkbox">\n      <label data-translate>Enable custodian user role</label>\n    </div>\n\n    <div class="form-group">\n      <input data-ng-model="resources.node.enable_scoring_system" type="checkbox">\n      <label data-translate>Enable scoring system</label>\n    </div>\n\n    <div class="form-group" data-ng-if="resources.node.root_tenant">\n      <label data-translate>Logging level</label>\n      <select class="form-control" data-ng-model="resources.node.log_level">\n        <option value="ERROR">ERROR</option>\n        <option value="INFO">INFO</option>\n        <option value="DEBUG">DEBUG</option>\n      </select>\n    </div>\n\n    <div class="form-group" data-ng-if="resources.node.root_tenant">\n      <label data-translate>Anomaly detection thresholds</label>\n      <table class="table-responsive">\n        <thead>\n          <tr>\n            <th></th>\n            <th data-translate>Low</th>\n            <th data-translate>High</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>\n              <label>\n                <span data-translate>Available disk space</span>\n                <span>(</span><span data-translate>megabytes</span><span>)</span>\n              </label>\n            </td>\n            <td><input class="form-control" data-ng-model="resources.node.threshold_free_disk_megabytes_low" type="number" min="0" /></td>\n            <td><input class="form-control" data-ng-model="resources.node.threshold_free_disk_megabytes_high" type="number" min="0" /></td>\n          </tr>\n          <tr>\n            <td>\n              <label>\n                <span data-translate>Available disk space</span>\n                <span>(</span><span data-translate>percentage</span><span>)</span>\n              </label>\n            </td>\n            <td><input class="form-control" data-ng-model="resources.node.threshold_free_disk_percentage_low" type="number"  min="0" max="100" /></td>\n            <td><input class="form-control" data-ng-model="resources.node.threshold_free_disk_percentage_high" type="number"  min="0" max="100" /></td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <div class="form-group">\n      <input data-ng-model="resources.node.log_accesses_of_internal_users" type="checkbox" />\n      <label data-translate>Log accesses of internal users</label>\n    </div>\n\n    <div class="form-group" data-ng-if="resources.node.root_tenant">\n      <input data-ng-model="resources.node.enable_admin_exception_notification" type="checkbox">\n      <label data-translate>Notify administrators of software problems</label>\n    </div>\n\n    <div class="form-group" data-ng-if="resources.node.root_tenant">\n      <input data-ng-model="resources.node.enable_developers_exception_notification" type="checkbox">\n      <label data-translate>Notify developers of software problems</label>\n      <div data-translate>By enabling this feature, you will contribute to the development and security of the platform.</div>\n    </div>\n\n    <div class="form-group">\n      <button class="btn btn-primary"\n        data-ng-disabled="contentForm.$invalid"\n        data-ng-click="updateNode()" type="submit">\n        <i class="fa-solid fa-check"></i>\n        <span data-translate>Save</span>\n      </button>\n\n      <button class="btn btn-danger"\n        data-ng-click="resetSubmissions()">\n        <i class="fa-solid fa-trash"></i>\n        <span data-translate>Reset reports</span>\n      </button>\n    </div>\n  </div>\n</div>\n'),e.put("views/admin/sidebar.html","<a href=\"#/admin/home\" data-ng-class=\"{'active': location.path() === '/admin/home'}\" aria-current=\"{{location.path() === '/admin/home' ? 'page' : 'false'}}\"><i class=\"fa fa-home\"></i> <span data-translate>Home</span></a>\n<a href=\"#/admin/settings\" data-ng-class=\"{'active': location.path() === '/admin/settings'}\" aria-current=\"{{location.path() === '/admin/settings' ? 'page' : 'false'}}\"><i class=\"fa-solid fa-sliders\"></i> <span data-translate>Settings</span></a>\n<a href=\"#/admin/users\" data-ng-class=\"{'active': location.path() === '/admin/users'}\" aria-current=\"{{location.path() === '/admin/users' ? 'page' : 'false'}}\"><i class=\"fa fa-users\"></i> <span data-translate>Users</span></a>\n<a href=\"#/admin/questionnaires\" data-ng-class=\"{'active': location.path() === '/admin/questionnaires'}\" aria-current=\"{{location.path() === '/admin/questionnaires' ? 'page' : 'false'}}\"><i class=\"fa fa-circle-question\"></i> <span data-translate>Questionnaires</span></a>\n<a href=\"#/admin/contexts\" data-ng-class=\"{'active': location.path() === '/admin/contexts'}\" aria-current=\"{{location.path() === '/admin/contexts' ? 'page' : 'false'}}\"><i class=\"fa fa-inbox\"></i> <span data-translate>Channels</span></a>\n<a href=\"#/admin/casemanagement\" data-ng-class=\"{'active': location.path() === '/admin/casemanagement'}\" aria-current=\"{{location.path() === '/admin/casemanagement' ? 'page' : 'false'}}\"><i class=\"fa fa-bars-progress\"></i> <span data-translate>Case management</span></a>\n<a href=\"#/admin/notifications\" data-ng-class=\"{'active': location.path() === '/admin/notifications'}\" aria-current=\"{{location.path() === '/admin/notifications' ? 'page' : 'false'}}\"><i class=\"fa fa-envelope\"></i> <span data-translate>Notifications</span></a>\n<a href=\"#/admin/network\" data-ng-class=\"{'active': location.path() === '/admin/network'}\" aria-current=\"{{location.path() === '/admin/network' ? 'page' : 'false'}}\" data-ng-if=\"resources.node.root_tenant || Authentication.session.properties.management_session\" ><i class=\"fa fa-network-wired\"></i> <span data-translate>Network</span></a>\n<a href=\"#/admin/sites\" data-ng-class=\"{'active': location.path() === '/admin/sites'}\" aria-current=\"{{location.path() === '/admin/sites' ? 'page' : 'false'}}\" data-ng-if=\"resources.node.root_tenant\"><i class=\"fa-solid fa-sitemap\"></i> <span data-translate>Sites</span></a>\n<a href=\"#/admin/auditlog\" data-ng-class=\"{'active': location.path() === '/admin/auditlog'}\" aria-current=\"{{location.path() === '/admin/auditlog' ? 'page' : 'false'}}\"><i class=\"fa fa-clipboard-list\"></i> <span data-translate>Audit log</span></a>\n"),e.put("views/admin/sites.html",'<div data-ng-controller="TenantCtrl">\n  <uib-tabset>\n    <uib-tab data-ng-repeat="tab in tabs" heading="{{tab.title | translate}}">\n      <form name="tenantsForm" class="tab-content" data-ng-include="tab.template" novalidate></form>\n    </uib-tab>\n  </uib-tabset>\n</div>\n'),e.put("views/admin/sites/tab1.html",'<div class="row">\n  <div class="col-md-12">\n    <div>\n      <span data-translate>Sites</span>\n      <button class="btn btn-sm btn-primary show-add-tenant-btn" data-ng-click="toggleAddTenant()">\n        <i class="fa-solid fa-plus"></i>\n        <span data-translate>Add</span>\n      </button>\n      <span id="SearchFilter" class="form-group float-right">\n        <input type="text" class="form-control" data-ng-attr-placeholder="{{\'Search\' | translate}}" data-ng-model="search">\n      </span>\n    </div>\n  </div>\n</div>\n\n<div data-ng-if="showAddTenant" class="row">\n  <div class="col-md-6">\n    <form name="newTenantForm" class="addTenant" novalidate>\n      <div class="form-group">\n        <label>\n          <span data-translate>Name</span>\n          <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n        </label>\n        <div>\n          <input name="name" class="form-control" data-ng-model="newTenant.name" maxlength="120" type="text" data-ng-class="{\'is-invalid\': newTenantForm.name.$error.required}" required />\n        </div>\n      </div>\n      <div class="form-group">\n        <label data-translate>Profile</label>\n        <select name="type" class="form-control" data-ng-model="newTenant.mode" required>\n          <option value="default">DEFAULT</option>\n          <option value="wbpa">WHISTLEBLOWINGPA</option>\n        </select>\n      </div>\n      <div class="form-group clearfix">\n        <button id="add-btn" class="float-left btn btn-primary" data-ng-disabled="newTenantForm.$invalid" data-ng-click="addTenant(); toggleAddTenant()" type="button">\n          <i class="fa-solid fa-plus"></i>\n          <span data-translate>Add</span>\n        </button>\n      </div>\n    </form>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-md-12">\n    <div data-ng-repeat="tenant in resources.tenants | orderBy:\'id\' | filter:{$: search} | limitTo:itemsPerPage:(currentPage - 1) * itemsPerPage">\n      <form id="tenant-{{$index}}" name="editTenant" data-ng-controller="TenantEditorCtrl" novalidate>\n        <div class="configItem">\n          <div class="editorHeader row" data-ng-click="tenant.id !== 1 && toggleEditing($event)">\n            <div class="col-md-6">\n              <div>\n                <span class="badge badge-secondary">{{tenant.id}}</span>\n                <span>{{tenant.name}}</span>\n              </div>\n              <div data-ng-if="tenant.active && (tenant.onionservice || tenant.hostname || (tenant.subdomain || resources.node.rootdomain))">\n                <a class="badge badge-primary" data-ng-if="tenant.onionservice" data-ng-href="http://{{tenant.onionservice}}" rel="noreferrer" target="_blank" isolate-click>{{tenant.onionservice}}</a>\n                <span data-ng-if="tenant.subdomain">\n                  <a data-ng-if="resources.node.rootdomain" class="badge badge-primary" data-ng-href="https://{{tenant.subdomain}}.{{resources.node.rootdomain}}" target="_blank" isolate-click>{{tenant.subdomain}}.{{resources.node.rootdomain}}</a>\n                  <a data-ng-if="resources.node.onionservice && tenant.subdomain" class="badge badge-primary" data-ng-href="http://{{tenant.subdomain}}.{{resources.node.onionservice}}" rel="noreferrer" target="_blank" isolate-click>{{tenant.subdomain}}.{{resources.node.onionservice}}</a>\n                </span>\n                <a class="badge badge-primary" data-ng-if="tenant.hostname" data-ng-href="https://{{tenant.hostname}}" rel="noreferrer" target="_blank" isolate-click>{{tenant.hostname}}</a>\n              </div>\n            </div>\n            <div class="col-md-6 clearfix" data-ng-if="tenant.id !== 1">\n                <span class="float-right">\n                  <span data-ng-show="tenant.active" class="btn btn-sm btn-primary"\n                        data-ng-click="toggleActivation($event)"\n                        data-translate>Enabled</span>\n                  <span data-ng-hide="tenant.active" class="btn btn-sm btn-danger"\n                        data-ng-click="toggleActivation($event)"\n                        data-translate>Disabled</span>\n                  <span data-ng-show="!resources.node.tenant.active" class="btn btn-sm btn-primary"\n                        data-ng-click="configureTenant($event, tenant.id)"\n                        data-translate>Configure</span>\n                  <button class="btn btn-sm btn-outline-secondary"\n                          data-ng-show="!editing"\n                          data-ng-click="toggleEditing($event)">\n                    <span data-translate>Edit</span>\n                  </button>\n                  <button class="btn btn-sm btn-primary"\n                          data-ng-show="editing"\n                          data-ng-disabled="editContext.$invalid"\n                          data-ng-click="saveTenant()">\n                    <span data-translate>Save</span>\n                  </button>\n                  <button class="btn btn-sm btn-danger"\n                          data-ng-show="isRemovableTenant()"\n                          data-ng-click="deleteTenant($event)">\n                    <span data-translate>Delete</span>\n                  </button>\n                </span>\n            </div>\n          </div>\n          <div data-ng-if="editing">\n            <hr/>\n            <div class="row">\n              <div class="col-md-6">\n                <div class="form-group">\n                  <label data-translate>Name</label>\n                  <input name="name" class="form-control" data-ng-model="tenant.name" type="text" required>\n                </div>\n                <div class="form-group">\n                  <label data-translate>Subdomain</label>\n                  <input name="subdomain" class="form-control" data-ng-model="tenant.subdomain" type="text" subdomainvalidator required>\n                </div>\n                <div class="form-group">\n                  <label data-translate>Mode:</label>\n                  <select name="type" class="form-control" data-ng-model="tenant.mode" required>\n                    <option value="default">DEFAULT</option>\n                    <option value="demo">DEMO</option>\n                    <option value="wbpa">WHISTLEBLOWINGPA</option>\n                    <option value="eat">EAT</option>\n                  </select>\n                </div>\n                <div class="form-group">\n                  <label><span data-translate>Creation date:</span> {{tenant.creation_date | date:\'dd-MM-yyyy\'}}</label>\n                </div>\n                <div class="form-group" data-ng-if="tenant.signup" data-ng-include="\'views/partials/signup.html\'"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </form>\n    </div>\n\n    <div class="text-center" data-ng-show="(resources.tenants | filter:{\'name\': search}).length > 20">\n      <ul uib-pagination\n          total-items="(resources.tenants | filter:{\'name\': search}).length"\n          first-text="<<"\n          last-text=">>"\n          previous-text="<"\n          next-text=">"\n          items-per-page="itemsPerPage"\n          data-ng-model="currentPage"\n          max-size="10"\n          class="pagination-sm"\n          boundary-links="true"\n          force-ellipses="true"></ul>\n    </div>\n  </div>\n</div>\n'),e.put("views/admin/sites/tab2.html",'<div class="row">\n  <div class="col-md-6">\n    <div class="form-group">\n      <label data-translate>Profile</label>\n      <select name="type" class="form-control" data-ng-model="resources.node.mode" required>\n        <option value="default">DEFAULT</option>\n        <option value="demo">DEMO</option>\n        <option value="wbpa">WHISTLEBLOWINGPA</option>\n        <option value="eat">EAT</option>\n      </select>\n    </div>\n    <div class="form-group">\n      <label data-translate>Root domain used for secondary sites</label>\n      <div>\n        <input class="form-control" data-ng-model="resources.node.rootdomain" type="text" />\n      </div>\n    </div>\n    <div class="form-group">\n      <label>\n        <input data-ng-model="resources.node.adminonly" type="checkbox" />\n        <span data-translate>Use the first site for administrative purposes only</span>\n      </label>\n    </div>\n    <div data-ng-if="!resources.node.adminonly">\n      <div class="form-group">\n        <label>\n          <input data-ng-model="resources.node.enable_signup" type="checkbox" />\n          <span data-translate>Allow users to sign up</span>\n        </label>\n      </div>\n      <div data-ng-if="resources.node.enable_signup">\n        <div class="form-group">\n          <label>\n            <input data-ng-model="resources.node.signup_tos1_enable" type="checkbox" />\n            <span data-translate>Enable terms of service</span> <span>#1</span>\n          </label>\n          <div data-ng-if="resources.node.signup_tos1_enable" class="nested">\n            <div class="form-group">\n              <label data-translate>Title</label>\n              <input data-ng-model="resources.node.signup_tos1_title" type="text" class="form-control"/>\n            </div>\n            <div class="form-group">\n              <label data-translate>Text</label>\n              <div>\n                <textarea class="form-control" data-ng-model="resources.node.signup_tos1_text" rows="4"></textarea>\n              </div>\n            </div>\n            <div class="form-group">\n              <label data-translate>Checkbox label</label>\n              <input data-ng-model="resources.node.signup_tos1_checkbox_label" type="text" class="form-control"/>\n            </div>\n          </div>\n        </div>\n        <div class="form-group">\n          <label>\n            <input data-ng-model="resources.node.signup_tos2_enable" type="checkbox" />\n            <span data-translate>Enable terms of service</span> <span>#2</span>\n          </label>\n          <div data-ng-if="resources.node.signup_tos2_enable" class="nested">\n            <div class="form-group">\n              <label data-translate>Title</label>\n              <input data-ng-model="resources.node.signup_tos2_title" type="text" class="form-control"/>\n            </div>\n            <div class="form-group">\n              <label data-translate>Text</label>\n              <div>\n                <textarea class="form-control" data-ng-model="resources.node.signup_tos2_text" rows="4"></textarea>\n              </div>\n            </div>\n            <div class="form-group">\n              <label data-translate>Checkbox label</label>\n              <input data-ng-model="resources.node.signup_tos2_checkbox_label" type="text" class="form-control"/>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <button class="btn btn-primary" data-ng-click="updateNode()">\n      <i class="fa-solid fa-check"></i>\n      <span data-translate>Save</span>\n    </button>\n  </div>\n</div>\n'),e.put("views/admin/users.html",'<div data-ng-controller="AdminUserTabCtrl">\n  <uib-tabset>\n    <uib-tab data-ng-repeat="tab in tabs" heading="{{tab.title | translate}}">\n      <div class="tab-content" data-ng-include="tab.template" novalidate></div>\n    </uib-tab>\n  </uib-tabset>\n</div>\n'),e.put("views/admin/users/tab1.html",'<div class="configSection" data-ng-controller="AdminUsersCtrl">\n  <div>\n    <span data-translate>Users</span>\n    <button class="btn btn-sm btn-primary show-add-user-btn" data-ng-click="toggleAddUser()">\n      <i class="fa-solid fa-plus"></i>\n      <span data-translate>Add</span>\n    </button>\n  </div>\n  <div class="row" data-ng-controller="AdminUserAddCtrl" data-ng-show="showAddUser">\n    <div data-ng-form="newUser" class="addUser col-md-6">\n      <div class="form-group">\n        <label data-translate>Role</label>\n        <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n        <div>\n          <select name="role" class="form-control" data-ng-model="new_user.role" required>\n            <option value="admin" data-translate>Admin</option>\n            <option value="receiver" data-translate>Recipient</option>\n            <option data-ng-if="resources.node.enable_custodian" value="custodian" data-translate>Custodian</option>\n          </select>\n        </div>\n      </div>\n      <div class="form-group" data-ng-if="new_user.role !== \'receiver\' || !resources.node.simplified_login">\n        <label data-translate>Username</label>\n        <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n        <div>\n          <input class="form-control" name="username" data-ng-model="new_user.username" type="text" required/>\n        </div>\n      </div>\n      <div class="form-group">\n        <label data-translate>Name</label>\n        <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n        <div>\n          <input class="form-control" name="name" data-ng-model="new_user.name" type="text" required/>\n        </div>\n      </div>\n      <div class="form-group">\n        <label data-translate>Email address</label>\n        <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n        <div>\n          <input class="form-control" name="email" data-ng-model="new_user.email" data-ng-pattern="CONSTANTS.email_regexp" type="email" data-ng-class="{\'is-invalid\': newUser.email.$error.pattern}" required/>\n        </div>\n        <div class="text-danger" data-ng-show="newUser.email.$error.pattern" data-translate>Invalid email address</div>\n      </div>\n      <div class="form-group">\n        <button id="add-btn" class="btn btn-primary" data-ng-disabled="newUser.$invalid"\n                data-ng-click="add_user(); toggleAddUser()" type="submit">\n          <i class="fa-solid fa-plus"></i>\n          <span data-translate>Add</span>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="userList" data-ng-repeat="user in resources.users | orderBy:\'name\'">\n  <form id="user-{{$index}}" name="editUser" data-ng-controller="AdminUserEditorCtrl" novalidate>\n    <div class="configItem">\n      <div class="editorHeader row" data-ng-click="toggleEditing(); $event.stopPropagation();">\n        <span class="col-md-7">\n          <span>{{user.name}}</span>\n          <span class="badge badge-primary">\n            <span data-ng-switch="user.role">\n              <span data-ng-switch-when="admin" data-translate>Admin</span>\n              <span data-ng-switch-when="receiver" data-translate>Recipient</span>\n              <span data-ng-switch-when="custodian" data-translate>Custodian</span>\n            </span>\n          </span>\n          <span class="badge badge-secondary" data-ng-if="!user.enabled" data-translate>Disabled</span>\n\t  <span class="badge badge-default" data-ng-if="resources.node.encryption && !user.encryption" data-uib-tooltip="{{\'This user has not performed the first login yet.\' | translate}}">\n\t    <i class="fa-solid fa-exclamation-circle"></i>\n\t  </span>\n        </span>\n        <span class="col-md-5 clearfix">\n          <span class="float-right">\n            <button class="btn btn-sm btn-outline-secondary"\n              data-ng-show="!editing"\n              data-ng-click="toggleEditing(); $event.stopPropagation();">\n              <span data-translate>Edit</span>\n            </button>\n            <button class="btn btn-sm btn-primary"\n              data-ng-show="editing"\n              data-ng-disabled="editUser.$invalid"\n              data-ng-click="saveUser()">\n              <span data-translate>Save</span>\n            </button>\n            <button class="btn btn-sm btn-outline-secondary"\n              data-ng-show="editing"\n              data-ng-click="toggleEditing(); $event.stopPropagation();">\n              <span data-translate>Cancel</span>\n            </button>\n            <button class="btn btn-sm btn-danger"\n              data-ng-if="Authentication.session.user_id !== user.id"\n              data-ng-click="deleteUser(); $event.stopPropagation();">\n              <span data-translate>Delete</span>\n            </button>\n          </span>\n        </span>\n      </div>\n      <div class="editor" data-ng-if="editing">\n        <hr/>\n        <div class="row">\n          <div class="col-md-6">\n            <div class="form-group">\n              <div data-image-upload data-image-upload-model="user" data-image-upload-model-attr="picture" data-image-upload-id="{{user.id}}"></div>\n            </div>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-md-12">\n            <div class="form-group" data-ng-if="user.role !== \'receiver\' || !resources.node.simplified_login">\n              <label data-translate>Username</label>\n              <input class="form-control" name="username" data-ng-model="user.username" type="text" required/>\n              <div class="text-danger" data-ng-show="editUser.name.$error.required" data-translate>This field is mandatory</div>\n            </div>\n            <div class="form-group">\n              <label data-translate>Name</label>\n              <input class="form-control" name="name" data-ng-model="user.name" type="text" required/>\n              <div class="text-danger" data-ng-show="editUser.name.$error.required" data-translate>This field is mandatory</div>\n            </div>\n            <div class="form-group">\n              <label data-translate>Public name</label>\n              <input class="form-control" name="public_name" data-ng-model="user.public_name" type="text" required/>\n            </div>\n            <div class="form-group">\n              <label data-translate>Description</label>\n              <textarea name="description" class="form-control" data-ng-model="user.description"></textarea>\n            </div>\n            <div class="form-group">\n              <label data-translate>Email address</label>\n              <input class="form-control" name="email" data-ng-model="user.mail_address" type="email"\n                     data-ng-pattern="CONSTANTS.email_regexp" required/>\n              <div class="text-danger" data-ng-show="editUser.email.$error.required" data-translate>This field is mandatory</div>\n              <div class="text-danger" data-ng-show="editUser.email.$error.pattern" data-translate>Invalid email address</div>\n            </div>\n            <div class="form-group" data-ng-if="Authentication.session.user_id !== user.id">\n              <label data-translate>Password</label>\n              <div>\n                <span class="btn btn-outline-secondary" data-ng-click="resetUserPassword()">\n                  <i class="fa-solid fa-sync"></i>\n                  <span data-ng-if="user.last_login === \'1970-01-01T00:00:00Z\'" data-translate>Send activation link</span>\n                  <span data-ng-if="user.last_login !== \'1970-01-01T00:00:00Z\'" data-translate>Send reset link</span>\n                </span>\n                <span class="btn btn-outline-secondary"\n                      data-ng-if="!user.encryption || resources.preferences.escrow"\n                      data-ng-init="user.newpassword = false"\n                      data-ng-click="user.newpassword=!user.newpassword">\n                  <i class="fa-solid fa-edit"></i>\n                  <span data-translate>Set password</span>\n                </span>\n              </div>\n              <div class="form-group" data-ng-if="user.newpassword" data-ng-form="userPasswordForm">\n                <input class="d-none" type="password" name="disable-autocomplete-hack" />\n                <span class="input-group">\n                  <input name="password" class="form-control" data-ng-model="setPasswordArgs.password" type="password" autocomplete="off" data-password-strength-validator/>\n                  <span class="input-group-append">\n                    <button id="setPasswordButton" class="btn btn-primary" data-ng-disabled="!setPasswordArgs.password" data-ng-click="setPassword()">\n                      <i class="fa-solid fa-tag"></i>\n                      <span data-translate>Set password</span>\n                    </button>\n                  </span>\n                </span>\n\n                <password-meter data-ng-show="passwordStrengthScore" value="passwordStrengthScore"></password-meter>\n                <div class="text-danger" data-ng-show="passwordStrengthScore && passwordStrengthScore < 2">\n                  <p data-translate>The chosen password is too weak. A valid password should be at least 12 characters long and contain a variety of characters including at least a lowercase character, a capital character, a number and a special character.</p>\n                </div>\n              </div>\n            </div>\n            <div class="form-group">\n              <input data-ng-model="user.enabled" type="checkbox" />\n              <label data-translate>Enabled</label>\n            </div>\n            <div class="form-group">\n              <input data-ng-model="user.password_change_needed" type="checkbox" />\n              <label data-translate>Force password change</label>\n              <div data-ng-show="changePasswordArgs.password_change_needed">\n                <span class="badge badge-primary" data-translate>Enabled</span>\n                <span data-translate>The user will be forced to change its password on next login.</span>\n              </div>\n            </div>\n            <div class="form-group" data-ng-if="user.two_factor">\n              <span class="btn btn-danger" data-ng-click="disable2FA()">\n                <i class="fa-solid fa-ban"></i>\n                <span data-translate>Disable two factor authentication</span>\n              </span>\n            </div>\n            <div class="form-group">\n              <label data-translate>Language</label>\n              <select class="form-control" data-ng-model="user.language"\n                      data-ng-options="item.code as item.name for item in languages_enabled_selector"></select>\n            </div>\n            <div class="form-group" data-ng-if="(user.role === \'admin\' && !resources.node.disable_admin_notification) ||\n                                                (user.role === \'receiver\' && !resources.node.disable_receiver_notification) ||\n                                                (user.role === \'custodian\' && !resources.node.disable_custodian_notification)">\n              <input data-ng-model="user.notification" type="checkbox">\n              <label data-translate>Enable email notifications</label>\n            </div>\n          </div>\n\t</div>\n        <div class="row" data-ng-if="resources.node.pgp">\n          <div class="col-md-12">\n            <div class="form-group" data-ng-show="user.pgp_key_fingerprint">\n              <div class="form-group">\n                <label data-translate>Details of the PGP key:</label>\n                <p><span data-translate>Fingerprint</span>: <span>{{user.pgp_key_fingerprint}}</span></p>\n                <p><span data-translate>Expiration date</span>: {{user.pgp_key_expiration | date:"dd/MM/yyyy"}}</p>\n              </div>\n              <div class="form-group">\n                <input data-ng-model="user.pgp_key_remove" type="checkbox"/>\n                <label data-translate>Remove</label>\n              </div>\n            </div>\n            <div class="form-group" data-ng-show="user.pgp_key_fingerprint === \'\'">\n              <div class="position-relative">\n                <label data-translate>Set up encryption by providing a PGP public key</label>\n                <div>\n                  <label file-input="loadPublicKeyFile(file)" file-input-label="Upload"\n                         class="btn btn-sm btn-outline-secondary"></label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="row" data-ng-if="user.role === \'admin\'">\n          <div class="col-md-12">\n            <div class="form-group" data-ng-if="resources.node.escrow && user.encryption && resources.preferences.escrow">\n              <input data-ng-model="user.escrow" type="checkbox" data-ng-change="toggleUserEscrow()" data-ng-disabled="Authentication.session.user_id === user.id">\n              <label data-translate>Give this admin ability to change user passwords</label>\n            </div>\n          </div>\n        </div>\n        <div class="row" data-ng-if="user.role === \'receiver\'">\n          <div class="col-md-12">\n            <div class="form-group">\n              <input data-ng-model="user.forcefully_selected" type="checkbox">\n              <label data-translate>Forcefully selected</label>\n            </div>\n            <div class="form-group">\n              <input data-ng-model="user.can_delete_submission" type="checkbox"/>\n              <label data-translate>Allow the recipient to delete reports</label>\n            </div>\n            <div class="form-group" data-ng-if="!resources.node.can_postpone_expiration">\n              <input data-ng-model="user.can_postpone_expiration" type="checkbox"/>\n              <label data-translate>Allow the recipient to postpone the report expiration date</label>\n            </div>\n            <div class="form-group">\n              <input data-ng-model="user.can_grant_access_to_reports" type="checkbox"/>\n              <label data-translate>Give this user ability to grant user access to reports</label>\n            </div>\n            <div class="form-group">\n              <input data-ng-model="user.can_transfer_access_to_reports" type="checkbox" />\n              <label data-translate>Give this user ability to transfer reports to other users</label>\n            </div>\n          </div>\n        </div>\n        <div class="row" data-ng-if="user.role !== \'admin\'">\n          <div class="col-md-12">\n            <label data-translate>Give the user administrative access to the following features:</label>\n            <div class="form-group">\n              <input data-ng-model="user.can_edit_general_settings" type="checkbox"/>\n              <span data-translate>Settings</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n'),e.put("views/admin/users/tab2.html",'<div class="row">\n  <div class="col-md-6">\n    <div class="form-group">\n      <label data-translate>Privacy Policy</label>\n      <div>\n        <textarea class="form-control" data-ng-model="resources.node.user_privacy_policy_text"></textarea>\n      </div>\n    </div>\n    <div class="form-group">\n      <label><span data-translate>Privacy Policy</span> <span>(URL)</span></label>\n      <input class="form-control" data-ng-model="resources.node.user_privacy_policy_url" type="text" />\n    </div>\n    <button class="btn btn-primary" data-ng-click="updateNode()">\n      <i class="fa-solid fa-check"></i>\n      <span data-translate>Save</span>\n    </button>\n  </div>\n</div>\n'),e.put("views/custodian/home.html",'<div id="CustodianHomepage" data-ng-include="\'views/partials/user_home.html\'"></div>\n'),e.put("views/custodian/identity_access_requests.html",'<div data-ng-controller="CustodianIdentityAccessRequestsCtrl">\n  <div class="row">\n    <div class="col-md-12 clearfix">\n        <span class="float-left">\n        <a id="link-tiplist"\n           href="#/custodian/home"\n           data-uib-tooltip="{{\'Home\' | translate}}"\n           class="btn btn-outline-secondary">\n          <i class="fa-solid fa-arrow-left"></i>\n        </a>\n\n        <span id="link-reload"\n              data-ng-click="reload()"\n              data-uib-tooltip="{{\'Refresh\' | translate}}"\n              class="btn btn-outline-secondary">\n          <i class="fa-solid fa-sync"></i>\n        </span>\n      </span>\n    </div>\n  </div>\n  <div class="row mt-2">\n    <div class="col-md-12">\n      <table class="table table-condensed table-striped">\n        <thead>\n        <tr>\n          <th data-translate>Request date</th>\n          <th data-translate>ID</th>\n          <th data-translate>Report date</th>\n          <th data-translate>User</th>\n          <th data-translate>Request motivation</th>\n          <th data-translate>Reply motivation</th>\n          <th data-translate>Authorization</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr id="iar-{{$index}}" data-ng-repeat="iar in iars | orderBy:request_date:true">\n          <td>{{iar.request_date | date:\'dd-MM-yyyy HH:mm\'}}</td>\n          <td>{{iar.submission_progressive}}</td>\n          <td>{{iar.submission_date | date:\'dd-MM-yyyy HH:mm\'}}</td>\n          <td>{{iar.request_user_name | date:\'dd-MM-yyyy HH:mm\'}}</td>\n          <td>{{iar.request_motivation | date:\'dd-MM-yyyy HH:mm\'}}</td>\n          <td>{{iar.reply_motivation | date:\'dd-MM-yyyy HH:mm\'}}</td>\n          <td>\n            <span data-ng-switch="iar.reply">\n              <span data-ng-switch-when="authorized" data-translate>Authorized</span>\n              <span data-ng-switch-when="denied" data-translate>Denied</span>\n              <span data-ng-switch-when="pending">\n                <button class="btn btn-sm btn-primary" data-ng-click="authorize_identity_access_request(iar.id)"\n                        data-translate>Authorize</button>&nbsp;\n                <button class="btn btn-sm btn-danger" data-ng-click="file_denied_identity_access_reply(iar.id)"\n                        data-translate>Deny</button>\n              </span>\n            </span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n'),e.put("views/custodian/settings.html",'<form name="contentForm" data-ng-controller="AdminGeneralSettingsCtrl" data-ng-include="tabs[0].template" novalidate></form>'),e.put("views/custodian/sidebar.html","<a href=\"#/custodian/home\" data-ng-class=\"{'active': location.path() === '/custodian/home'}\" aria-current=\"{{location.path() === '/custodian/home' ? 'page' : 'false'}}\"><i class=\"fa fa-home\"></i><span data-translate>Home</span></a>\n<a href=\"#/custodian/requests\" data-ng-class=\"{'active': location.path() === '/custodian/requests'}\" aria-current=\"{{location.path() === '/custodian/requests' ? 'page' : 'false'}}\"><i class=\"fa fa-inbox\"></i><span data-translate>Requests</span></a>\n"),e.put("views/email_validation_failure.html",'<div class="row">\n  <div class="col-md-12">\n    <span data-translate>The validation link is either incorrect or has expired.</span>\n  </div>\n</div>\n'),e.put("views/email_validation_success.html",'<div class="row">\n  <div class="col-md-12">\n    <span data-translate>Your new email address has been validated.</span>\n  </div>\n</div>\n'),e.put("views/empty.html",""),e.put("views/home.html",'<div data-ng-switch="page">\n  <div data-ng-switch-when="submissionpage">\n    <div data-ng-controller="SubmissionCtrl" data-ng-include="\'views/whistleblower/submission.html\'"></div>\n  </div>\n  <div data-ng-switch-when="receiptpage">\n    <div data-ng-controller="ReceiptCtrl" data-ng-include="\'views/whistleblower/receipt.html\'"></div>\n  </div>\n  <div data-ng-switch-when="tippage">\n    <div data-ng-controller="TipCtrl" data-ng-include="\'views/whistleblower/tip.html\'"></div>\n  </div>\n  <div data-ng-switch-default>\n    <div data-ng-include="\'views/whistleblower/home.html\'"></div>\n  </div>\n</div>\n'),e.put("views/login/default.html",'<fieldset>\n  <legend class="visually-hidden" data-translate>Log in</legend>\n  <div data-ng-if="!Authentication.requireAuthCode">\n    <div class="form-group">\n      <div class="input-group">\n        <div class="input-group-prepend">\n          <span class="input-group-text"><i class="fa-solid fa-user"></i></span>\n        </div>\n        <input class="form-control" name="username" aria-label="{{\'Username\' | translate}}" placeholder="{{\'Username\' | translate}}" data-ng-model="Authentication.loginData.loginUsername" type="text" required />\n      </div>\n    </div>\n    <div class="form-group">\n      <div class="input-group">\n        <div class="input-group-prepend">\n          <span class="input-group-text"><i class="fa-solid fa-lock"></i></span>\n        </div>\n        <input class="form-control" name="password" aria-label="{{\'Password\' | translate}}" placeholder="{{\'Password\' | translate}}" data-ng-model="Authentication.loginData.loginPassword" type="password" required />\n      </div>\n    </div>\n\n    <button id="login-button" class="btn btn-primary" data-ng-disabled="Authentication.loginInProgress || loginForm.$invalid" data-ng-click="Authentication.login(0, Authentication.loginData.loginUsername, Authentication.loginData.loginPassword)" type="submit">\n      <i class="fa-solid fa-sign-in-alt"></i>\n      <span data-translate>Log in</span>\n    </button>\n\n    <span id="forgot-button">\n      <a class="btn btn-outline-secondary" href="#/login/passwordreset" data-translate>Forgot password?</a>\n    </span>\n  </div>\n  <div data-ng-if="Authentication.requireAuthCode">\n    <div class="form-group">\n      <label for="input-2fa" data-translate>Enter the two factor authentication code</label>\n    </div>\n\n    <div class="input-group">\n      <input name="input-2fa" class="form-control" data-ng-model="Authentication.loginData.loginAuthCode" type="text" size="6" maxlength="6" required />\n\n      <div class="input-group-btn">\n        <button id="login-button" class="btn btn-primary" data-ng-disabled="Authentication.loginInProgress || loginForm.$invalid" data-ng-click="Authentication.login(0, Authentication.loginData.loginUsername, Authentication.loginData.loginPassword, Authentication.loginData.loginAuthCode)" type="submit">\n          <i class="fa-solid fa-sign-in-alt"></i>\n          <span data-translate>Log in</span>\n        </button>\n\n        <a class="btn" data-ng-click="Utils.openSupportModal()" data-uib-tooltip="{{\'Request support\' | translate}}"><i class="fa-solid fa-life-ring"></i></a>\n      </div>\n    </div>\n  </div>\n</fieldset>\n'),e.put("views/login/main.html",'<div class="row">\n  <div class="col-auto">\n    <form name="loginForm" autocomplete="off" novalidate>\n      <input class="d-none" type="password" name="disable-autocomplete-hack" />\n      <div data-ng-include="login_template"></div>\n      <br />\n      <div id="LoginError" class="alert alert-danger" data-ng-show="error.code === 9">\n        <span data-translate>Authentication failed</span>\n      </div>\n      <div id="LoginError" class="alert alert-danger" data-ng-show="error.code === 13">\n        <span data-translate>The code is either invalid or expired.</span>\n      </div>\n    </form>\n  </div>\n</div>\n'),e.put("views/login/simplified.html",'<div data-ng-if="!Authentication.requireAuthCode">\n  <div data-ng-if="public.receivers.length === 1">\n    <div class="form-group">\n      <input class="form-control" name="password" placeholder="{{\'Password\' | translate}}" data-ng-model="loginData.loginPassword" type="password" required />\n    </div>\n    <div class="form-group" data-ng-init="loginData.loginUsername = public.receivers[0].id">\n      <button id="login-button" class="btn btn-primary" data-ng-disabled="Authentication.loginInProgress || loginForm.$invalid" data-ng-click="Authentication.login(0, loginData.loginUsername, loginData.loginPassword)" type="submit">\n        <i class="fa-solid fa-sign-in-alt"></i>\n        <span data-translate>Log in</span>\n      </button>\n\n      <span id="forgot-button">\n        <a class="btn btn-outline-secondary" href="#/login/passwordreset" data-translate>Forgot password?</a>\n      </span>\n    </div>\n  </div>\n\n  <div data-ng-if="public.receivers.length !== 1">\n    <div class="form-group">\n      <label data-translate>Please select your account:</label>\n      <select class="form-control" data-ng-model="loginData.loginUsername" data-ng-options="item.id as item.name for item in public.receivers | orderBy:\'name\'" required></select>\n    </div>\n\n    <div data-ng-show="loginData.loginUsername">\n      <div class="form-group">\n        <label data-translate>Now type your password, then click \'Log in\':</label>\n        <input class="form-control" name="password" data-ng-model="loginData.loginPassword" type="password" required />\n      </div>\n\n      <div class="form-group">\n        <button id="login-button" class="btn btn-primary" data-ng-disabled="Authentication.loginInProgress || loginForm.$invalid" data-ng-click="Authentication.login(0, loginData.loginUsername, loginData.loginPassword)" type="submit">\n          <i class="fa-solid fa-sign-in-alt"></i>\n          <span data-translate>Log in</span>\n        </button>\n\n        <span id="forgot-button">\n          <a class="btn btn-outline-secondary" href="/#/login/passwordreset" data-translate>Forgot password?</a>\n        </span>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div data-ng-if="Authentication.requireAuthCode">\n  <div class="form-group">\n    <label data-translate>Enter the two factor authentication code</label>\n    <input class="form-control" data-ng-model="loginData.loginAuthCode" type="text" size="6" maxlength="6" required />\n  </div>\n\n  <button id="login-button" class="btn btn-primary" data-ng-disabled="Authentication.loginInProgress || loginForm.$invalid" data-ng-click="Authentication.login(0, loginData.loginUsername, loginData.loginPassword, loginData.loginAuthCode)" type="submit">\n    <i class="fa-solid fa-sign-in-alt"></i>\n    <span data-translate>Log in</span>\n  </button>\n</div>\n'),e.put("views/modals/accept_agreement.html",'<div class="modal-header">\n    <div class="modal-title" data-translate>Privacy Policy</div>\n</div>\n<div class="modal-body">\n    <div>\n        <div class="tos-text">{{public.node.user_privacy_policy_text}}</div>\n\t<a data-ng-if="public.node.user_privacy_policy_url" href="{{public.node.user_privacy_policy_url}}" target="_blank" data-translate>Download copy of the Privacy Policy</a>\n        <div class="form-check">\n            <input name="tos2" class="form-check-input" type="checkbox" data-ng-model="accept" required />\n            <label class="form-check-label" data-translate>I\'ve read and accept the Privacy Policy</label>\n        </div>\n    </div>\n</div>\n<div class="modal-footer">\n    <button id="modal-action-ok" class="btn btn-primary" data-ng-disabled="!accept" data-ng-click="confirm()">\n        <i class="fa-solid fa-check"></i>\n        <span data-translate>Confirm</span>\n    </button>\n</div>\n'),e.put("views/modals/add_option_hint.html",'<div class="modal-header">\n  <div class="modal-title" data-translate>Hint</div>\n  <button type="button" class="close" data-ng-click="cancel()" aria-label="{{\'Close\' | translate}}">\n    <i class="fa-solid fa-times"></i>\n  </button>\n</div>\n<div class="modal-body">\n  <div>\n    <span data-translate>Hint</span>\n    <input id="hint1" class="form-control" data-ng-model="arg.hint1" type="text" />\n  </div>\n  <div>\n    <span data-translate>Text shown after the user has selected the option.</span>\n    <input id="hint2" class="form-control" data-ng-model="arg.hint2" type="text" />\n  </div>\n</div>\n<div class="modal-footer">\n  <button id="modal-action-ok" class="btn btn-primary" data-ng-click="confirm()">\n    <i class="fa-solid fa-check"></i>\n    <span data-translate>Confirm</span>\n  </button>\n  <button id="modal-action-reset" class="btn btn-danger" data-ng-click="arg.hint1 = \'\'; arg.hint2 = \'\'; cancel()">\n    <i class="fa-solid fa-check"></i>\n    <span data-translate>Reset</span>\n  </button>\n  <button id="modal-action-cancel" class="btn btn-outline-secondary" data-ng-click="cancel()">\n    <i class="fa-solid fa-times"></i>\n    <span data-translate>Cancel</span>\n  </button>\n</div>\n'),e.put("views/modals/assign_score_points.html",'<div class="modal-header">\n  <div class="modal-title" data-translate>Assign score points</div>\n  <button type="button" class="close" data-ng-click="cancel()" aria-label="{{\'Close\' | translate}}">\n    <i class="fa-solid fa-times"></i>\n  </button>\n</div>\n<div class="modal-body">\n  <span class="alert alert-default">\n    <div>\n      <span data-translate>Type</span>\n      <select class="form-control" data-ng-model="arg.score_type">\n        <option value="none" data-translate>None</option>\n        <option value="addition" data-translate>Addition</option>\n        <option value="multiplier" data-translate>Multiplier</option>\n      </select>\n    </div>\n    <div data-ng-if="arg.score_type !== 0">\n      <span data-translate>Value</span>\n      <input id="score_points" class="form-control" data-ng-model="arg.score_points" type="number" />\n    </div>\n  </span>\n</div>\n<div class="modal-footer">\n  <a id="modal-action-ok" class="btn btn-primary" data-ng-click="confirm()">\n    <i class="fa-solid fa-check"></i>\n    <span data-translate>Confirm</span>\n  </a>\n  <a id="modal-action-cancel" class="btn btn-outline-secondary" data-ng-click="cancel()">\n    <i class="fa-solid fa-times"></i>\n    <span data-translate>Cancel</span>\n  </a>\n  <a id="modal-action-reset" class="btn btn-danger" data-ng-click="arg.score_type = 0; arg.score_points = 0; cancel()">\n    <i class="fa-solid fa-check"></i>\n    <span data-translate>Reset</span>\n  </a>\n</div>\n'),e.put("views/modals/confirmation_with_2fa.html",'<div class="modal-header">\n  <div class="modal-title" data-translate>Confirm</div>\n</div>\n<div class="modal-body">\n  <div class="form-group">\n    <div>\n      <span data-translate>Enter the two factor authentication code</span>\n    </div>\n    <input class="form-control" data-ng-model="secret" type="text" size="6" maxlength="6" />\n  </div>\n</div>\n<div class="modal-footer">\n <button data-ng-click="confirm(secret)" data-ng-disabled="secret.length !== 6" class="btn btn-primary" data-translate>Confirm</button>\n <button data-ng-click="cancel()" class="btn btn-light" data-translate>Close</button>\n</div>\n'),e.put("views/modals/confirmation_with_password.html",'<div class="modal-header">\n  <div class="modal-title" data-translate>Confirm</div>\n</div>\n<div class="modal-body">\n  <div class="form-group">\n    <div>\n      <span data-translate>Password</span>\n    </div>\n    <input class="form-control" data-ng-model="secret" type="password" />\n  </div>\n</div>\n<div class="modal-footer">\n <button data-ng-click="confirm(secret)" data-ng-disabled="!secret" class="btn btn-primary" data-translate>Confirm</button>\n <button data-ng-click="cancel()" class="btn btn-light" data-translate>Close</button>\n</div>\n'),e.put("views/modals/confirmation.html",'<div class="modal-header">\n  <div class="modal-title" data-translate>Are you sure?</div>\n  <button type="button" class="close" data-ng-click="cancel()" aria-label="{{\'Close\' | translate}}">\n    <i class="fa-solid fa-times"></i>\n  </button>\n</div>\n<div class="modal-body"></div>\n<div class="modal-footer">\n  <button id="modal-action-ok" class="btn btn-primary" data-ng-click="confirm(arg)">\n    <i class="fa-solid fa-check"></i>\n    <span data-translate>Yes</span>\n  </button>\n  <button id="modal-action-cancel" class="btn btn-outline-secondary" data-ng-click="cancel()">\n    <i class="fa-solid fa-times"></i>\n    <span data-translate>No</span>\n  </button>\n</div>\n'),e.put("views/modals/delete_confirmation.html",'<div class="modal-header">\n  <div class="modal-title" data-translate>Are you sure?</div>\n  <button type="button" class="close" data-ng-click="cancel()" aria-label="{{\'Close\' | translate}}">\n    <i class="fa-solid fa-times"></i>\n  </button>\n</div>\n<div class="modal-body" data-translate>Please note that all the associated data will be permanently deleted.</div>\n<div class="modal-footer">\n  <button id="modal-action-ok" class="btn btn-primary" data-ng-click="confirm(arg)">\n    <i class="fa-solid fa-check"></i>\n    <span data-translate>Yes</span>\n  </button>\n  <button id="modal-action-cancel" class="btn btn-outline-secondary" data-ng-click="cancel()">\n    <i class="fa-solid fa-times"></i>\n    <span data-translate>No</span>\n  </button>\n</div>\n'),e.put("views/modals/disclaimer.html",'<div class="modal-header">\n  <button type="button" class="close" data-ng-click="cancel()" aria-label="{{\'Close\' | translate}}">\n    <i class="fa-solid fa-times"></i>\n  </button>\n</div>\n<div class="modal-body">\n  <div class="disclaimer-text" data-markdown-to-html="public.node.disclaimer_text | stripHtml"></div>\n</div>\n<div class="modal-footer">\n  <button data-ng-click="confirm()" class="btn btn-primary" data-translate>Proceed</button>\n  <button id="modal-action-cancel" class="btn btn-outline-secondary" data-ng-click="cancel()" data-translate>Close</button>\n</div>\n'),e.put("views/modals/enable_2fa.html",'<div class="modal-header">\n  <div class="modal-title" data-translate>Enable two factor authentication</div>\n</div>\n<div class="modal-body">\n  <div data-ng-include="\'views/partials/enable_2fa.html\'"></div>\n</div>\n<div class="modal-footer">\n <button data-ng-click="confirm(totp.token)" data-ng-disabled="totp.secret.length !== 32 || totp.token.length !== 6" class="btn btn-primary" data-translate>Enable</button>\n <button data-ng-click="cancel()" class="btn btn-light" data-translate>Close</button>\n</div>\n'),e.put("views/modals/enable_encryption.html",'<div class="modal-header">\n  <div class="modal-title" data-translate>Are you sure?</div>\n  <button type="button" class="close" data-ng-click="cancel()" aria-label="{{\'Close\' | translate}}">\n    <i class="fa-solid fa-times"></i>\n  </button>\n</div>\n<div class="modal-body">\n  <span data-translate>Before proceeding please read carefully the documentation at:</span> <a href="https://docs.globaleaks.org/en/main/security/EncryptionProtocol.html" rel="noreferrer" target="_blank">Encryption</a>\n</div>\n<div class="modal-footer">\n  <button id="modal-action-ok" class="btn btn-primary" data-ng-click="confirm(arg)">\n    <i class="fa-solid fa-check"></i>\n    <span data-translate>Yes</span>\n  </button>\n  <button id="modal-action-cancel" class="btn btn-outline-secondary" data-ng-click="cancel()">\n    <i class="fa-solid fa-times"></i>\n    <span data-translate>No</span>\n  </button>\n</div>\n'),e.put("views/modals/encryption_recovery_key.html",'<div class="modal-header">\n  <div class="modal-title" data-translate>Account recovery key</div>\n</div>\n<div class="modal-body">\n  <div class="text-center font-weight-bold" data-uib-tooltip="{{\'Copy to clipboard\' | translate}}" data-ng-click="Utils.copyToClipboard(erk)">{{erk}}</div>\n  <br />\n  <div data-translate>Make a copy and store it in a safe place. It will be necessary if you lose your password to recover the access to your account without data loss.</div>\n</div>\n<div class="modal-footer">\n  <button data-ng-click="cancel()" class="btn btn-outline-secondary" data-translate>Close</button>\n</div>\n'),e.put("views/modals/file_view.html",'<div class="modal-header">\n  <div class="modal-title">\n    <h2>{{arg.name}}</h2>\n  </div>\n  <button type="button" class="close" data-ng-click="cancel()">\n    <i class="fa-solid fa-times"></i>\n  </button>\n</div>\n<div class="modal-body">\n  <div data-ng-if="!arg.loaded" class="Loader"></div>\n  <iframe data-ng-if="arg.loaded" id="viewer" data-ng-src="{{\'viewer/index.html\'}}" title="fileviewer" frameborder="0" height="{{arg.iframeHeight}}" sandbox="allow-downloads allow-scripts"></iframe>\n</div>\n<div class="modal-footer">\n  <a id="modal-action-cancel"\n     class="btn btn-outline-secondary"\n     data-ng-click="cancel()">\n    <i class="fa-solid fa-times"></i>\n    <span data-translate>Close</span>\n  </a>\n</div>'),e.put("views/modals/grant_access.html",'<div class="modal-header">\n  <div class="modal-title" data-translate>Grant access</div>\n  <button type="button" class="close" data-ng-click="cancel()" aria-label="{{\'Close\' | translate}}">\n    <i class="fa-solid fa-times"></i>\n  </button>\n</div>\n<div class="modal-body">\n  <div id="ReceiverContextAdder" class="form-group">\n    <div class="input-group">\n        <ui-select data-ng-model="arg.receiver_id" data-theme="bootstrap">\n        <ui-select-match data-ng-attr-placeholder="{{\'Search\' | translate}}">\n           <span data-ng-bind="arg.users_names[$select.selected.id]"></span>\n\t</ui-select-match>\n        <ui-select-choices data-repeat="receiver in public.receivers | filter: {name: $select.search}">\n           <span data-ng-bind-html="arg.users_names[receiver.id] | highlight: $select.search"></span>\n        </ui-select-choices>\n      </ui-select>\n      <div class="input-group-append">\n        <span class="input-group-text"><i class="fa-solid fa-search"></i></span>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-footer">\n  <button id="modal-action-ok" class="btn btn-primary" data-ng-click="confirm(arg.receiver_id.id)">\n    <span data-translate>Confirm</span>\n  </button>\n  <a id="modal-action-cancel" class="btn btn-outline-secondary" data-ng-click="cancel()">\n    <i class="fa-solid fa-times"></i>\n    <span data-translate>Close</span>\n  </a>\n</div>\n'),e.put("views/modals/questionnaire_duplication.html",'<div class="modal-header">\n  <div class="modal-title" data-translate>Enter a name for the copy</div>\n  <button type="button" class="close" data-ng-click="cancel()" aria-label="{{\'Close\' | translate}}">\n    <i class="fa-solid fa-times"></i>\n  </button>\n</div>\n<div class="modal-body">\n  <span data-translate>Name</span>\n  <div class="form-group">\n    <input name="name" class="form-control" data-ng-model="duplicate_questionnaire.name" type="text" data-ng-class="{\'is-invalid\': duplocateQuestionnaire.name.$error.required}" required />\n  </div>\n</div>\n<div class="modal-footer">\n  <span id="modal-action-ok" class="btn btn-primary" data-ng-click="confirm()">\n    <i class="fa-solid fa-check"></i>\n    <span data-translate>Duplicate</span>\n  </span>\n  <span id="modal-action-cancel" class="btn btn-outline-secondary" data-ng-click="cancel()">\n    <i class="fa-solid fa-times"></i>\n    <span data-translate>Cancel</span>\n  </span>\n</div>\n'),e.put("views/modals/report_reduct.html",'<div class="modal-header">\n  <div class="modal-title" data-translate>Are you sure?</div>\n  <button type="button" class="close" data-ng-click="cancel()" aria-label="{{\'Close\' | translate}}">\n    <i class="fa-solid fa-times"></i>\n  </button>\n</div>\n<div class="modal-body">\n  <textarea name="redact" id="redact" cols="30" rows="10" class="form-control" data-ng-bind-html="content"\n    data-ng-model="content" data-ng-disabled=true></textarea>\n</div>\n<div class="modal-footer">\n  <button\n    data-ng-show="(resources.preferences.can_mask_information) || (resources.preferences.can_mask_information && resources.preferences.can_delete_mask_information)"\n    class="btn btn-primary" data-ng-click="mask(\'redact\')">\n    <span data-translate>Mask</span>\n  </button>\n  <button\n    data-ng-show="(resources.preferences.can_delete_mask_information) && (maskingObjects.length !==0 ) && (maskingObjects[0].temporary_masking !==\'\')"\n    class="btn btn-outline-secondary" data-ng-click="unMask()">\n    <span data-translate>Unmask</span>\n  </button>\n  <button data-ng-show="(resources.preferences.can_mask_information) && (reductCondition !== false)"\n    class="btn btn-primary" data-ng-click="temporaryMask()">\n    <span data-translate>Reduct</span>\n  </button>\n  <button data-ng-show="(resources.preferences.can_delete_mask_information) && (maskingObjects.length !==0) && (maskingObjects[0].temporary_masking !==\'\')"\n    class="btn btn-primary" data-ng-click="permanentMask()">\n    <span data-translate>Permanent Reduct</span>\n  </button>\n</div>'),e.put("views/modals/request_support.html",'<div class="modal-header">\n  <div class="modal-title" data-translate>Request support</div>\n  <button type="button" class="close" data-ng-click="cancel()" aria-label="{{\'Close\' | translate}}">\n    <i class="fa-solid fa-times"></i>\n  </button>\n</div>\n<div class="modal-body" data-ng-init="sent=false; arg.mail_address=resources.preferences.mail_address">\n  <form data-ng-hide="sent" name="SupportRequest" novalidate>\n    <div class="form-group">\n      <label data-translate>Email address</label>\n      <input class="form-control" name="email" data-ng-model="arg.mail_address" type="email" data-ng-pattern="CONSTANTS.email_regexp" required/>\n      <div class="text-danger" data-ng-show="SupportRequest.email.$error.required" data-translate>This field is mandatory</div>\n      <div class="text-danger" data-ng-show="SupportRequest.email.$error.pattern" data-translate>Invalid email address</div>\n    </div>\n    <div class="form-group">\n      <label data-translate>Text</label>\n      <div>\n        <textarea class="form-control" name="message" data-ng-model="arg.text" required></textarea>\n      </div>\n      <div class="text-danger" data-ng-show="SupportRequest.message.$error.required" data-translate>This field is mandatory</div>\n    </div>\n  </form>\n  <div data-ng-show="sent" class="alert alert-secondary"><span data-translate>Thank you.</span> <span data-translate>We will try to get back to you as soon as possible.</span></div>\n</div>\n<div class="modal-footer">\n  <button id="modal-action-ok" class="btn btn-primary" data-ng-hide="sent" data-ng-disabled="SupportRequest.$invalid" data-ng-click="sent=true; Utils.submitSupportRequest(arg);">\n    <span data-translate>Submit</span>\n  </button>\n\n  <a id="modal-action-cancel" class="btn btn-outline-secondary" data-ng-click="cancel()">\n    <i class="fa-solid fa-times"></i>\n    <span data-translate>Close</span>\n  </a>\n</div>\n'),e.put("views/modals/revoke_access.html",'<div class="modal-header">\n  <div class="modal-title" data-translate>Revoke access</div>\n  <button type="button" class="close" data-ng-click="cancel()" aria-label="{{\'Close\' | translate}}">\n    <i class="fa-solid fa-times"></i>\n  </button>\n</div>\n<div class="modal-body">\n  <div id="ReceiverContextAdder" class="form-group">\n    <div class="input-group">\n        <ui-select data-ng-model="arg.receiver_id" data-theme="bootstrap">\n        <ui-select-match data-ng-attr-placeholder="{{\'Search\' | translate}}">\n           <span data-ng-bind="arg.users_names[$select.selected.id]"></span>\n\t</ui-select-match>\n        <ui-select-choices data-repeat="receiver in public.receivers | filter: {name: $select.search}">\n           <span data-ng-bind-html="arg.users_names[receiver.id] | highlight: $select.search"></span>\n        </ui-select-choices>\n      </ui-select>\n      <div class="input-group-append">\n        <span class="input-group-text"><i class="fa-solid fa-search"></i></span>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-footer">\n  <button id="modal-action-ok" class="btn btn-primary" data-ng-click="confirm(arg.receiver_id.id)">\n    <span data-translate>Confirm</span>\n  </button>\n  <a id="modal-action-cancel" class="btn btn-outline-secondary" data-ng-click="cancel()">\n    <i class="fa-solid fa-times"></i>\n    <span>Close</span>\n  </a>\n</div>\n'),e.put("views/modals/security_awareness_confidentiality.html",'<div class="modal-header">\n  <div class="modal-title" data-translate>The connection is not secure.</div>\n</div>\n<div class="modal-body" data-translate>The platform is still not configured for HTTPS connections and should therefore only be used for testing purposes.</div>\n<div class="modal-footer">\n  <a data-ng-click="confirm()" class="btn btn-primary" data-translate>Proceed</a>\n</div>\n'),e.put("views/modals/tip_additional_questionnaire_form.html",'<div class="modal-header">\n  <div class="modal-title" data-translate>Additional questionnaire</div>\n  <button type="submit" class="close" aria-hidden="true" data-ng-click="cancel()" aria-label="{{\'Close\' | translate}}">\n    <i class="fa-solid fa-times"></i>\n  </button>\n</div>\n<div class="modal-body">\n  <form id="SubmissionForm" name="vars.submissionForm" autocomplete="off" novalidate>\n    <div class="tabbable tabs-below">\n      <ul id="SubmissionTabsNavigationBox" class="nav nav-tabs" data-ng-if="tip.additional_questionnaire.steps.length > 1">\n        <li class="nav-item" data-ng-repeat="step in tip.additional_questionnaire.steps | orderBy:\'order\'" data-ng-if="step.enabled">\n          <a id="step-{{$index}}-link" class="nav-link title" data-ng-class="{active: navigation === $index}" data-ng-click="goToStep($index)">\n            <span>{{$index + 1}} - {{step.label}}</span>\n          </a>\n        </li>\n      </ul>\n\n      <div id="SubmissionTabsContentBox" class="tab-content">\n        <div data-ng-if="displayErrors()" data-ng-include="\'views/whistleblower/submission_errors.html\'"></div>\n        <div data-ng-repeat="step in tip.additional_questionnaire.steps | orderBy:\'order\'" data-ng-controller="SubmissionStepCtrl" data-ng-if="step.enabled">\n          <div id="{{stepId}}" data-ng-form="{{stepId}}" class="SubmissionStep" data-ng-show="navigation === $index">\n            <div class="description" data-ng-if="step.description">{{step.description}}</div>\n            <div data-ng-include="\'views/whistleblower/form.html\'"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n<div class="modal-footer">\n  <div id="SubmissionButtons">\n    <button id="PreviousStepButton" class="btn btn-outline-secondary" data-ng-show="hasPreviousStep()" data-ng-click="decrementStep()">\n      <i class="fa-solid fa-arrow-circle-left"></i>\n      <span data-translate>Previous</span>\n    </button>\n\n    <button id="NextStepButton" class="btn btn-outline-secondary" data-ng-show="hasNextStep()" data-ng-click="incrementStep()">\n      <span data-translate>Next</span>\n      <i class="fa-solid fa-arrow-circle-right"></i>\n    </button>\n\n    <button id="SubmitButton" class="btn btn-primary" data-ng-show="!hasNextStep()" data-ng-click="completeSubmission()" type="submit">\n      <i id="SubmitIconOK" class="fa-solid fa-check"></i>\n      <span data-translate>Submit</span>\n      <span data-ng-show="submission.wait">({{submission.countdown}})</span>\n    </button>\n  </div>\n</div>\n'),e.put("views/modals/tip_operation_file_identity_access_reply.html",'<div class="modal-header">\n  <div class="modal-title" data-translate>Deny access to the whistleblower\'s identity</div>\n  <button type="button" class="close" data-ng-click="cancel()" aria-label="{{\'Close\' | translate}}">\n    <i class="fa-solid fa-times"></i>\n  </button>\n</div>\n<div class="modal-body">\n  <label data-translate>Please write a motivation for the reply</label>\n  <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n  <textarea class="form-control" data-ng-model="reply_motivation" data-ng-attr-placeholder="{{\'Reply motivation\' | translate}}"></textarea>\n</div>\n<div class="modal-footer">\n  <button id="modal-action-ok" class="btn btn-primary" data-ng-disabled="!reply_motivation" data-ng-click="confirm()">\n    <i class="fa-solid fa-check"></i>\n    <span data-translate>Send</span>\n  </button>\n  <span id="modal-action-cancel" class="btn btn-outline-secondary" data-ng-click="cancel()">\n    <i class="fa-solid fa-times"></i>\n    <span data-translate>Cancel</span>\n  </span>\n</div>\n'),e.put("views/modals/tip_operation_file_identity_access_request.html",'<div class="modal-header">\n  <div class="modal-title" data-translate>Request access to the whistleblower\'s identity</div>\n  <button type="button" class="close" data-ng-click="cancel()" aria-label="{{\'Close\' | translate}}">\n    <i class="fa-solid fa-times"></i>\n  </button>\n</div>\n<div class="modal-body">\n  <label data-translate>Please write a motivation</label>\n  <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n  <textarea class="form-control" data-ng-model="request_motivation" data-ng-attr-placeholder="{{\'Request motivation\' | translate}}"></textarea>\n</div>\n<div class="modal-footer">\n  <button id="modal-action-ok" class="btn btn-primary" data-ng-disabled="!request_motivation" data-ng-click="confirm()">\n    <i class="fa-solid fa-check"></i>\n    <span data-translate>Send</span>\n  </button>\n  <span id="modal-action-cancel" class="btn btn-outline-secondary" data-ng-click="cancel()">\n    <i class="fa-solid fa-times"></i>\n    <span data-translate>Cancel</span>\n  </span>\n</div>\n'),e.put("views/modals/tip_operation_postpone.html",'<div class="modal-header">\n  <div class="modal-title" data-translate>Are you sure?</div>\n  <button type="button" class="close" data-ng-click="cancel()" aria-label="{{\'Close\' | translate}}">\n    <i class="fa-solid fa-times"></i>\n  </button>\n</div>\n<div class="modal-body">\n  <span data-translate>By confirming, you will postpone the expiration date to:</span>\n  <div class="input-group">\n    <input class="form-control inputelem"\n           type="text"\n           readonly="readonly"\n           data-ng-model="args.expiration_date"\n           data-ng-required="true"\n           data-ng-click="args.opened = true"\n           uib-datepicker-popup\n           datepicker-options="args.dateOptions"\n           is-open="args.opened"\n           show-button-bar="false" />\n    <span class="input-group-append" data-ng-click="args.opened = true"><i class="input-group-text fa-solid fa-calendar"></i></span>\n  </div>\n</div>\n<div class="modal-footer">\n  <button id="modal-action-ok" class="btn btn-primary" data-ng-click="confirm()">\n    <i class="fa-solid fa-check"></i>\n    <span data-translate>Yes</span>\n  </button>\n  <button id="modal-action-cancel" class="btn btn-outline-secondary" data-ng-click="cancel()">\n    <i class="fa-solid fa-times"></i>\n    <span data-translate>No</span>\n  </button>\n</div>\n'),e.put("views/modals/tip_operation_set_reminder.html",'<div class="modal-header">\n  <div class="modal-title" data-translate>Are you sure?</div>\n  <button type="button" class="close" data-ng-click="cancel()">\n    <i class="fa-solid fa-times"></i>\n  </button>\n</div>\n\n<div class="modal-body">\n  <span data-translate>By confirming, you will set a reminder on date:</span>\n  <div class="input-group">\n    <input class="form-control inputelem"\n           type="text"\n           readonly="readonly"\n           data-ng-model="args.reminder_date"\n           data-ng-required="true"\n           data-ng-click="args.opened = true"\n           uib-datepicker-popup\n           datepicker-options="args.dateOptions"\n           is-open="args.opened"\n           show-button-bar="false" />\n    <span class="input-group-append" data-ng-click="args.opened = true"><i class="input-group-text fa-solid fa-calendar"></i></span>\n  </div>\n</div>\n<div class="modal-footer">\n  <button id="modal-action-ok" class="btn btn-primary" data-ng-click="confirm()">\n    <i class="fa-solid fa-check"></i>\n    <span data-translate>Confirm</span>\n  </button>\n  <button id="modal-action-cancel" class="btn btn-outline-secondary" data-ng-click="cancel()">\n    <i class="fa-solid fa-times"></i>\n    <span data-translate>Cancel</span>\n  </button>\n  <button id="modal-action-disable" class="btn btn-danger" data-ng-click="disable_reminder()">\n    <span data-translate>Disable</span>\n  </button>\n</div>\n'),e.put("views/modals/transfer_access.html",'<div class="modal-header">\n    <div class="modal-title" data-translate>Transfer access</div>\n    <button type="button" class="close" data-ng-click="cancel()" aria-label="{{\'Close\' | translate}}">\n      <i class="fa-solid fa-times"></i>\n    </button>\n  </div>\n  <div class="modal-body">\n    <div id="ReceiverContextAdder" class="form-group">\n      <div class="input-group">\n          <ui-select data-ng-model="arg.receiver_id" data-theme="bootstrap">\n          <ui-select-match data-ng-attr-placeholder="{{\'Search\' | translate}}">\n             <span data-ng-bind="arg.users_names[$select.selected.id]"></span>\n      </ui-select-match>\n          <ui-select-choices data-repeat="receiver in public.receivers | filter: {name: $select.search}">\n             <span data-ng-bind-html="arg.users_names[receiver.id] | highlight: $select.search"></span>\n          </ui-select-choices>\n        </ui-select>\n        <div class="input-group-append">\n          <span class="input-group-text"><i class="fa-solid fa-search"></i></span>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="modal-footer">\n    <button id="modal-action-ok" class="btn btn-primary" data-ng-click="confirm(arg.receiver_id.id)">\n      <span data-translate>Confirm</span>\n    </button>\n    <a id="modal-action-cancel" class="btn btn-outline-secondary" data-ng-click="cancel()">\n      <i class="fa-solid fa-times"></i>\n      <span data-translate>Close</span>\n    </a>\n  </div>\n  '),e.put("views/modals/trigger_receiver.html",'<div class="modal-header">\n  <div class="modal-title" data-translate>Recipients</div>\n  <button type="button" class="close" data-ng-click="cancel()" aria-label="{{\'Close\' | translate}}">\n    <i class="fa-solid fa-times"></i>\n  </button>\n</div>\n<div class="modal-body">\n  <div data-translate>Recipients</div>\n  <ui-select data-ng-model="selected.value" data-theme="bootstrap" data-on-select=\'addReceiver($item)\'>\n    <ui-select-match data-ng-attr-placeholder="{{\'Search\' | translate}}">\n      <span data-ng-bind="$select.selected.name"></span>\n    </ui-select-match>\n    <ui-select-choices data-repeat="user in resources.users | filter: {role: \'receiver\', name: $selected.search} | filter:receiverNotSelectedFilter">\n      <span data-ng-bind-html="user.name | highlight: $select.search"></span>\n    </ui-select-choices>\n  </ui-select>\n  <div data-ng-if="arg.trigger_receiver">\n    <br />\n    <ol class="selectionList">\n      <li data-ng-repeat="user in arg.trigger_receiver">\n        <span class="action-btns">\n          <span data-ng-click="arg.trigger_receiver.splice($index, 1)" data-uib-tooltip="{{\'Remove\' | translate}}">\n            <i class="fa-solid fa-times"></i>\n          </span>\n        </span>\n        <span>{{admin_receivers_by_id[user].name}}</span>\n      </li>\n    </ol>\n  </div>\n</div>\n<div class="modal-footer">\n  <button id="modal-action-ok" class="btn btn-primary" data-ng-click="confirm()">\n    <i class="fa-solid fa-check"></i>\n    <span data-translate>Confirm</span>\n  </button>\n  <button id="modal-action-ok" class="btn btn-danger" data-ng-click="arg.trigger_receiver = []; cancel()">\n    <i class="fa-solid fa-check"></i>\n    <span data-translate>Reset</span>\n  </button>\n  <button id="modal-action-cancel" class="btn btn-outline-secondary" data-ng-click="cancel()">\n    <i class="fa-solid fa-times"></i>\n    <span data-translate>Cancel</span>\n  </button>\n</div>\n'),e.put("views/partials/admin_file.html",'<label>{{admin_file.title}}</label>\n<div class="card.card-body uploadfile file-{{admin_file.varname}}"\n     data-flow-init="{target: \'api/admin/files/\' + admin_file.varname}"\n     data-flow-files-submitted="$flow.upload()"\n     data-flow-file-success="reload()"\n     data-flow-file-single\n     data-flow-drop\n     extend-flow-valid-size="admin_file.size">\n  <span data-ng-show="!public.node[admin_file.varname]">\n    <div class="custom-file">\n      <input data-ng-attr-id="customFile-{{admin_file.varname}}" class="custom-file-input" type="file" data-flow-btn />\n      <label class="btn btn-sm btn-primary" data-ng-attr-for="customFile-{{admin_file.varname}}">\n        <i class="fa-solid fa-upload"></i>\n        <span data-translate>Upload</span>\n      </label>\n    </div>\n  </span>\n  <span data-ng-show="public.node[admin_file.varname]">\n    <a class="btn btn-sm btn-primary" href="{{\'s/\' + admin_file.varname}}" download="{{admin_file.filename}}">\n      <i class="fa-solid fa-download"></i>\n      <span data-translate>Download</span>\n    </a>\n    <button class="btn btn-sm btn-danger" data-ng-click="delete_file(\'api/admin/files/\' + admin_file.varname)">\n      <i class="fa-solid fa-trash"></i>\n      <span data-translate>Delete</span>\n    </button>\n  </span>\n  <div data-single-error-upload></div>\n</div>\n'),e.put("views/partials/audio_recorder.html",'<div data-ng-init="fileinput = field ? field.id : \'status_page\'; ">\n  <div data-ng-controller="AudioUploadCtrl">\n    <div class="audio-box">\n      <div class="audio-btn-group">\n        <button class="btn btn-audio" data-ng-click="startRecording(field.id);isRecording=true" data-ng-disabled="isRecording" data-ng-class="{ \'btn-audio-enabled\': !isRecording, \'active\': isRecording }">\n          <i class="fas fa-microphone-alt"></i>\n        </button>\n        <button class="btn btn-audio" data-ng-click="stopRecording()" data-ng-disabled="!isRecording" data-ng-class="{\'btn-audio-enabled\': isRecording}">\n          <i class="fas fa-stop"></i>\n        </button>\n        <div class="audio-recorder" data-ng-class="{\'audio-recorder-active\': isRecording}"></div>\n      </div>\n      <input data-ng-attr-id="customFile-{{fileinput}}" data-ng-model="_fakemodel[fileinput]" data-ng-required="field && field.required && !uploads[fileinput].files.length" name="input-{{entryIndex}}" type="file" />\n      <div id="{{fieldEntry}}-audio" class="audio-container" data-ng-disabled="isRecording">\n        <div class="audio-player-wrapper">\n          <audio data-ng-src="{{audioPlayer}}" data-ng-if="audioPlayer && !isRecording"  controls class="audio-player"></audio>\n        </div>\n      </div>\n    </div>\n    <div class="text-danger" data-ng-show="isRecordingTooShort">\n      Recording must be at least {{field.attrs.min_time.value}} seconds long.\n    </div>\n    <div class="text-danger" data-ng-show="isRecordingTooLong">\n      Recording must be at max {{field.attrs.max_time.value}} seconds long.\n    </div>\n  </div>\n</div>'),e.put("views/partials/datarangepicker.html",'<span data-close-on-date-selection="false" data-uib-datepicker-popup data-ng-model="ngModel" data-is-open="isDatePickerOpened" data-datepicker-options="daterangePickerOptions" data-ng-click="onDatePickerOpen($event)" data-clear-text="{{\'Reset\' | translate}}">\n  <i class="fa fa-calendar" data-ng-class="{filterSelected: checkFilter()}"></i>\n</span>\n'),e.put("views/partials/demo.html",'<div id="DemoBadge" class="bg-secondary text-white" translate>This is a demo platform, please do not use it for real submissions.</div>\n'),e.put("views/partials/enable_2fa.html",'<div class="row">\n  <div class="col-md-12">\n    <div>\n      <span class="badge badge-primary">1</span>\n      <span data-translate>Install an authenticator app on your phone</span>\n    </div>\n  </div>\n</div>\n<div class="row mt-3">\n  <div class="col-md-12">\n    <div>\n      <div>\n        <span class="badge badge-primary">2</span>\n        <span data-translate>Scan the QR code with the app</span>\n      </div>\n      <br />\n      <div class="text-center">\n        <qrcode data-ng-if="totp.qrcode_string" data-uib-tooltip="{{\'Copy to clipboard\' | translate}}" data-ng-click="Utils.copyToClipboard(totp.secret);" data="{{totp.qrcode_string}}" version="2" error-correction-level="Q" size="300" color="#1d1f2a" background="#FFF"></qrcode>\n        <div id="OTPSecretForm" data-ng-form="OTPSecretForm" class="form-inline">\n          <div class="form-group d-block mx-auto">\n            <div class="input-group">\n              <input class="form-control" data-ng-class="{\'is-invalid\': OTPSecretForm.$invalid}" name="secret" data-ng-model="totp.secret" data-ng-disabled="!totp.edit" type="text" data-ng-minlength=32 data-ng-maxlength="32" maxlength="32" size="32" required />\n             <span  data-ng-if="totp.edit" class="input-group-append" data-ng-click="OTPSecretForm.$valid && (totp.edit=!totp.edit)" data-uib-tooltip="{{\'Save\' | translate}}"><button class="btn btn-secondary" data-ng-disabled="OTPSecretForm.$invalid"><i class="fa-solid fa-save"></i></button></span>\n             <span  data-ng-if="!totp.edit" class="input-group-append" data-ng-click="totp.edit=!totp.edit" data-uib-tooltip="{{\'Edit\' | translate}}"><button class="btn btn-secondary" data-ng-disabled="totp.secret.length !== 32"><i class="fa-solid fa-edit"></i></button></span>\n           </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="row mt-3">\n  <div class="col-md-12">\n    <div class="form-group">\n      <div>\n        <span class="badge badge-primary">3</span>\n        <span data-translate>Enter the two factor authentication code</span>\n      </div>\n      <input class="form-control" data-ng-model="totp.token" type="text" size="6" maxlength="6" />\n    </div>\n  </div>\n</div>\n'),e.put("views/partials/file_input.html",'<i class="fa-solid fa-upload"></i>\n<span>{{fileInputLabel | translate}}</span>\n<input class="custom-file-input" type="file" />\n'),e.put("views/partials/footer.html",'<div id="CustomFooter" class="vcenter preformatted mb-1" data-ng-if="public.node.footer" data-markdown-to-html="public.node.footer | stripHtml"></div>\n<div id="Policies" class="vcenter mb-1" data-ng-if="public.node.footer_whistleblowing_policy || public.footer_node.footer_privacy_policy || public.node.footer_accessibility_declaration">\n  <a data-ng-if="public.node.footer_whistleblowing_policy" href="{{public.node.footer_whistleblowing_policy}}">Whistleblowing Policy</a>\n  <span data-ng-if="public.node.footer_whistleblowing_policy && (public.node.footer_privacy_policy || public.node.footer_accessibility_declaration)" > - </span>\n  <a data-ng-if="public.node.footer_privacy_policy" href="{{public.node.footer_privacy_policy}}">Privacy Policy</a>\n  <span data-ng-if="(public.node.footer_whistleblowing_policy || public.footer_node.footer_privacy_policy) && public.node.footer_accessibility_declaration"> - </span>\n  <a data-ng-if="public.node.footer_accessibility_declaration" href="{{public.node.footer_accessibility_declaration}}">Accessibility Declaration</a>\n</div>\n<div id="AttributionClause" class="vcenter">Powered by <a href="https://www.globaleaks.org/" title="GlobaLeaks - Secure Whistleblowing Software" rel="noreferrer" target="_blank">GlobaLeaks</a></div>\n'),e.put("views/partials/header.html",'<header id="HeaderBox">\n  <div class="row">\n    <div id="HeaderBox1" class="col-auto mr-auto">\n      <a id="LogoBox" data-ng-click="setHomepage()">\n        <img class="img-fluid" alt="{{projectTitle}}" data-ng-src="{{public.node.logo ? \'s/logo\' : \'data/logo.png\'}}" />\n      </a>\n      <div id="TitleBox" data-ng-if="projectTitle || pageTitle">\n        <a data-ng-if="projectTitle" data-ng-click="setHomepage()" id="ProjectTitle"><h1 data-ng-if="!pageTitle">{{projectTitle}}</h1><span data-ng-if="pageTitle">{{projectTitle}}</span></a><span data-ng-if="projectTitle && pageTitle" class="TitleSeparator"> - </span><span><h1 data-ng-if="pageTitle" id="PageTitle">{{pageTitle | translate}}</h1></span>\n      </div>\n    </div>\n    <div id="HeaderBox2" class="col-auto">\n      <span id="UserBox" data-ng-include="\'views/partials/user.html\'"></span>\n    </div>\n  </div>\n</header>\n'),e.put("views/partials/image_upload.html",'<div id="projectImageLoader"\n     class="imageUpload"\n     data-ng-controller="ImageUploadCtrl"\n     data-flow-name="imageUploadObj.flow"\n     data-flow-init="{target: \'api/admin/files/\' + imageUploadId}"\n     data-flow-files-submitted="$flow.upload()"\n     data-flow-drop>\n  <label for="projectImageLoader"\n         class="changePictureButton text-primary"\n         data-ng-if="!imageUploadModel[imageUploadModelAttr] && !imageUploadObj.flow.files.length"\n         data-uib-tooltip="{{\'Edit\' | translate}}" data-flow-btn><i class="fa-solid fa-edit"></i></label>\n  <label data-ng-attr-id="projectImageLoader"\n         class="changePictureButton text-danger"\n         data-ng-click="deletePicture()"\n         data-ng-if="!imageSrcId && (imageUploadModel[imageUploadModelAttr] || imageUploadObj.flow.files.length)"\n         data-uib-tooltip="{{\'Delete\' | translate}}"><i class="fa-solid fa-times"></i></label>\n  <div class="imageUploadThumbnail">\n    <img data-ng-if="imageUploadModel[imageUploadModelAttr]" data-ng-src="s/{{imageUploadId}}">\n  </div>\n  <div errors-upload></div>\n</div>\n'),e.put("views/partials/messageconsole.html",'<div data-ng-if="error && [4, 9, 11, 13].indexOf(error.code) === -1 ">\n  <div data-uib-alert class="alert-danger" close="dismissError()" dismiss-on-timeout="3000">\n    \x3c!--\n      We skip authentication errors (9) that are handled by the request interceptor.\n    --\x3e\n    <div data-translate>Error!</div>\n    <div data-ng-switch="error.code">\n      <div data-ng-switch-when="1">\n        <span data-translate>Internal server error</span> <span>({{error.arguments[0]}})</span>\n      </div>\n\n      <div data-ng-switch-when="3">\n        <span data-translate>Error on input validation</span> <span>[{{error.arguments[0]}}]</span>\n      </div>\n      <div data-ng-switch-when="6">\n        <span data-translate>Resource not found</span>\n      </div>\n\n      <div data-ng-switch-when="8">\n        <span data-translate>Forbidden operation</span>\n      </div>\n\n      <div data-ng-switch-when="12">\n        <span data-translate>The specified old password is not valid</span>\n      </div>\n\n      <div data-ng-switch-when="13">\n        <span data-translate>Resource can only be accessed via the Tor network</span>\n      </div>\n\n      <div data-ng-switch-when="14">\n        <span data-translate>The upload request exceeds the size limit</span>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("views/partials/password_change.html",'<form name="passwordChangeForm">\n  <input class="d-none" type="password" name="disable-autocomplete-hack" />\n\n  <div class="form-group" data-ng-if=\'!resources.preferences.password_change_needed\'>\n    <label>\n      <span data-translate>Current password</span>\n      <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n    </label>\n    <input class="form-control" name="current" data-ng-model="changePasswordArgs.current" type="password" autocomplete="off" data-ng-class="{\'is-invalid\': changePasswordArgs.password && passwordChangeForm.current.$error.required}" required />\n  </div>\n\n  <div class="form-group">\n    <label>\n      <span data-translate>New password</span>\n      <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n    </label>\n    <input class="form-control" name="password" data-ng-model="changePasswordArgs.password" type="password" autocomplete="off" data-password-strength-validator data-ng-class="{\'is-invalid\': changePasswordArgs.password && passwordChangeForm.password.$error.passwordStrengthValidator}" required />\n    <password-meter data-ng-show="passwordStrengthScore" value="passwordStrengthScore"></password-meter>\n    <div class="text-danger" data-ng-show="passwordStrengthScore && passwordStrengthScore < 2">\n      <p data-translate>The chosen password is too weak. A valid password should be at least 12 characters long and contain a variety of characters including at least a lowercase character, a capital character, a number and a special character.</p>\n     </div>\n    <div class="text-danger" data-ng-show="changePasswordArgs.password && changePasswordArgs.password === changePasswordArgs.current">\n      <p data-translate>The new password must be different from the current one.</p>\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label>\n      <span data-translate>Type your new password again</span>\n      <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n    </label>\n    <input class="form-control" name="confirm" data-ng-model="changePasswordArgs.confirm" type="password" autocomplete="off" data-ng-class="{\'is-invalid\': changePasswordArgs.password && !passwordChangeForm.password.$error && (passwordChangeForm.confirm.$error.required || changePasswordArgs.password !== changePasswordArgs.confirm)}" required/>\n    <p class="text-danger" data-ng-show="changePasswordArgs.password && !passwordChangeForm.password.$error.passwordStrengthValidator && (changePasswordArgs.password !== changePasswordArgs.confirm)">\n      <span data-translate>The two passwords do not match</span>\n    </p>\n  </div>\n\n  <br />\n\n  <button type="submit" class="btn btn-primary" data-ng-disabled="passwordChangeForm.$invalid || passwordChangeForm.$pristine || changePasswordArgs.password !== changePasswordArgs.confirm || (changePasswordArgs.password && changePasswordArgs.password === changePasswordArgs.current)" data-ng-click="changePassword()">\n    <i class="fa-solid fa-check"></i>\n    <span data-translate>Save</span>\n  </button>\n</form>\n<div class="mt-2 alert alert-danger" data-ng-show="error.code === 11">\n  <span data-translate>The new password must be different from the current one.</span>\n</div>\n'),e.put("views/partials/password_meter.html",'<uib-progressbar value="value" max="3" type="{{type}}">\n  <span>{{text | translate}}</span>\n</uib-progressbar>\n'),e.put("views/partials/preferences.html",'<div class="row">\n  <div class="col-md-12">\n    <uib-tabset>\n      <uib-tab data-ng-repeat="tab in tabs" heading="{{tab.title | translate}}">\n        <div class="tab-content" data-ng-include="tab.template"></div>\n      </uib-tab>\n    </uib-tabset>\n  </div>\n</div>\n'),e.put("views/partials/preferences/tab1.html",'<form name="resources.preferences.orm" id="PreferencesForm">\n  <div data-ng-if="resources.preferences.picture" class="imageThumbnail">\n    <img class="receiverImg" alt="user picture" data-ng-src="/s/{{resources.preferences.id}}" /><br />\n  </div>\n  <div id="Username"><label><span data-translate>Username</span>:</label> {{resources.preferences.username}}</div>\n  <div id="Role"><label><span data-translate>Role</span>:</label> <span>{{Utils.role_l10n(Authentication.session.role)}}</span></div>\n  <div id="Name"><label><span data-translate>Name</span>:</label>\n    <span data-ng-if="!editingName">\n      <span>{{resources.preferences.name}}</span>\n      <button class="btn btn-sm btn-outline-secondary"\n              data-ng-show="!editingName"\n              data-ng-click="toggleNameEditing(); $event.stopPropagation();">\n        <span data-translate>Edit</span>\n      </button>\n    </span>\n    <input data-ng-if="editingName" class="form-control" name="name" data-ng-model="resources.preferences.name" type="text" required />\n  </div>\n  <div id="PublicName"><label><span data-translate>Public name</span>:</label>\n    <span data-ng-if="!editingPublicName">\n      <span>{{resources.preferences.public_name}}</span>\n      <button class="btn btn-sm btn-outline-secondary"\n              data-ng-show="!editingPublicName"\n              data-ng-click="togglePublicNameEditing(); $event.stopPropagation();">\n        <span data-translate>Edit</span>\n      </button>\n    </span>\n    <input data-ng-if="editingPublicName" class="form-control" name="public_name" data-ng-model="resources.preferences.public_name" type="text" required />\n  </div>\n  <div id="EmailAddress"><label><span data-translate>Email address</span>:</label>\n    <div>\n      <span data-ng-if="!editingEmailAddress">{{resources.preferences.mail_address}}</span>\n      <button class="btn btn-sm btn-outline-secondary"\n              data-ng-show="!editingEmailAddress"\n              data-ng-click="toggleEmailAddressEditing(); $event.stopPropagation();">\n        <span data-translate>Edit</span>\n      </button>\n    </div>\n  </div>\n  <div data-ng-if="editingEmailAddress">\n    <input class="form-control" name="mail_address" data-ng-model="resources.preferences.mail_address" data-ng-pattern="CONSTANTS.email_regexp" type="email" data-ng-class="{\'is-invalid\': resources.preferences.orm.$error.pattern}" />\n  </div>\n  <div data-ng-if="!editingEmailAddress && resources.preferences.change_email_address" class="alert alert-secondary">\n    <div data-translate>Validation of email address change in progress.</div>\n    <div data-translate>Please check your inbox for further instructions.</div>\n  </div>\n  <div data-ng-if="resources.preferences.description"><label data-translate>Description</label> {{resources.preferences.description}}</div>\n\n  <div id="Contexts" data-ng-if="Authentication.session.role === \'receiver\' && public.contexts.length > 1">\n    <label><span data-translate>Channels</span></label>\n    <ul data-ng-repeat="context_id in resources.preferences.contexts">\n      <li>{{contexts_by_id[context_id].name}}</li>\n    </ul>\n  </div>\n\n  <div id="Language" class="form-group" data-ng-if="languages_enabled_selector.length > 1">\n    <label data-translate>Language</label>\n    <select class="form-control" data-ng-model="resources.preferences.language" data-ng-options="item.code as item.native for item in languages_enabled_selector"></select>\n  </div>\n\n  <div id="EnableNotifications" class="form-group" data-ng-if="(Authentication.session.role === \'admin\' && !public.node.disable_admin_notification) ||\n                                                               (Authentication.session.role === \'receiver\' && !public.node.disable_receiver_notification) ||\n                                                               (Authentication.session.role === \'custodian\' && !public.node.disable_custodian_notification)">\n    <input data-ng-model="resources.preferences.notification" type="checkbox">\n    <label data-translate>Enable email notifications</label>\n  </div>\n\n  <div class="form-group">\n    <label>\n      <input data-ng-model="resources.preferences.two_factor" data-ng-change="toggle2FA()" type="checkbox" />\n      <span data-translate>Enable two factor authentication</span>\n    </label>\n  </div>\n\n  <div id="EditPGP" data-ng-form="pgpkeyForm" data-ng-if="public.node.pgp">\n    <div data-ng-show="resources.preferences.pgp_key_fingerprint">\n      <div class="form-group">\n        <label data-translate>Details of the PGP key:</label>\n        <div><span data-translate>Fingerprint</span>: <span>{{resources.preferences.pgp_key_fingerprint}}</span></div>\n        <div><span data-translate>Expiration date</span>: {{resources.preferences.pgp_key_expiration | date:"dd/MM/yyyy"}}</div>\n      </div>\n      <div class="form-group">\n        <input data-ng-model="resources.preferences.pgp_key_remove" type="checkbox">\n        <label data-translate>Remove</label>\n      </div>\n    </div>\n    <div data-ng-hide="resources.preferences.pgp_key_fingerprint">\n      <div class="position-relative">\n        <label data-translate>Set up encryption by providing a PGP public key</label>\n        <div>\n          <label file-input="loadPublicKeyFile(file)" file-input-label="Upload" class="btn btn-sm btn-outline-secondary"></label>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <br />\n\n  <button type="submit" class="btn btn-primary" data-ng-click="save()" data-ng-disabled="resources.preferences.orm.$invalid || pgpkeyForm.$invalid">\n    <i class="fa-solid fa-check"></i>\n    <span data-translate>Save</span>\n  </button>\n\n  <button data-ng-if="resources.preferences.encryption" class="btn btn-outline-secondary" data-ng-click="getEncryptionRecoveryKey()" data-translate>Account recovery key</button>\n</form>\n'),e.put("views/partials/preferences/tab2.html","  <div data-ng-include=\"'views/partials/password_change.html'\"></div>\n"),e.put("views/partials/privacybadge.html",'<div data-ng-if="!connection.tor">\n  <div id="PrivacyBadge" class="clearfix">\n    <div data-ng-if="!public.node.enable_custom_privacy_badge">\n      <div id="PrivacyBadgeTextBox" class="float-left">\n        <span class="badge badge-warning">\n          <i class="fa-solid fa-exclamation-circle"></i>\n          <span data-translate>Warning</span>\n        </span>\n        <div id="PrivacyBadgeText">\n          <div data-translate>You are strongly advised to visit this site using the app called Tor Browser, that protects your identity.</div>\n        </div>\n        <div id="PrivacyBadgeDownloadLink"><a class="btn btn-sm btn-secondary" href="https://www.torproject.org/download/" rel="noreferrer" target="_blank"><i class="fa-solid fa-download"></i> <span data-translate>Download the Tor Browser</span></a></div>\n        <div data-ng-if="public.node.onionservice">\n          <span data-translate>Then, copy and paste the following address into the Tor Browser:</span> <span class="onionaddress" data-uib-tooltip="{{\'Copy to clipboard\' | translate}}" data-ng-click="Utils.copyToClipboard(public.node.onionservice); $event.stopPropagation()">{{public.node.onionservice}}</span>\n        </div>\n      </div>\n    </div>\n    <div data-ng-if="public.node.enable_custom_privacy_badge">\n      <div id="PrivacyBoxTextBox" class="float-left">\n        <span id="PrivacyBadgeCustomText" data-markdown-to-html="public.node.custom_privacy_badge_text | stripHtml"></span>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("views/partials/receipt.html",'<form id="WhistleblowerLoginForm" autocomplete="off" novalidate>\n  <div>\n    <label id="WhistleblowerLoginQuestion" for="receipt-input" data-translate>Have you already filed a report? Enter your receipt.</label>\n  </div>\n  <div class="form-inline">\n    <div class="form-group d-block mx-auto">\n      <div class="input-group">\n        <input id="receipt-input" class="form-control" type="text" maxlength="19" size="19" data-ng-model="formatted_receipt" name="receipt-input" receiptvalidator>\n        <span class="input-group-append">\n          <button id="ReceiptButton"\n                  data-ng-click="Authentication.login(0, \'whistleblower\', formatted_receipt); formatted_receipt = \'\'" class="btn btn-primary"\n                  data-ng-disabled="formatted_receipt.length !== 19 || Authentication.loginInProgress || WhistleblowerLoginForm.receipt.$error.receiptvalidator" type="submit">\n            <span data-translate>Log in</span>\n          </button>\n        </span>\n      </div>\n    </div>\n  </div>\n</form>\n<div class="LoginErrorBoxHomepage text-danger" data-ng-show="error.code == 9" data-translate>The receipt is either invalid or the report has expired.</div>\n'),e.put("views/partials/rfile.html",'<div class="rfile card card-default">\n  <div class="card-body">\n    <div class="top-row clearfix">\n      <span class="float-left">\n        <span class="text-muted" data-ng-if="ctx === \'download\'"><span data-translate>Filename</span>:</span>\n        <span class="filename">{{rfile.name}}</span>\n      </span>\n      <span class="float-right">\n        <span>\n          <button class="download-button btn btn-sm btn-primary" data-ng-disabled="rfile.error" data-ng-click="downloadRFile(rfile)">\n            <i class="fa-solid fa-download"></i>\n          </button>\n          <button data-ng-if="Authentication.session.role === \'receiver\'" class="btn btn-sm btn-danger" data-ng-click="deleteRFile(rfile)" data-single-click>\n            <i class="fa-solid fa-trash"></i>\n          </button>\n        </span>\n      </span>\n    </div>\n    <div class="file-info-row">\n      <span class="px-1">\n        <span data-translate>Date</span>: <span>{{rfile.creation_date | date:\'dd-MM-yyyy HH:MM\'}}</span>\n      </span>\n      <span class="px-1">\n        <span data-translate>Size:</span> <span>{{rfile.size | byteFmt:2}}</span>\n      </span>\n      <span class="px-1" data-ng-if="rfile.access_date">\n        <span data-translate>Access date</span>: <span>{{rfile.access_date}}</span>\n      </span>\n    </div>\n    <div data-ng-if="rfile.description">\n      <span>\n        <span data-translate>Description</span>:\n      </span>\n      <span>{{rfile.description}}</span>\n    </div>\n  </div>\n</div>\n'),e.put("views/partials/signup.html",'<div data-ng-switch="public.node.mode">\n  <div data-ng-include="\'views/partials/signup/\' + public.node.mode + .html\'"></div>\n</div>\n\n'),e.put("views/partials/signup/default.html",'<div class="form-group">\n  <label>\n    <span data-translate>Name</span><span>: </span>\n  </label>\n  <span>{{tenant.signup.name}}</span>\n</div>\n<div class="form-group">\n  <label>\n    <span data-translate>Surname</span><span>: </span>\n  </label>\n  <span>{{tenant.signup.surname}}</span>\n</div>\n<div class="form-group">\n  <label>\n    <span data-translate>Language</span><span>: </span>\n  </label>\n  <span>{{tenant.signup.language}}</span>\n</div>\n<div class="form-group">\n  <label>\n    <span data-translate>Email address</span><span>: </span>\n  </label>\n  <span>{{tenant.signup.email}}</span>\n</div>\n'),e.put("views/partials/tip_additional_questionnaire_invite.html",'<div id="TipInfoBox" class="card card.bg-primary" data-ng-init="collapsed = false" data-ng-attr-aria-expanded="{{collapsed}}">\n  <div class="card-header" data-ng-click="collapsed = !collapsed; $event.stopPropagation();">\n    <span data-translate>Additional questionnaire</span>\n  </div>\n  <div class="card-body clearfix" data-ng-show="!collapsed">\n    <div data-translate>Recipients have requested you to fill an additional questionnaire.</div>\n    <div class="float-right">\n      <button class="btn btn-primary" data-ng-click="tip_open_additional_questionnaire()">\n        <i class="fa-solid fa-check"></i>\n        <span data-translate>Fill the additional questionnaire</span>\n      </button>\n    </div>\n  </div>\n</div>\n'),e.put("views/partials/tip_comments.html",'<div id="TipCommunicationComments" class="card card-default" data-ng-init="collapsed = false" data-ng-attr-aria-expanded="{{collapsed}}">\n  <div class="card-header clearfix" data-ng-click="collapsed = !collapsed; $event.stopPropagation();">\n    <span data-translate>Comments</span>\n    <span class="float-right">\n      <i data-ng-if="!collapsed" class="fa-solid fa-chevron-up" data-uib-tooltip="{{\'Collapse\' | translate}}"></i>\n      <i data-ng-if="collapsed" class="fa-solid fa-chevron-down" data-uib-tooltip="{{\'Expand\' | translate}}"></i>\n    </span>\n  </div>\n  <div class="card-body" data-ng-show="!collapsed">\n    <div data-ng-if="tip.status !== \'closed\' && (Authentication.session.role !== \'whistleblower\' || tip.enable_two_way_comments)" class="row">\n      <div class="col-md-12 clearfix">\n        <textarea id="TipCommunicationCommentsInput" data-ng-model="tip.newCommentContent" maxlength="4096" class="form-control" autocomplete="off" dynamic-textarea></textarea>\n        <span class="float-right">{{tip.newCommentContent.length ? tip.newCommentContent.length : \'0\'}}/4096</span>\n      </div>\n      <div class="col-md-12 clearfix">\n        <button id="comment-action-send" class="btn btn-primary" data-ng-click="newComment()" data-ng-disabled="!tip.newCommentContent">\n          <i class="fa-solid fa-comment"></i>\n          <span data-translate>Send</span>\n        </button>\n        <div data-ng-if="Authentication.session.role === \'receiver\' && !tip.context.enable_two_way_comments" class="form-group">\n          <label class="inline-checkbox">\n            <input data-ng-model="tip.enable_two_way_comments" data-ng-change="tip.operation(\'set\', {\'key\': \'enable_two_way_comments\', \'value\': tip.enable_two_way_comments})" type="checkbox" />\n            <span data-translate>Allow the whistleblower to write comments</span>\n          </label>\n        </div>\n      </div>\n    </div>\n    <div id="SubmissionComments" data-ng-if="tip.comments.length" data-ng-repeat="comment in tip.comments | filter : { visibility : activeTabKey } | orderBy:\'creation_date\':true | limitTo:itemsPerPage:((currentCommentsPage - 1) * itemsPerPage)">\n      <div id="comment-{{$index}}" class="mt-2">\n        <div data-ng-if="!comment.author_id" class="messageWB">\n          <div class="row">\n            <div class="col-md-6" data-translate>Whistleblower</div>\n            <div class="col-md-6 text-right">{{comment.creation_date | date:\'dd-MM-yyyy HH:mm\'}}</div>\n          </div>\n          <div class="preformatted">{{comment.content}}</div>\n        </div>\n        <div data-ng-if="comment.author_id" class="message">\n          <div class="row">\n            <div class="col-md-6">{{tip.receivers_by_id[comment.author_id].name}}</div>\n\t    <div class="col-md-6 text-right">{{comment.creation_date | date:\'dd-MM-yyyy HH:mm\'}}</div>\n          </div>\n          <div class="preformatted">{{comment.content}}</div>\n        </div>\n      </div>\n    </div>\n    <div class="mt-2 text-center" data-ng-show="tip.comments.length > itemsPerPage">\n      <ul uib-pagination\n          total-items="tip.comments.length"\n          first-text="<< {{\'First\' | translate}}"\n          last-text="{{\'Last\' | translate}} >>"\n          previous-text="< {{\'Previous\' | translate}}"\n          next-text="{{\'Next\' | translate}} >"\n          items-per-page="itemsPerPage"\n          data-ng-model="currentCommentsPage"\n          max-size="5"\n          class="pagination-sm"\n          boundary-links="true"\n          force-ellipses="true"></ul>\n    </div>\n  </div>\n</div>\n'),e.put("views/partials/tip_field_answer_entry.html",'<div data-ng-switch="field.type" class="nested">\n  <span data-ng-if="entry" data-ng-switch-when="checkbox">\n    <div data-ng-repeat="(k, v) in entry">\n      <div data-ng-repeat="option in field.options" data-ng-if="k === option.id && v === true">\n        <i class="fa-solid fa-check-square"></i>\n        <span>{{option.label}}</span>\n      </div>\n    </div>\n  </span>\n\n  <span data-ng-switch-when="voice">\n    <i class="fa-solid fa-file-audio" data-ng-if="Authentication.session.role === \'whistleblower\'"></i>\n    <div class="audio-player-wrapper" data-ng-disabled="!audiolist[field.id]" data-ng-if="Authentication.session.role === \'receiver\'">\n      <audio data-ng-src="{{audiolist[field.id]}}" controls class="audio-player"></audio>\n    </div>\n  </span>\n\n  <span data-ng-if="entry[\'value\']" data-ng-switch-when="selectbox|multichoice" data-ng-switch-when-separator="|">\n    <div data-ng-repeat="option in field.options">\n      <span data-ng-if="entry[\'value\'] === option.id">{{option.label}}</span>\n    </div>\n  </span>\n\n  <span data-ng-if="entry[\'value\']" data-ng-switch-when="date">{{entry[\'value\'] | date:\'dd-MM-yyyy\'}}</span>\n\n  <span data-ng-if="entry[\'value\']" data-ng-switch-when="daterange"><span data-translate>From:</span> {{entry[\'value\'] |\n    split:\':\':0 | date:\'dd-MM-yyyy\'}} <span data-translate>To:</span> {{entry[\'value\'] | split:\':\':1 |\n    date:\'dd-MM-yyyy\'}}</span>\n\n  <span data-ng-if="entry[\'value\']" data-ng-switch-when="tos">\n    <i data-ng-if="entry[\'value\'] === true" class="fa-solid fa-check-square"></i>\n    <i data-ng-if="entry[\'value\'] === false" class="fa-solid fa-square"></i>\n  </span>\n\n  <span data-ng-if="entry" data-ng-switch-when="fieldgroup">\n    <div data-ng-repeat="field in field.children | orderBy:[\'y\', \'x\'] | filter:{ type: \'!fileupload\'}">\n      <div data-ng-init="fieldAnswers=entry" data-ng-include="\'views/partials/tip_field.html\'"></div>\n    </div>\n  </span>\n\n  <span data-ng-switch-when="audioUpload" data-ng-init="loadRFile(audiolist[field.id][\'key\'][\'id\'], field.id, this)">\n    <div class="audio-player-wrapper" data-ng-disabled="!audiolist[field.id][\'value\']">\n      <audio data-ng-src="{{audiolist[field.id][\'value\']}}" controls class="audio-player"></audio>\n    </div>\n  </span>\n\n  <span data-ng-if="entry[\'value\']" class="entry-text preformatted"\n    data-ng-switch-default><i data-ng-if="edited(field.id)" class="fa-solid fa-pencil edited"></i>  {{maskingContent(entry[\'value\'],field.id)}}</span>\n  <span class="float-right edit" id="edit-question" data-ng-switch-default\n    data-ng-click="editReport(entry[\'value\'],field.id,\'answer\')" data-ng-if="mode"\n    data-uib-tooltip="{{\'Edit\' | translate}}">\n    <i class="fa-solid fa-eraser"></i>\n    <span data-ng-if="entry[\'value\']" class="entry-text preformatted" data-ng-switch-default>{{entry[\'value\']}}</span>\n  </span>\n</div>'),e.put("views/partials/tip_field.html",'<div data-ng-if="field.enabled" class="fieldAnswer">\n  <div>\n    <span data-ng-if="!$parent.field">{{$index + 1}})</span>\n    <span>{{field.label}}</span>\n  </div>\n  <div data-ng-if="!hasMultipleEntries(fieldAnswers[field.id])">\n    <div data-ng-init="entry = fieldAnswers[field.id][0]" data-ng-include="\'views/partials/tip_field_answer_entry.html\'"></div>\n  </div>\n  <div data-ng-if="hasMultipleEntries(fieldAnswers[field.id])">\n    <div data-ng-repeat="entry in fieldAnswers[field.id]">\n      <div class="nested"><span class="text-muted">#{{$index + 1}}</span></div>\n      <div class="nested" data-ng-include="\'views/partials/tip_field_answer_entry.html\'"></div>\n    </div>\n  </div>\n</div>\n'),e.put("views/partials/tip_files_receiver.html",'<div id="TipPageFilesInfoBox" class="card card-default" data-ng-init="collapsed = false" data-ng-attr-aria-expanded="{{collapsed}}">\n  <div class="card-header clearfix" data-ng-click="collapsed = !collapsed; $event.stopPropagation();">\n    <span data-translate>Attachments</span>\n    <span class="float-right">\n      <i data-ng-if="!collapsed" class="fa-solid fa-chevron-up" data-uib-tooltip="{{\'Collapse\' | translate}}"></i>\n      <i data-ng-if="collapsed" class="fa-solid fa-chevron-down" data-uib-tooltip="{{\'Expand\' | translate}}"></i>\n    </span>\n  </div>\n  <div class="card-body" data-ng-show="!collapsed">\n    <div data-ng-show="tip.wbfiles.length" class="table-responsive">\n      <table class="table table-striped" id="fileList">\n        <thead>\n          <tr>\n            <th data-translate>Filename</th>\n            <th data-ng-if="public.node.viewer" data-translate>View</th>\n            <th data-translate>Download</th>\n            <th data-translate>Upload date</th>\n            <th data-translate>Type</th>\n            <th data-translate>File size</th>\n          </tr>\n        </thead>\n        <tbody id="fileListBody">\n          <tr id="file-{{$index}}" data-ng-repeat="file in tip.wbfiles" data-ng-init="viewSupported = supportedViewTypes.includes(file.type)" data-ng-if="!file.reference_id">\n            <td>{{file.name}}</td>\n            <td data-ng-if="public.node.viewer">\n              <button class="btn btn-sm btn-primary tip-action-views-file"\n              data-ng-disabled="!viewSupported"\n              data-ng-class="{ \'btn-secondary\': !viewSupported }"\n              data-uib-tooltip="{{\'View\' | translate}}"\n              data-ng-click="viewWBFile(file)">\n                <i class="fa-solid fa-eye"></i>\n              </button>\n            </td>\n            <td>\n              <button class="btn btn-sm btn-primary tip-action-download-file"\n                      data-ng-disabled="file.error"\n                      data-uib-tooltip="{{\'Download\' | translate}}"\n                      data-ng-click="downloadWBFile(file)">\n                <i class="fa-solid fa-download"></i>\n              </button>\n            </td>\n            <td>{{file.creation_date | date:\'dd-MM-yyyy HH:mm\'}}</td>\n            <td>{{file.type}}</td>\n            <td>{{file.size | byteFmt:2}}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <div data-ng-if="Authentication.session.role === \'receiver\' && !tip.context.enable_attachments" class="form-group">\n      <label class="inline-checkbox">\n        <input data-ng-model="tip.enable_attachments" data-ng-change="tip.operation(\'set\', {\'key\': \'enable_attachments\', \'value\': tip.enable_attachments})" type="checkbox" />\n        <span data-translate>Allow the whistleblower to add attachments</span>\n      </label>\n    </div>\n  </div>\n</div>\n'),e.put("views/partials/tip_files_whistleblower.html",'<div id="TipPageFilesInfoBox" class="card card-default" data-ng-init="collapsed = false" data-ng-attr-aria-expanded="{{collapsed}}">\n  <div class="card-header clearfix" data-ng-click="collapsed = !collapsed" data-ng-keypress="eventDismiss(); $event.stopPropagation();">\n    <span data-translate>Attachments</span>\n    <span class="float-right">\n      <i data-ng-if="!collapsed" class="fa-solid fa-chevron-up" data-uib-tooltip="{{\'Collapse\' | translate}}"></i>\n      <i data-ng-if="collapsed" class="fa-solid fa-chevron-down" data-uib-tooltip="{{\'Expand\' | translate}}"></i>\n    </span>\n  </div>\n  <div class="card-body" data-ng-show="!collapsed">\n    <div class="table-responsive">\n      <table class="table table-striped" id="fileList">\n        <thead>\n          <tr>\n            <th data-translate>Filename</th>\n            <th data-translate>Upload date</th>\n            <th data-translate>Type</th>\n            <th data-translate>File size</th>\n          </tr>\n        </thead>\n        <tbody id="fileListBody">\n          <tr id="file-{{$index}}" data-ng-repeat="file in tip.wbfiles | orderBy:\'creation_date\'" data-ng-if="!file.reference_id">\n            <td>{{file.name}}</td>\n            <td>{{file.creation_date | date:\'dd-MM-yyyy HH:mm\'}}</td>\n            <td>{{file.type}}</td>\n            <td>{{file.size | byteFmt:2}}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <br />\n    <div data-ng-if="tip.status !== \'closed\'">\n      <div data-ng-include="\'views/partials/wbfile_upload_button.html\'"></div>\n      <div data-ng-include="\'views/partials/wbfile_upload_status.html\'"></div>\n      <div data-ng-show="Utils.hasPausedFileUploads(uploads)">\n        <button id="files-action-confirm" class="btn btn-sm btn-outline-secondary" data-ng-click="Utils.resumeFileUploads(uploads)">\n          <i class="fa-solid fa-upload"></i>\n          <span data-translate>Confirm</span>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("views/partials/tip_info.html",'<div id="TipInfoBox" class="card card-default">\n  <div class="card-header" data-ng-if="Authentication.session.role === \'receiver\'">\n    <div class="row">\n      <div class="col-md-12">\n        <div class="float-left">\n          <span class="input-group">\n            <input id="assignLabelInput" type="text" class="form-control" data-ng-attr-placeholder="{{\'Label\' | translate}}" data-ng-model="tip.label" />\n            <span class="input-group-append" data-uib-tooltip="{{\'Label the report\' | translate}}">\n              <button id="assignLabelButton" class="btn btn-primary" data-ng-click="updateLabel(tip.label)">\n                <i class="fa-solid fa-tag"></i>\n              </button>\n            </span>\n          </span>\n        </div>\n        <div class="float-right" data-ng-if="Authentication.session.role === \'receiver\'">\n          <span data-ng-include="\'views/partials/tip_submission_status.html\'"></span>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="card-body">\n    <table class="table table-borderless table-striped">\n      <thead>\n      <tr>\n        <th class="TipInfoID" data-ng-if="Authentication.session.role === \'receiver\'">\n          <i class="fa-solid fa-hashtag"></i>\n        </th>\n        <th class="TipInfoContext" data-ng-if="public.contexts.length > 1">\n          <i class="fa-solid fa-inbox"></i>\n          <span data-translate>Channel</span>\n        </th>\n        <th class="TipInfoSubmissionDate">\n          <i class="fa-solid fa-clock"></i>\n          <span data-translate>Date</span>\n        </th>\n        <th class="TipInfoLastUpdate">\n          <i class="fa-solid fa-clock"></i>\n          <span data-translate>Last update</span>\n        </th>\n        <th class="TipInfoExpirationDate">\n          <i class="fa-solid fa-hourglass"></i>\n          <span data-translate>Expiration date</span>\n        </th>\n        <th class="TipInfoReminderDate" data-ng-if="Authentication.session.role === \'receiver\'">\n          <i class="fa-solid fa-bell"></i>\n          <span data-translate>Reminder date</span>\n        </th>\n        <th class="TipInfoReadReceipt" data-ng-if="Authentication.session.role === \'receiver\'">\n          <i class="fa-solid fa-envelope-circle-check"></i>\n        </th>\n        <th class="TipInfoConnection" data-ng-if="Authentication.session.role === \'receiver\'">\n          <i class="fa-solid fa-network-wired"></i>\n          <span>Tor</span>\n        </th>\n        <th class="TipInfoSubmissionStatus">\n          <i class="fa-solid fa-dot-circle"></i>\n          <span data-translate>Status</span>\n        </th>\n        <th class="TipInfoScore" data-ng-if="Authentication.session.role === \'receiver\' && public.node.enable_scoring_system">\n          <i class="fa-solid fa-flash"></i>\n          <span data-translate>Score</span>\n        </th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr>\n        <td class="TipInfoID" data-ng-if="Authentication.session.role === \'receiver\'">{{tip.progressive}}</td>\n        <td class="TipInfoContext" data-ng-if="public.contexts.length > 1">{{tip.context.name}}</td>\n        <td class="TipInfoCreationDate">{{tip.creation_date | date:\'dd-MM-yyyy HH:mm\'}}</td>\n        <td class="TipInfoUpdateDate">{{tip.update_date | date:\'dd-MM-yyyy HH:mm\'}}</td>\n        <td class="TipInfoExpirationDate">\n          <span data-ng-if="!Utils.isNever(tip.expiration_date)">{{tip.expiration_date | date:\'dd-MM-yyyy HH:mm\'}}</span>\n          <span data-ng-if="Utils.isNever(tip.expiration_date)">-</span>\n        </td>\n        <td class="TipInfoReminderDate" data-ng-if="Authentication.session.role === \'receiver\'">\n          <span data-ng-if="!Utils.isNever(tip.reminder_date)">\n            <span>{{tip.reminder_date | date:\'dd-MM-yyyy\'}}</span>\n            <i data-ng-if="markReportStatus(tip.reminder_date)" class="reminder fa-solid fa-bell"></i>\n          </span>\n          <i data-ng-if="Utils.isNever(tip.reminder_date)" class="fa-solid fa-minus"></i>\n        </td>\n        <td class="TipInfoLastAccess" data-ng-if="Authentication.session.role === \'receiver\'">\n          <i data-ng-if="tip.last_access >= tip.update_date" class="fa-solid fa-check"\n             data-uib-tooltip="{{\'The whistleblower has already read the last update\' | translate}} ({{tip.last_access | date:\'dd-MM-yyyy HH:mm\'}})"></i>\n          <i data-ng-if="tip.last_access < tip.update_date" class="fa-solid fa-times"\n             data-uib-tooltip="{{\'The whistleblower has not read the last update yet\' | translate}}"></i>\n        </td>\n        <td class="TipInfoConnection" data-ng-if="Authentication.session.role === \'receiver\'">\n          <i data-ng-if="tip.tor" class="fa-solid fa-check"></i>\n          <i data-ng-if="!tip.tor" class="fa-solid fa-times"></i>\n        </td>\n\t<td class="TipInfoSubmissionStatus">{{tip.submissionStatusStr}}</td>\n        <td class="TipInfoScore" data-ng-if="Authentication.session.role === \'receiver\' && public.node.enable_scoring_system" data-ng-switch="tip.score">\n          <span data-ng-switch-when="0">-</span>\n          <span class="badge badge-primary" data-ng-switch-when="1" data-translate>Low</span>\n          <span class="badge badge-primary" data-ng-switch-when="2" data-translate>Medium</span>\n          <span class="badge badge-primary" data-ng-switch-when="3" data-translate>High</span>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n'),e.put("views/partials/tip_questionnaire_answers.html",'<div id="TipQuestionnaireAnswersBox" class="card card-default" data-ng-init="collapsed = false" data-ng-attr-aria-expanded="{{collapsed}}">\n  <div class="card-header clearfix" data-ng-click="collapsed = !collapsed; $event.stopPropagation();">\n    <span data-translate>Questionnaire answers</span>\n    <span class="float-right">\n      <i data-ng-if="!collapsed" class="fa-solid fa-chevron-up" data-uib-tooltip="{{\'Collapse\' | translate}}"></i>\n      <i data-ng-if="collapsed" class="fa-solid fa-chevron-down" data-uib-tooltip="{{\'Expand\' | translate}}"></i>\n    </span>\n  </div>\n  <div class="card-body" data-ng-show="!collapsed">\n    <div data-ng-repeat="questionnaire in tip.questionnaires">\n      <div data-ng-if="tip.questionnaires.length > 1">\n        <span data-translate>Questionnaire</span>\n        <span>{{$index + 1}}</span>\n      </div>\n      <div data-ng-repeat="step in questionnaire.steps | orderBy:\'order\'">\n        <dt id="step={{$index}}" data-ng-if="questionnaire.steps.length > 1 && tip.context.show_steps_navigation_interface && step.enabled">\n          <span data-translate>Step</span>\n          <span>{{$index + 1}}: {{step.label}}</span>\n        </dt>\n        <dd>\n          <div data-ng-if="step.enabled" data-ng-repeat="field in step.children | orderBy:[\'y\', \'x\'] | filter:{ type: \'!fileupload\'}">\n            <span data-ng-init="fieldAnswers=questionnaire.answers" data-ng-include="\'views/partials/tip_field.html\'"></span>\n          </div>\n        </dd>\n      </div>\n    </div>\n  </div>\n</div>'),e.put("views/partials/tip_receiver_list.html",'<div id="TipPageReceiversInfoBox" class="card card-default" data-ng-init="collapsed = false" data-ng-attr-aria-expanded="{{collapsed}}">\n  <div class="card-header clearfix" data-ng-click="collapsed = !collapsed" data-ng-keypress="eventDismiss(); $event.stopPropagation();">\n    <span data-translate>Recipients</span>\n    <span class="float-right">\n      <i data-ng-if="!collapsed" class="fa-solid fa-chevron-up" data-uib-tooltip="{{\'Collapse\' | translate}}"></i>\n      <i data-ng-if="collapsed" class="fa-solid fa-chevron-down" data-uib-tooltip="{{\'Expand\' | translate}}"></i>\n    </span>\n  </div>\n  <div class="card-body" data-ng-show="!collapsed">\n    <div data-ng-repeat="receiver in tip.receivers">\n      <div>{{tip.receivers_by_id[receiver.id].name}}</div>\n    </div>\n  </div>\n</div>\n'),e.put("views/partials/tip_submission_status.html",'<span class="form-inline" data-ng-click="$event.stopPropagation();">\n  <span id="AssignSubmissionStatus">\n    <span data-translate>Status:</span>\n    <select id="assignSubmissionStatus" class="form-control" data-ng-model="tip.status" data-ng-options="state.id as state.label | translate for state in submission_statuses.slice(1)" data-ng-change="updateSubmissionStatus()"></select>\n    <select id="assignSubmissionSubStatus" class="form-control" data-ng-model="tip.substatus" data-ng-options="substate.id as substate.label | translate for substate in submission_statuses_by_id[tip.status].substatuses" data-ng-hide="!submission_statuses_by_id[tip.status].substatuses.length" data-ng-change="updateSubmissionStatus()">\n      <option value="" data-translate></option>\n    </select>\n  </span>\n</span>\n'),e.put("views/partials/tip_upload_rfile.html",'<div id="TipPageRFileUpload" class="card card-default" data-ng-init="collapsed = false" data-ng-attr-aria-expanded="{{collapsed}}">\n  <div class="card-header clearfix" data-ng-click="collapsed = !collapsed; $event.stopPropagation();">\n    <span data-translate>Files attached by recipients</span>\n    <span class="float-right">\n      <i data-ng-if="!collapsed" class="fa-solid fa-chevron-up" data-uib-tooltip="{{\'Collapse\' | translate}}"></i>\n      <i data-ng-if="collapsed" class="fa-solid fa-chevron-down" data-uib-tooltip="{{\'Expand\' | translate}}"></i>\n    </span>\n  </div>\n  <div class="card-body"\n       data-ng-show="!collapsed"\n       data-ng-controller="RTipRFileUploadCtrl">\n    <div data-ng-repeat="rfile in tip.rfiles | filter : { visibility : activeTabKey } | orderBy: \'creation_date\'">\n      <div id="rfile-{{$index}}" data-rfile data-ctx="\'rtip\'"></div>\n    </div>\n    <div data-ng-if="tip.status !== \'closed\'">\n      <div data-translate>Upload a file:</div>\n      <div class="form"\n          data-ng-controller="RFileUploadCtrl"\n          data-flow-init="{target: \'api/recipient/rtips/\' + tip_id + \'/rfiles\'}"\n          data-flow-files-submitted="beginUpload($files, $event, $flow,activeTabKey)"\n          data-flow-file-success="reload()"\n          extend-flow-valid-size="public.node.maximum_filesize*1024*1024">\n        <div class="input-group">\n          <span class="input-group-prepend"><span class="input-group-text" data-translate>Description</span></span>\n          <input type="text" class="form-control" data-ng-model="file_upload_description" />\n          <span class="input-group-append" data-ng-disabled="!file_upload_description" >\n            <div class="custom-file">\n              <input id="customFile" class="custom-file-input" type="file" data-flow-btn data-flow-single-file />\n              <label class="btn btn-primary" for="customFile">\n                <i class="fa-solid fa-upload"></i>\n                <span data-translate>Upload</span>\n              </label>\n            </div>\n          </span>\n        </div>\n        <div errors-upload></div>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("views/partials/upload_error_msg.html",'<div data-ng-show="displayErr && file_error_msgs.length" class="mt-2 alert alert-danger alert-dismissible">\n  <button type="submit" class="close" data-ng-click="displayErr = false" data-dismiss="alert" aria-label="close">&times;</button>\n  <div>{{file_error_msgs.slice(-1)[0]}}</div>\n</div>\n'),e.put("views/partials/upload_error_msgs.html",'<div data-ng-if="file_error_msgs" data-ng-repeat="file_error_msg in file_error_msgs track by $index">\n  <div class="mt-2 alert alert-danger alert-dismissible">\n    <button type="submit" class="close" data-ng-click="file_error_msgs.splice($index, 1)" data-dismiss="alert" aria-label="close">&times;</button>\n    <div>{{file_error_msg}}</div>\n  </div>\n</div>\n'),e.put("views/partials/user_home.html",'<div data-ng-include="\'views/partials/user_warnings.html\'"></div>\n<div id="UserWelcomeMessage">\n  <div class="title" data-translate>Welcome!</div>\n  <br />\n  <ul>\n    <li>\n      <span data-translate>For the user documentation, visit:</span> <a href="https://docs.globaleaks.org" rel="noreferrer" target="_blank">docs.globaleaks.org</a>\n    </li>\n    <li>\n      <span data-translate>If you need technical support, have general questions, or have new ideas for the software:</span> <a href="https://forum.globaleaks.org" rel="noreferrer" target="_blank">forum.globaleaks.org</a>\n    </li>\n    <li>\n      <span data-translate>If you want to contribute to software development or report a bug, please open an issue in our ticketing system:</span> <a href="https://github.com/globaleaks/GlobaLeaks/issues/" rel="noreferrer" target="_blank">github.com/globaleaks/GlobaLeaks/issues</a>\n    </li>\n    <li>\n      <span data-translate>Join our chat:</span> <a href="https://community.globaleaks.org" rel="noreferrer" target="_blank">community.globaleaks.org</a>\n    </li>\n    <li>\n      <span data-translate>Follow the project on:</span> <a href="https://twitter.com/globaleaks" rel="noreferrer" target="_blank">Twitter</a>\n    </li>\n  </ul>\n</div>\n'),e.put("views/partials/user_warnings.html",'<div id="UserWarnings" role="alert">\n  <div class="alert alert-secondary" data-ng-show="Authentication.session.role === \'admin\' && resources.node.update_available">\n    <i class="fa-solid fa-exclamation-circle"></i>\n    <span data-translate>An update is available:</span> <span><a href="https://github.com/globaleaks/GlobaLeaks/blob/main/CHANGELOG" rel="noreferrer" target="_blank">{{resources.node.latest_version}} (<span data-translate>Changelog</span>)</a></span>\n  </div>\n  <div class="alert alert-secondary" data-ng-show="resources.preferences.encryption && !resources.preferences.clicked_recovery_key">\n    <i class="fa-solid fa-exclamation-circle"></i>\n    <span data-translate>We recommend that you access the “Preferences” section in order to retrieve your “Account Recovery Key” and store it safely. This key will be necessary to recover your access to the platform and to your data in case you forget your password.</span>\n  </div>\n</div>\n'),e.put("views/partials/user.html",'<div data-ng-hide="resources.preferences.password_change_needed || resources.preferences.require_two_factor">\n  <div id="LanguagePickerBox" data-ng-if="public.node.languages_enabled.length > 1" class="float-right ml-1 mb-2">\n    <label for="language-picker-select" class="visually-hidden" data-traslate>Select your language</label>\n    <select id="language-picker-select" class="form-control" data-ng-model="GLTranslate.state.language" data-ng-options="item.code as item.native for item in languages_enabled_selector | orderBy:\'native\'"></select>\n  </div>\n  <div id="LoginStatusBox" data-ng-if="Utils.showUserStatusBox()" class="float-right ml-1 mb-2">\n    <span id="UsernameBox" data-ng-if="Authentication.session.role !== \'whistleblower\'">\n      <label>{{resources.preferences.name}}</label>\n      <span class="text-separator">|</span>\n    </span>\n    <span id="HomeLinkBox" data-ng-if="Authentication.session.role !== \'whistleblower\'">\n      <a id="HomepageLink" data-ng-href="#{{Authentication.session.homepage}}" data-uib-tooltip="{{\'Home\' | translate}}"><i class="fa-solid fa-fw fa-home"></i></a>\n      <span class="text-separator">|</span>\n    </span>\n    <span id="PreferencesLinkBox" data-ng-if="Authentication.session.role !== \'whistleblower\' && !Authentication.session.properties.management_session">\n      <a id="PreferencesLink" data-ng-href="#{{Authentication.session.preferencespage}}" data-uib-tooltip="{{\'Preferences\' | translate}}"><i class="fa-solid fa-fw fa-user"></i></a>\n      <span class="text-separator">|</span>\n    </span>\n    <span id="SupportLinkBox" data-ng-if="Authentication.session && Authentication.session.role !== \'whistleblower\'">\n      <a id="SupportLink" href="" data-ng-click="Utils.openSupportModal()" data-uib-tooltip="{{\'Request support\' | translate}}"><i class="fa-solid fa-fw fa-life-ring"></i></a>\n      <span class="text-separator">|</span>\n    </span>\n    <span id="LogoutLinkBox">\n      <a id="LogoutLink" href="" data-ng-click="Authentication.logout()" data-uib-tooltip="{{\'Logout\' | translate}}"><i class="fa-solid fa-fw fa-sign-out-alt"></i><span data-ng-if="Authentication.session.role === \'whistleblower\'"><span> </span><span data-translate>Logout</span></span></a>\n    </span>\n  </div>\n  <div id="WhistleblowerLoginBox" class="ml-1 mb-1" data-ng-if="Utils.showWBLoginBox()" data-ng-include="\'views/partials/receipt.html\'"></div>\n</div>\n'),e.put("views/partials/voice_recorder.html",'<div data-ng-init="fileinput = field ? field.id : \'status_page\'; uploads[fileinput] = {}" class="audio-box">\n  <div data-ng-controller="AudioUploadCtrl"\n       data-flow-init="{target: fileupload_url}"\n       data-flow-files-submitted="$flow.upload()"\n       data-flow-name="uploads[fileinput]">\n    <div class="row">\n      <div class="col-md-6">\n        <button class="btn" data-ng-class="{\'text-secondary\': !activeButton, \'text-danger\': activeButton === \'record\' }" data-ng-disabled="isRecording || uploads[fileinput].files.length" data-ng-click="triggerRecording(field.id)">\n          <i class="fas fa-microphone"></i>\n        </button>\n        <button class="btn" data-ng-if="activeButton === \'record\'" data-ng-click="stopRecording()">\n          <i class="fas fa-stop"></i>\n        </button>\n      </div>\n      <div class="col-md-6 text-right">\n        <button class="btn text-danger blink" data-ng-if="activeButton === \'record\'">\n          <i class="fas fa-circle-dot"></i>\n        </button>\n        <button class="btn text-danger" data-ng-show="!isRecording && seconds" data-ng-click="deleteRecording()">\n          <i class="fas fa-trash"></i>\n        </button>\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-md-12">\n        <input class="inputelem" data-ng-attr-id="customFile-{{fileinput}}" data-ng-model="_fakemodel[fileinput]" data-ng-required="field && field.required && !uploads[fileinput].files.length" name="input-{{entryIndex}}" type="file" />\n        <div id="{{fieldEntry}}-audio" class="audio-player-wrapper" data-ng-disabled="isRecording || seconds < field.attrs.min_len">\n          <audio data-ng-src="{{audioPlayer}}" data-ng-if="audioPlayer" controls class="audio-player"></audio>\n        </div>\n      </div>\n    </div>\n    <div class="row" data-ng-show="seconds > 0">\n      <div class="col-md-12 text-right">\n        <div class="btn" data-ng-class="{\'text-danger\': seconds < field.attrs.min_len.value}">{{seconds}}/{{field.attrs.max_len.value}}</div>\n      </div>\n    </div>\n  </div>\n </div>\n'),e.put("views/partials/wbfile_upload_button.html",'<div data-ng-init="fileinput = field ? field.id : \'status_page\'; uploads[fileinput] = {}">\n  <div data-ng-controller="WBFileUploadCtrl"\n       data-flow-init="{target: fileupload_url}"\n       data-flow-files-submitted="$flow.upload()"\n       data-flow-name="uploads[fileinput]"\n       data-flow-drop\n       data-flow-drag-enter="dragClass=\'drag-over\'"\n       data-flow-drag-leave="dragClass=\'\'"\n       data-extend-flow-valid-size="public.node.maximum_filesize*1024*1024"\n       data-ng-class="dragClass"\n       class="drag-drop">\n    <div data-ng-if="field === undefined || field.multi_entry">\n      <div class="custom-file">\n        <input data-ng-attr-id="customFile-{{fileinput}}" data-ng-model="_fakemodel[fileinput]" class="custom-file-input inputelem" type="file" data-ng-required="field && field.required && !uploads[fileinput].files.length" data-flow-btn data-ng-attr-accept="{{ generateAcceptAttribute(field.attrs.upload_type.value) }}" />\n        <label class="btn btn-sm btn-outline-secondary" data-ng-attr-for="customFile-{{fileinput}}">\n          <i class="fa-solid fa-upload"></i>\n          <span data-translate>Upload</span>\n        </label>\n        <span class="mx-2" data-translate>Select a file or drag it here.</span>\n      </div>\n    </div>\n    <div data-ng-if="field !== undefined && !field.multi_entry">\n      <div class="custom-file">\n        <input id="customFile-{{fileinput}}" data-ng-model="_fakemodel[fileinput]" class="custom-file-input inputelem" data-ng-disabled="uploads[fieldinput].files.length" type="file" data-ng-required="field && field.required && !uploads[fileinput].files.length" data-flow-btn data-flow-single-file data-ng-attr-accept="{{ generateAcceptAttribute(field.attrs.upload_type.value) }}" />\n        <label class="btn btn-sm btn-outline-secondary" data-ng-attr-for="customFile-{{fileinput}}">\n          <i class="fa-solid fa-upload"></i>\n          <span data-translate>Upload</span>\n        </label>\n        <span class="mx-2" data-translate>Select a file or drag it here.</span>\n      </div>\n    </div>\n    <div errors-upload></div>\n  </div>\n</div>\n<div data-ng-include="\'views/partials/wbfile_upload_status.html\'"></div>\n'),e.put("views/partials/wbfile_upload_status.html",'<div data-ng-if="uploads[fileinput].files.length" data-flow-init>\n  <div data-flow-name="flow" class="row">\n    <div data-ng-repeat="file in uploads[fileinput].files" data-ng-hide="hideUploadWhenFinished === true && file.isComplete() && !file.error" data-ng-class="{\'col-md-12\': uploads[fileinput].files.length === 1, \'col-md-6 col-sm-12\': uploads[fileinput].files.length > 1}">\n      <div class="fileUploadBox mt-2 mb-2">\n        <div class="row">\n          <div class="col-md-4">\n            <div class="filePreview">\n              <div class="imgPreview">\n                <img alt="preview picture" data-flow-img="file" data-ng-if="Utils.showFilePreview(file.file.type)" />\n              </div>\n              <div class="fileButtons">\n                <div data-ng-if="page === \'submissionpage\' || !file.isComplete()" class="removeFileButton text-danger">\n                  <div class="btn btn-sm btn-danger" data-ng-click="Utils.removeFile(submission, uploads[fileinput].files, file)"><i class="fa-solid fa-times" aria-label="{\'Remove\' | translate}"></i></div>\n                </div>\n              </div>\n              <div class="fileUpload">\n                <div>\n                  <div class="fileUploadIcon" data-ng-show="file.error">\n                    <i class="fa-solid fa-ban-circle"></i>\n                  </div>\n                  <div class="fileUploadIcon" data-ng-show="!file.error && !file.isComplete()">\n                    <i class="fa-solid fa-file"></i>\n                  </div>\n                  <div class="fileUploadIcon" data-ng-show="!file.error && file.isComplete()">\n                    <i class="fa-solid fa-check"></i>\n                  </div>\n                </div>\n                <div class="fileUploadProgress progress progress-striped" data-ng-class="{\'invisible\': file.paused}">\n                  <div class="progress-bar" data-ng-class="{\'progress-bar-complete\': file.progress() === 1 }" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" data-ng-style="{\'width\': (file.progress() * 100) + \'%\'}"></div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="col-md-8">\n            <div class="pl-2 pr-2">\n              <div>\n                <label class="fileName">{{file.name}}</label>\n              </div>\n              <div>\n                <label class="fileSize">\n                  <span data-translate>Size:</span> <span>{{file.size | byteFmt:2}}</span>\n                </label>\n              </div>\n              <br />\n              <div data-ng-hide="file.error">\n                <div data-ng-repeat="option in file.value">\n                  <textarea class="form-control" data-ng-model="option.value" data-ng-attr-placeholder="{{option[\'attrs\'][\'name\']}}"></textarea>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("views/partials/widget_rfiles.html",'<div id="AttachedWBFile" class="card card-default" data-ng-init="collapsed = false; submission = {}">\n  <div class="card-header clearfix" data-ng-click="collapsed = !collapsed; $event.stopPropagation();">\n    <span data-translate>Files attached by recipients</span>\n    <span class="float-right">\n      <i data-ng-if="!collapsed" class="fa-solid fa-chevron-up" data-uib-tooltip="{{\'Collapse\' | translate}}"></i>\n      <i data-ng-if="collapsed" class="fa-solid fa-chevron-down" data-uib-tooltip="{{\'Expand\' | translate}}"></i>\n    </span>\n  </div>\n  <div class="card-body" data-ng-show="!collapsed">\n    <div data-ng-repeat="rfile in tip.rfiles | orderBy: \'creation_date\'">\n      <div id="rfile-{{$index}}" data-rfile></div>\n    </div>\n  </div>\n</div>\n'),e.put("views/passwordreset/2fa.html",'<div class="row">\n  <div class="col-md-6">\n    <div class="form-group">\n      <label data-translate>Enter the two factor authentication code</label>\n      <input class="form-control" data-ng-model="request.auth_code" type="text" size="6" maxlength="6" required />\n    </div>\n\n    <div class="input-group">\n      <button class="btn btn-primary" data-ng-disabled="request.auth_code.length !== 6" data-ng-click="submit()" type="submit">\n        <span data-translate>Proceed</span>\n      </button>\n\n      <a class="btn" data-ng-click="Utils.openSupportModal()" data-uib-tooltip="{{\'Request support\' | translate}}"><i class="fa-solid fa-life-ring"></i></a>\n    </div>\n  </div>\n</div>\n'),e.put("views/passwordreset/failure_recovery.html",'<div class="row">\n  <div class="col-md-12">\n    <span data-translate>The provided recovery key is invalid.</span>\n  </div>\n</div>\n'),e.put("views/passwordreset/failure_token.html",'<div class="row">\n  <div class="col-md-12">\n    <span data-translate>The provided reset token is invalid or expired.</span>\n  </div>\n</div>\n'),e.put("views/passwordreset/main.html",'<div class="row">\n  <div class="col-md-12">\n    <label data-ng-if="!public.node.simplified_login" data-translate>Enter your account\'s username or your email address to request a password reset.</label>\n    <label data-ng-if="public.node.simplified_login" data-translate>Enter your email address to request a password reset.</label>\n  </div>\n</div>\n<div class="row">\t\n  <div class="col-md-3">\n    <form name="form" autocomplete="off" novalidate>\n      <div class="input-group">\n        <input class="form-control" name="username" data-ng-model="request.username" type="text" required />\n        <span class="input-group-append">\n          <button class="btn btn-primary" data-ng-disabled="!request.username"  data-ng-click="submit()" type="submit" data-translate>Submit</button>\n\t  <a class="btn" href="" data-ng-click="Utils.openSupportModal()" data-uib-tooltip="{{\'Request support\' | translate}}"><i class="fa-solid fa-life-ring"></i></a>\n\t</span>\n      </div>\n    </form>\n  </div>\n</div>\n'),e.put("views/passwordreset/requested.html",'<div class="row">\n  <div class="col-md-12">\n    <span data-translate>Password reset requested.</span>\n    <span data-translate>Please check your inbox for further instructions.</span>\n  </div>\n</div>\n'),e.put("views/passwordreset/reset.html",'<div data-ng-if="state === \'require_recovery_key\'">\n  <div class="row">\n    <div class="col-md-12">\n      <label data-translate>Enter your account recovery key to complete the password reset procedure</label>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-auto">\n      <form name="form" autocomplete="off" novalidate>\n        <div class="input-group">\n          <input class="form-control recoverykeyinput" type="text" maxlength="64" size="64" data-ng-model="request.recovery_key" name="recoveryKey" recoverykeyvalidator>\n          <div class="input-group-btn">\n            <button class="btn btn-primary" data-ng-click="submit()" type="submit" data-translate>Submit</button>\n            <a class="btn" href="" data-ng-click="Utils.openSupportModal()" data-uib-tooltip="{{\'Request support\' | translate}}"><i class="fa-solid fa-life-ring"></i></a>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n<div data-ng-if="state === \'require_two_factor_authentication\'">\n  <div class="row">\n    <div class="col-md-auto">\n      <div class="form-group">\n        <label data-translate>Enter the two factor authentication code</label>\n        <input class="form-control" data-ng-model="request.auth_code" type="text" size="6" maxlength="6" required />\n      </div>\n\n      <div class="input-group">\n        <button class="btn btn-primary" data-ng-disabled="request.auth_code.length !== 6" data-ng-click="submit()" type="submit">\n          <span data-translate>Proceed</span>\n        </button>\n\n        <a class="btn" data-ng-click="Utils.openSupportModal()" data-uib-tooltip="{{\'Request support\' | translate}}"><i class="fa-solid fa-life-ring"></i></a>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("views/recipient/home.html",'<div id="RecipientHomepage" data-ng-include="\'views/partials/user_home.html\'"></div>\n'),e.put("views/recipient/settings.html",'<form name="contentForm" data-ng-controller="AdminSettingsCtrl" novalidate>\n  <div data-ng-include="tabs[0].template"></div>\n</form>\n'),e.put("views/recipient/sidebar.html",'<a href="#/recipient/home" data-ng-class="{\'active\': location.path() === \'/recipient/home\'}"><i class="fa fa-home"></i> <span data-translate>Home</span></a>\n<a href="#/recipient/reports" data-ng-class="{\'active\': location.path() === \'/recipient/reports\'}"><i class="fa fa-inbox"></i> <span data-translate>Reports</span></a>\n<a href="#/recipient/statistics" data-ng-class="{\'active\': location.path() === \'/recipient/statistics\'}"><i class="fa fa-inbox"></i> <span data-translate>Statistics</span></a>\n<a href="#/recipient/settings" data-ng-class="{\'active\': location.path() === \'/recipient/settings\'}" data-ng-if="resources.preferences.can_edit_general_settings"><i class="fa-solid fa-sliders"></i> <span data-translate>Settings</span></a>'),e.put("views/recipient/statistics.html",'<div class="col-md-10">\n\n  <div class="row col-md-12">\n    <span id="tip-action-reload"\n          data-ng-click="reload()"\n          data-uib-tooltip="{{\'Refresh\' | translate}}"\n          class="btn btn-outline-secondary custom-translate">\n      <i class="fa-solid fa-sync"></i>\n    </span>\n    &nbsp;&nbsp;&nbsp;<span id="tip-action-export"\n          data-ng-click="export()"\n          data-uib-tooltip="{{\'Export\' | translate}}"\n          class="btn btn-outline-secondary custom-translate">\n      <i class="fa-solid fa-file-export"></i>\n    </span>\n  </div>\n  <br>\n  <div class="row col-md-10">\n    <span data-translate="" class="custom-bold">Start date</span>\n    <div class="col-md-2">\n      <input type="text" class="form-control custom-translate" id="startDate" ng-click="openStartDatePicker()"\n        ng-model="startDate" uib-datepicker-popup="{{format}}" is-open="startDatePickerOpen" ng-change="initialize()" />\n    </div>\n    &nbsp;&nbsp;<span data-translate="" class="custom-bold">End date</span>\n    <div class="col-md-2">\n      <input type="text" class="form-control custom-translate" id="endDate" ng-click="openEndDatePicker()"\n        ng-model="endDate" uib-datepicker-popup="{{format}}" is-open="endDatePickerOpen" ng-change="initialize()"/>\n    </div>\n    &nbsp;&nbsp;<span data-translate="" class="custom-bold">Channel</span>\n    <div class="col-md-2"><i><select class="form-control custom-translate" data-ng-model="channel"\n          data-ng-options="item for item in reportingChannel" ng-change="initialize()"></select></i></div>\n  </div>\n\n  <hr><br><br>\n  <h3>Submission Status</h3><br>\n  <p>Below, you will find a comprehensive collection of text and relevant information pertaining to your submission. This includes all the necessary details, data, or content associated with your submission. Please review the following carefully to ensure that you have access to all the information you need</p>\n  <table class="table table-striped" data-ng-init="sortKey = \'creation_date\'; sortReverse=true;">\n    <thead>\n      <tr>\n        <th></th>\n        <th ng-repeat="item in staticData[\'submissionStatus\'][\'label\']">{{ item }}</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td></td>\n        <td ng-repeat="item in staticData[\'submissionStatus\'][\'data\'] track by $index">{{ item }}</td>\n      </tr>\n    </tbody>\n  </table>\n\n  <div class="row">\n    <div class="col">\n      <canvas width="1200" class="lineGraph" id="statusBarChart"></canvas>\n    </div>\n  </div>\n  <hr> <br><br>\n  <h3>Interection Report</h3><br>\n  <p>Below, you will find the complete text and details of the interaction report between the whistleblower and the receiver. This report provides a comprehensive account of the communication, exchanges, or discussions that have taken place between the two parties. Please review the following information to gain a complete understanding of the interaction between the whistleblower and the receiver</p>\n  <table class="table table-striped" data-ng-init="sortKey = \'creation_date\'; sortReverse=true;">\n    <thead>\n      <tr>\n        <th></th>\n        <th ng-repeat="item in staticData[\'interactionStatus\'][\'label\']">\n          {{item}}\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td></td>\n        <td ng-repeat="item in staticData[\'interactionStatus\'][\'data\'] track by $index">\n          {{item}}\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  <div class="row">\n    <div class="col">\n      <canvas width="1200" class="lineGraph" id="perMonthLineGraph"></canvas>\n    </div>\n  </div>\n  <hr> <br><br>\n  <div class="row">\n    <div class="col">\n      <h3>Submission Labels BarGraph</h3>\n      <p>Presented below is a BarGraph illustrating the distribution of labels assigned to submissions. This visual representation provides an overview of the frequency and occurrence of different labels within the submitted data. By reviewing this graph, you can gain valuable insights into the prevalence and distribution of various labels across the submissions</p>\n      <canvas width="1200" class="lineGraph" id="labelCountsChart"></canvas>\n    </div>\n  </div>\n  <hr> <br><br>\n  <h3>Submission Channels BarGraph</h3>\n  <p>Displayed below is a BarGraph representing the different channels through which submissions have been received. This graphical representation provides an overview of the various submission channels and their respective contribution to the overall submissions. Please take a look at the graph to gain insights into the distribution of submissions across different channels</p>\n  <div class="row">\n    <div class="col">\n      <canvas width="1200" class="lineGraph" id="dropdownOptionsChart"></canvas>\n    </div>\n  </div>\n  <br><br><br><br><br><br>\n</div>'),e.put("views/recipient/tip.html",'<div id="Toolbar" class="row">\n  <div class="col-md-12">\n    <a id="link-tiplist"\n       href="#/recipient/reports"\n       data-uib-tooltip="{{\'Reports\' | translate}}"\n       class="btn btn-outline-secondary">\n      <i class="fa-solid fa-arrow-left"></i>\n    </a>\n\n    <span id="tip-action-star"\n          data-ng-click="tip_toggle_star()"\n          data-uib-tooltip="{{\'Mark as important\' | translate}}"\n          class="btn btn-outline-secondary">\n      <i class="fa-solid fa-star" data-ng-class="{\'text-warning\': tip.important}"></i>\n    </span>\n\n    <span id="tip-action-reminder"\n          data-ng-click="set_reminder()"\n          data-uib-tooltip="{{\'Set a reminder\' | translate}}"\n          class="btn btn-outline-secondary">\n      <i class="fa-solid fa-bell" data-ng-class="{\'text-warning\': !Utils.isNever(tip.reminder_date)}"></i>\n    </span>\n\n    <span id="tip-action-notify" data-ng-if="!tip.enable_notifications"\n          data-ng-click="tip_notify(true)"\n          data-uib-tooltip="{{\'Turn on email notifications\' | translate}}"\n          class="btn btn-outline-secondary active">\n      <i class="fa-solid fa-volume-mute"></i>\n    </span>\n\n    <span id="tip-action-silence" data-ng-if="tip.enable_notifications"\n          data-ng-click="tip_notify(false)"\n          data-uib-tooltip="{{\'Silence email notifications\' | translate}}"\n          class="btn btn-outline-secondary">\n      <i class="fa-solid fa-volume-down"></i>\n    </span>\n\n    <span id="tip-action-grant-access"\n          data-ng-if="resources.preferences.can_grant_access_to_reports"\n          data-ng-click="openGrantTipAccessModal()"\n          data-uib-tooltip="{{\'Grant access\' | translate}}"\n          class="btn btn-outline-secondary">\n      <i class="fa-solid fa-user-plus"></i>\n    </span>\n\n    <span id="tip-action-revoke-access"\n          data-ng-if="resources.preferences.can_grant_access_to_reports"\n          data-ng-click="openRevokeTipAccessModal()"\n          data-uib-tooltip="{{\'Revoke access\' | translate}}"\n          class="btn btn-outline-secondary">\n      <i class="fa-solid fa-user-minus"></i>\n    </span>\n\n    <span id="tip-action-transfer-access"\n          data-ng-if="resources.preferences.can_transfer_access_to_reports"\n          data-ng-click="openTipTransferModal()"\n          data-uib-tooltip="{{\'Transfer access\' | translate}}"\n          class="btn btn-outline-secondary">\n      <i class="fa-solid fa-people-arrows"></i>\n    </span>\n\n    <span id="tip-action-postpone"\n          data-ng-if="resources.preferences.can_postpone_expiration && contexts_by_id[tip.context_id].tip_timetolive > 0"\n          data-ng-click="tip_postpone()"\n          data-uib-tooltip="{{\'Postpone the expiration date\' | translate}}"\n          class="btn btn-outline-secondary">\n      <i class="fa-solid fa-clock"></i>\n    </span>\n\n    <span id="tip-action-delete"\n          data-ng-if="resources.preferences.can_delete_submission"\n          data-ng-click="tip_delete()"\n          data-uib-tooltip="{{\'Delete\' | translate}}"\n          class="btn btn-outline-secondary">\n      <i class="fa-solid fa-trash"></i>\n    </span>\n\n    <span id="tip-action-print"\n          data-ng-click="Utils.print()"\n          data-uib-tooltip="{{\'Print\' | translate}}"\n          class="btn btn-outline-secondary">\n      <i class="fa-solid fa-print"></i>\n    </span>\n\n    <span id="tip-action-export"\n          data-ng-click="exportTip(tip)"\n          data-uib-tooltip="{{\'Export\' | translate}}"\n          class="btn btn-outline-secondary">\n        <i class="fa-solid fa-save"></i>\n    </span>\n\n    <span id="link-reload"\n          data-ng-click="reload()"\n          data-uib-tooltip="{{\'Refresh\' | translate}}"\n          class="btn btn-outline-secondary">\n      <i class="fa-solid fa-sync"></i>\n    </span>\n  </div>\n</div>\n<div class="row mt-2">\n  <div class="col-md-12" data-ng-include="\'views/partials/tip_info.html\'"></div>\n</div>\n<div class="row" data-ng-if="tip.receivers.length > 1">\n  <div class="col-md-12" data-ng-include="\'views/partials/tip_receiver_list.html\'"></div>\n</div>\n<div class="row">\n  <div data-ng-class="{\'col-md-12\': !tip.enable_whistleblower_identity, \'col-md-6\': tip.enable_whistleblower_identity}" data-ng-include="\'views/partials/tip_questionnaire_answers.html\'"></div>\n  <div class="col-md-6" data-ng-if="tip.enable_whistleblower_identity" data-ng-include="\'views/recipient/whistleblower_identity.html\'"></div>\n</div>\n<div class="row">\n  <div class="col-md-12">\n    <div data-ng-include="\'views/partials/tip_files_receiver.html\'"></div>\n  </div>\n</div>\n\n<uib-tabset class="nested-tabset">\n  <uib-tab data-ng-repeat="tab in tabs" heading="{{tab.title | translate}}" select="selectedTab(tab.key)">\n    <div class="row" data-ng-if="tab.key == activeTabKey">\n      <div class="col-md-12">\n        <div data-ng-include="\'views/partials/tip_upload_rfile.html\'"></div>\n      </div>\n      <div class="col-md-12">\n        <div data-ng-include="\'views/partials/tip_comments.html\'"></div>\n      </div>\n    </div>\n  </uib-tab>\n</uib-tabset>\n'),e.put("views/recipient/tips.html",'<div id="Toolbar" class="row">\n  <div class="col-md-12 clearfix">\n    <span class="float-left">\n      <a id="link-home"\n         href="#/recipient/home"\n         data-uib-tooltip="{{\'Home\' | translate}}"\n         class="btn btn-outline-secondary">\n        <i class="fa-solid fa-arrow-left"></i>\n      </a>\n\n      <span id="tip-action-select-all"\n            data-ng-if="selected_tips.length !== resources.rtips.length"\n            data-ng-click="select_all()"\n            data-uib-tooltip="{{\'Select all\' | translate}}"\n            class="btn btn-outline-secondary">\n        <i class="fa-solid fa-square"></i>\n      </span>\n\n      <span id="tip-action-select-all"\n            data-ng-if="selected_tips.length === resources.rtips.length"\n            data-ng-click="deselect_all()"\n            data-uib-tooltip="{{\'Deselect all\' | translate}}"\n            class="btn btn-outline-secondary">\n        <i class="fa-solid fa-check-square"></i>\n      </span>\n\n      <span data-ng-if="selected_tips.length">\n        <span id="tip-action-grant-access-selected"\n              data-ng-if="resources.preferences.can_grant_access_to_reports"\n              data-ng-click="open_grant_access_modal()"\n              data-uib-tooltip="{{\'Grant access\' | translate}}"\n              class="btn btn-outline-secondary">\n          <i class="fa-solid fa-user-plus"></i>\n        </span>\n\n        <span id="tip-action-revoke-access-selected"\n              data-ng-if="resources.preferences.can_grant_access_to_reports"\n              data-ng-click="open_revoke_access_modal()"\n              data-uib-tooltip="{{\'Revoke access\' | translate}}"\n              class="btn btn-outline-secondary">\n          <i class="fa-solid fa-user-minus"></i>\n        </span>\n\n        <span id="tip-action-export-selected"\n              data-ng-click="tips_export()"\n              data-uib-tooltip="{{\'Export\' | translate}}"\n              class="btn btn-outline-secondary">\n          <i class="fa-solid fa-save"></i>\n        </span>\n      </span>\n\n      <span id="tip-action-reload"\n            data-ng-click="reload()"\n            data-uib-tooltip="{{\'Refresh\' | translate}}"\n            class="btn btn-outline-secondary">\n        <i class="fa-solid fa-sync"></i>\n      </span>\n\n      <span id="SearchFilter" class="form-group float-right">\n        <div class="input-group">\n          <input type="text" class="form-control" data-ng-attr-placeholder="{{\'Search\' | translate}}"\n                 data-ng-model="search">\n            <div class="input-group-append">\n            <span class="input-group-text"><i class="fa-solid fa-search"></i></span>\n          </div>\n        </div>\n      </span>\n    </span>\n  </div>\n</div>\n\n<div id="TipList" class="row mt-2">\n  <div class="col-md-12 table-responsive">\n    <table class="table table-striped" id="tipList" data-ng-init="sortKey = \'creation_date\'; sortReverse=true;">\n      <thead>\n        <tr>\n          <th></th>\n          <th class="TipInfoID" data-ng-click="sortKey = \'progressive\'; sortReverse = !sortReverse">\n            <i class="fa-solid fa-hashtag"></i>\n            <span data-ng-show="sortKey == \'progressive\'">\n              <span data-ng-show="!sortReverse" class="fa-solid fa-caret-down"></span>\n              <span data-ng-show="sortReverse" class="fa-solid fa-caret-up"></span>\n            </span>\n          </th>\n          <th data-ng-click="sortKey = \'important\'; sortReverse = !sortReverse">\n            <i class="fa-solid fa-star" ></i>\n            <span data-ng-show="sortKey == \'important\'">\n              <span data-ng-show="!sortReverse" class="fa-solid fa-caret-down"></span>\n              <span data-ng-show="sortReverse" class="fa-solid fa-caret-up"></span>\n            </span>\n          </th>\n          <th data-ng-click="sortKey = \'reminder_date\'; sortReverse = !sortReverse">\n            <i class="fa-solid fa-bell" ></i>\n            <span data-ng-show="sortKey == \'reminder_date\'">\n              <span data-ng-show="!sortReverse" class="fa-solid fa-caret-down"></span>\n              <span data-ng-show="sortReverse" class="fa-solid fa-caret-up"></span>\n            </span>\n          </th>\n          <th class="TipInfoContext" data-ng-if="public.contexts.length > 1">\n            <span data-ng-click="sortKey = \'context_name\'; sortReverse = !sortReverse">\n              <i class="fa-solid fa-inbox"></i>\n              <span data-translate>Channel</span>\n              <span data-ng-show="sortKey == \'context_name\'">\n                <span data-ng-show="!sortReverse" class="fa-solid fa-caret-down"></span>\n                <span data-ng-show="sortReverse" class="fa-solid fa-caret-up"></span>\n              </span>\n            </span>\n            <span class="DropdownMultiselectContainer">\n              <i class="fa-solid fa-filter" data-ng-class="{filterSelected: checkFilter(dropdownContextModel)}"></i>\n              <span translation-texts="dropdownDefaultText" data-ng-dropdown-multiselect="" options="dropdownContextData" selected-model="dropdownContextModel" events="on_changed" extra-settings="dropdownSettings"></span>\n            </span>\n          </th>\n          <th class="TipInfoLabel">\n            <span data-ng-click="sortKey = \'label\'; sortReverse = !sortReverse">\n              <i class="fa-solid fa-tag"></i>\n              <span data-translate>Label</span>\n              <span data-ng-show="sortKey == \'label\'">\n                <span data-ng-show="!sortReverse" class="fa-solid fa-caret-down"></span>\n                <span data-ng-show="sortReverse" class="fa-solid fa-caret-up"></span>\n              </span>\n            </span>\n          </th>\n          <th class="TipInfoStatus">\n            <span data-ng-click="sortKey = \'submissionStatusStr\'; sortReverse = !sortReverse">\n              <i class="fa-solid fa-dot-circle"></i>\n              <span data-translate>Status</span>\n              <span data-ng-show="sortKey == \'submissionStatusStr\'">\n                <span data-ng-show="!sortReverse" class="fa-solid fa-caret-down"></span>\n                <span data-ng-show="sortReverse" class="fa-solid fa-caret-up"></span>\n              </span>\n            </span>\n            <span class="DropdownMultiselectContainer">\n              <i class="fa-solid fa-filter" data-ng-class="{filterSelected: checkFilter(dropdownStatusModel)}"></i>\n              <span data-ng-dropdown-multiselect data-options="dropdownStatusData" data-selected-model="dropdownStatusModel" data-events="on_changed" data-extra-settings="dropdownSettings" data-translation-texts="dropdownDefaultText"></span>\n            </span>\n          </th>\n          <th class="TipInfoSubmissionDate">\n            <span data-ng-click="sortKey = \'creation_date\'; sortReverse = !sortReverse">\n              <i class="fa-solid fa-clock"></i>\n              <span data-translate>Report date</span>\n              <span data-ng-show="sortKey == \'creation_date\'">\n                <span data-ng-show="!sortReverse" class="fa-solid fa-caret-down"></span>\n                <span data-ng-show="sortReverse" class="fa-solid fa-caret-up"></span>\n              </span>\n            </span>\n            <span data-date-range-picker data-ng-model="reportDateModel" data-on-date-change="onReportFilterChange"></span>\n          </th>\n          <th class="TipInfoUpdateDate">\n            <span data-ng-click="sortKey = \'update_date\'; sortReverse = !sortReverse">\n              <i class="fa-solid fa-clock"></i>\n              <span data-translate>Last update</span>\n              <span data-ng-show="sortKey == \'update_date\'">\n                <span data-ng-show="!sortReverse" class="fa-solid fa-caret-down"></span>\n                <span data-ng-show="sortReverse" class="fa-solid fa-caret-up"></span>\n              </span>\n            </span>\n            <span data-date-range-picker data-ng-model="updateDateModel" data-on-date-change="onUpdateFilterChange"></span>\n          </th>\n          <th class="TipInfoExpirationDate">\n            <span data-ng-click="sortKey = \'expiration_date\'; sortReverse = !sortReverse">\n              <i class="fa-solid fa-hourglass"></i>\n              <span data-translate>Expiration date</span>\n              <span data-ng-show="sortKey == \'expiration_date\'">\n                <span data-ng-show="!sortReverse" class="fa-solid fa-caret-down"></span>\n                <span data-ng-show="sortReverse" class="fa-solid fa-caret-up"></span>\n              </span>\n            </span>\n            <span data-date-range-picker data-ng-model="expiryDateModel" data-on-date-change="onExpiryFilterChange"></span>\n          </th>\n          <th class="TipInfoReadReceipt"><i class="fa-solid fa-envelope-circle-check"></i></th>\n          <th class="TipInfoComments"><i class="fa-solid fa-comment"></i></th>\n          <th class="TipInfoFiles"><i class="fa-solid fa-file"></i></th>\n          <th class="TipInfoIdentity"><i class="fa-solid fa-user"></i></th>\n          <th class="TipInfoScore" data-ng-if="public.node.enable_scoring_system">\n            <span data-ng-click="$parent.sortKey = \'score\'; sortReverse = !sortReverse">\n              <i class="fa-solid fa-flash"></i>\n              <span data-translate>Score</span>\n              <span data-ng-show="$parent.sortKey == \'score\'">\n                <span data-ng-show="!sortReverse" class="fa-solid fa-caret-down"></span>\n                <span data-ng-show="sortReverse" class="fa-solid fa-caret-up"></span>\n              </span>\n            </span>\n            <span class="DropdownMultiselectContainer">\n              <i class="fa-solid fa-filter" data-ng-class="{filterSelected: checkFilter(dropdownScoreModel)}"></i>\n              <span translation-texts="dropdownDefaultText" data-ng-dropdown-multiselect options="dropdownScoreData" class="dropdown-multiselect-padding" selected-model="dropdownScoreModel" events="on_changed" extra-settings="dropdownSettings"></span>\n            </span>\n          </th>\n        </tr>\n      </thead>\n      <tbody id="tipListTableBody">\n        <tr id="tip-{{$index}}"\n            data-ng-repeat="tip in filteredTips | orderBy:sortKey:sortReverse | limitTo:itemsPerPage:((currentPage - 1) * itemsPerPage)"\n\t    data-ng-class="{\'font-weight-bold\': tip.updated, \'selectedTip\': isSelected(tip.id)}" class="tip-action-open"\n            data-ng-click="Utils.go(\'/status/\' + tip.id)">\n          <td>\n            <span class="btn btn-sm btn-outline-secondary" data-ng-if="isSelected(tip.id)"\n                  data-ng-click="tip_switch(tip.id); $event.stopPropagation();">\n              <i class="fa-solid fa-check-square"></i>\n            </span>\n            <span class="btn btn-sm btn-outline-secondary" data-ng-if="!isSelected(tip.id)"\n                  data-ng-click="tip_switch(tip.id); $event.stopPropagation();">\n              <i class="fa-solid fa-square"></i>\n            </span>\n            <span name="TipExport"\n                  data-ng-click="exportTip(tip); $event.stopPropagation()"\n                  data-uib-tooltip="{{\'Export\' | translate}}"\n                  novalidate>\n              <button id="tip-action-export" class="btn btn-sm btn-outline-secondary">\n                <i class="fa-solid fa-save"></i>\n              </button>\n            </span>\n          </td>\n          <td class="TipInfoID">{{tip.progressive}}</td>\n          <td><i data-ng-if="tip.important" class="fa-solid fa-star text-warning"></i>\n          <td><i data-ng-if="markReportStatus(tip.reminder_date)" class="fa-solid fa-bell text-warning"></i>\n          </td>\n          <td class="TipInfoContext" data-ng-if="public.contexts.length > 1">{{tip.context_name}}</td>\n          <td class="TipInfoLabel">{{tip.label}}</td>\n          <td class="TipInfoStatus"><span>{{tip.submissionStatusStr}}</span></td>\n          <td class="TipInfoSubmissionDate">\n            <span>{{tip.creation_date | date:\'dd-MM-yyyy HH:mm\'}}</span>\n          </td>\n          <td class="TipInfoUpdateDate">{{tip.update_date | date:\'dd-MM-yyyy HH:mm\'}}</td>\n          <td class="TipInfoExpirationDate">\n            <span\n                data-ng-if="!Utils.isNever(tip.expiration_date)">{{tip.expiration_date | date:\'dd-MM-yyyy HH:mm\'}}</span>\n            <span data-ng-if="Utils.isNever(tip.expiration_date)">-</span>\n          </td>\n          <td class="TipInfoLastAccess">\n            <i data-ng-if="tip.last_access >= tip.update_date" class="fa-solid fa-check"\n               data-uib-tooltip="{{\'The whistleblower has already read the last update\' | translate}} ({{tip.last_access | date:\'dd-MM-yyyy HH:mm\'}})"></i>\n            <i data-ng-if="tip.last_access < tip.update_date" class="fa-solid fa-times"\n               data-uib-tooltip="{{\'The whistleblower has not read the last update yet\' | translate}}"></i>\n          </td>\n          <td class="TipInfoComments">{{tip.comment_count}}</td>\n          <td class="TipInfoFiles">{{tip.file_count}}</td>\n          <th class="TipInfoIdentity">\n            <i data-ng-if="tip.subscription === 1" class="fa-solid fa-user"></i>\n            <i data-ng-if="tip.subscription === 2" class="fa-solid fa-user text-muted"></i>\n          </th>\n          <td class="TipInfoScore" data-ng-if="public.node.enable_scoring_system" data-ng-switch="tip.score">\n            <span data-ng-switch-when="0">-</span>\n            <span class="badge badge-primary" data-ng-switch-when="1" data-translate>Low</span>\n            <span class="badge badge-primary" data-ng-switch-when="2" data-translate>Medium</span>\n            <span class="badge badge-primary" data-ng-switch-when="3" data-translate>High</span>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <div class="text-center" data-ng-show="filteredTips.length > itemsPerPage">\n      <ul data-uib-pagination\n          total-items="filteredTips.length"\n          first-text="<< {{\'First\' | translate}}"\n          last-text="{{\'Last\' | translate}} >>"\n          previous-text="< {{\'Previous\' | translate}}"\n          next-text="{{\'Next\' | translate}} >"\n          items-per-page="itemsPerPage"\n          data-ng-model="currentPage"\n          max-size="10"\n          class="pagination-sm"\n          boundary-links="true"\n          force-ellipses="true"></ul>\n    </div>\n  </div>\n</div>\n'),e.put("views/recipient/whistleblower_identity.html",'<div id="TipInfoBox" class="card card-default" data-ng-init="collapsed = true">\n  <div class="card-header clearfix" data-ng-click="collapsed = !collapsed; $event.stopPropagation();">\n    <span data-translate>Identity</span>\n    <span class="float-right">\n      <i data-ng-if="!collapsed" class="fa-solid fa-chevron-up" data-uib-tooltip="{{\'Collapse\' | translate}}"></i>\n      <i data-ng-if="collapsed" class="fa-solid fa-chevron-down" data-uib-tooltip="{{\'Expand\' | translate}}"></i>\n    </span>\n  </div>\n  <div class="card-body" data-ng-show="!collapsed">\n    <div data-ng-if="tip.iar && tip.iar.reply !== \'authorized\'">\n      <div>\n        <label data-translate>Access to the whistleblower\'s identity has been requested to the custodian.</label>\n      </div>\n      <div>\n        <label data-translate>Date of the request</label><span>:</span>\n        <span>{{tip.iar.request_date | date:\'dd-MM-yyyy HH:mm\'}}</span>\n      </div>\n      <div>\n        <label data-translate>Request status</label><span>:</span>\n        <span data-ng-switch="tip.iar.reply">\n          <span data-ng-switch-when="pending" data-translate>Waiting for authorization</span>\n          <span data-ng-switch-when="denied" data-translate>Denied</span>\n        </span>\n        <div><label data-translate>Request motivation</label>:<span> {{tip.iar.request_motivation}}</span></div>\n      </div>\n      <div data-ng-if="tip.iar && tip.iar.reply == \'denied\'"><label data-translate>Reply motivation</label>: <span>{{tip.iar.reply_motivation}}</span></div>\n    </div>\n    <span data-ng-if="!tip.data.whistleblower_identity_provided">-</span>\n    <div data-ng-if="tip.data.whistleblower_identity_provided">\n      <div data-ng-if="tip.iar && tip.iar.reply === \'authorized\'">\n        <div data-ng-repeat="field in whistleblower_identity_field.children | orderBy:[\'y\', \'x\']">\n          <span data-ng-init="fieldAnswers=tip.data.whistleblower_identity" data-ng-include="\'views/partials/tip_field.html\'"></span>\n        </div>\n        <div>\n          <span data-translate>Subscription date</span>\n          <span>{{tip.data.whistleblower_identity_date | date:\'dd-MM-yyyy HH:mm\'}}</span>\n        </div>\n      </div>\n      <div data-ng-if="!tip.iar || tip.iar.reply === \'denied\'">\n        <button data-ng-if="tip.custodian" class="btn btn-sm btn-primary" data-ng-click="file_identity_access_request()" data-translate>Request access to the whistleblower\'s identity</button>\n        <button data-ng-if="!tip.custodian" class="btn btn-sm btn-primary" data-ng-click="access_identity()" data-translate>Show</button>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("views/signup/activation.html",'<div class="row wizard-block">\n  <div class="col-md-12">\n    <div class="congratulations">\n      <div class="title" data-translate>Congratulations!</div>\n      <div>\n        <span data-translate>You have completed the platform activation.</span>\n        <span data-translate>Please check your inbox for further instructions.</span>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("views/signup/main.html",'<div class="row">\n  <div data-ng-show="step === 1" class="col-md-6 wizard-block" data-ng-switch="public.node.mode">\n    <div data-ng-switch-when="default">\n      <div data-ng-include="\'views/signup/modes/demo.html\'"></div>\n    </div>\n    <div data-ng-switch-default>\n      <div data-ng-include="\'views/signup/modes/\' + public.node.mode + \'.html\'"></div>\n    </div>\n  </div>\n  <div data-ng-show="step === 2" class="col-md-12 wizard-block">\n    <div class="congratulations">\n      <div class="title" data-translate>Success!</div>\n      <div>\n        <span data-translate>Your whistleblowing platform is almost ready!</span>\n        <span data-translate>Check your inbox to activate it.</span>\n        <br />\n        <span data-translate>If not activated within 24 hours the platform will be automatically deleted.</span>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("views/signup/modes/demo.html",'<form name="signupForm" data-ng-class="{\'was-validated\': validated}" novalidate>\n  <div class="row">\n    <div class="col-md-12">\n      <div class="title" data-translate>Sign up</div>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-12 form-group">\n      <label>\n        <span data-translate>Site</span>\n        <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n      </label>\n      <div class="input-group">\n        <input name="subdomain" class="form-control" data-ng-model="signup.subdomain" type="text" maxlength="60"\n               data-ng-class="{\'is-invalid\': signupForm.subdomain.$error.pattern}"\n               data-ng-pattern="/^[a-z0-9]+$/" data-subdomainvalidator required >\n        <span class="input-group-append"><span class="input-group-text">.{{public.node.rootdomain}}</span></span>\n      </div>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-6 form-group">\n      <label data-translate>Name</label>\n      <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n      <input name="name" class="form-control" data-ng-model="signup.name" type="text" required>\n    </div>\n    <div class="col-md-6 form-group">\n      <label data-translate>Surname</label>\n      <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n      <input name="surname" class="form-control" data-ng-model="signup.surname" type="text" required>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-6 form-group">\n      <label>\n        <span data-translate>Email address</span>\n        <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n      </label>\n      <input name="mail_address" class="form-control" data-ng-model="signup.email"\n             data-ng-pattern="CONSTANTS.email_regexp" type="email"\n             data-ng-class="{\'is-invalid\': validated && signupForm.mail_address.$error.pattern}"\n             required>\n      <div class="text-danger" data-ng-show="signupForm.mail_address.$error.pattern">\n        <span data-translate>Invalid email address</span>\n      </div>\n    </div>\n    <div class="col-md-6 form-group">\n      <label>\n        <span data-translate>Email address</span> <span>(</span><span data-translate>Confirmation</span><span>)</span>\n        <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n      </label>\n      <input name="email" class="form-control" data-ng-model="confirmation_email"\n             data-disable-ccp type="email"\n             data-ng-class="{\'is-invalid\': validated && signup.email !== confirmation_email}"\n             required>\n      <div class="text-danger" data-ng-show="validated && signupForm.mail_address.$valid && signup.email !== confirmation_email">\n        <span data-translate>Invalid confirmation</span>\n      </div>\n    </div>\n  </div>\n  <div data-ng-include="\'views/signup/tos.html\'"></div>\n  <div class="row">\n    <div class="col-md-12">\n      <button class="ButtonNext btn btn-primary" data-ng-click="(validated = true) && !signupForm.$invalid && complete()">\n        <i class="fa-solid fa-check"></i>\n        <span data-translate>Proceed</span>\n      </button>\n    </div>\n  </div>\n</form>\n'),e.put("views/signup/modes/wbpa.html",'<form name="signupForm" data-ng-class="{\'was-validated\': validated}" novalidate>\n  <div class="row">\n    <div class="col-md-12">\n      <div class="title" data-translate>Sign up</div>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-6 form-group">\n      <label data-translate>Name</label>\n      <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n      <input name="name" class="form-control" data-ng-model="signup.name" type="text" required>\n    </div>\n    <div class="col-md-6 form-group">\n      <label data-translate>Surname</label>\n      <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n      <input name="surname" class="form-control" data-ng-model="signup.surname" type="text" required>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-6 form-group">\n      <label data-translate>Phone number</label> <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n      <input name="phone" class="form-control" data-ng-model="signup.phone" type="text" data-ng-pattern="CONSTANTS.phonenumber_regexp" required>\n      <div class="text-danger" data-ng-show="signupForm.phone.$error.pattern">\n        <span data-translate>Invalid phone number</span>\n      </div>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-6 form-group">\n      <label>\n        <span data-translate>Email address</span>\n        <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n      </label>\n      <div>\n        <input name="email" class="form-control" data-ng-model="signup.email" data-ng-pattern="CONSTANTS.email_regexp" type="email" required>\n        <div class="text-danger" data-ng-show="signupForm.email.$error.pattern">\n          <span data-translate>Invalid email address</span>\n        </div>\n      </div>\n    </div>\n    <div class="col-md-6 form-group">\n      <label>\n        <span data-translate>Email address</span> (<span data-translate>Confirm</span>)\n        <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n      </label>\n      <div>\n        <input name="email" class="form-control" data-ng-model="confirmation_email" data-disable-ccp type="email" required>\n        <div class="text-danger" data-ng-show="signupForm.email.$valid && signup.email !== confirmation_email">\n          <span data-translate>Invalid confirmation</span>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-12">\n      <label class="title" data-translate>Organization</label>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-12 form-group">\n      <label data-translate>Name</label>\n      <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n      <input name="organization_name" class="form-control" data-ng-model="signup.organization_name" type="text" data-ng-change="updateSubdomain()" required>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-12 form-group">\n      <label data-translate>Address</label>\n      <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n      <input name="organization_location" class="form-control" data-ng-model="signup.organization_location" type="text" required>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-6 form-group">\n      <label data-translate>Fiscal code</label>\n      <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n      <input name="tax_code" class="form-control" data-ng-model="signup.organization_tax_code" type="text"\n             data-ng-required="!signup.organization_tax_code && !signup.organization_vat_code">\n    </div>\n    <div class="col-md-6 form-group">\n      <label data-translate>Tax code</label>\n      <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n      <input name="vat_code" class="form-control" data-ng-model="signup.organization_vat_code" type="text"\n             data-ng-required="!signup.organization_tax_code && !signup.organization_vat_code">\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-12 form-group">\n      <label>\n        <span data-translate>Site</span>\n        <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n      </label>\n      <div class="input-group">\n        <input name="subdomain" class="form-control" data-ng-model="signup.subdomain" type="text"\n               data-ng-class="{\'is-invalid\': signupForm.subdomain.$error.pattern}"\n               data-ng-pattern="/^[a-z0-9]+$/" data-subdomainvalidator required>\n        <span class="input-group-append"><span class="input-group-text">.{{public.node.rootdomain}}</span></span>\n      </div>\n    </div>\n  </div>\n  <br />\n  <div data-ng-include="\'views/signup/tos.html\'"></div>\n  <div class="row">\n    <div class="col-md-12">\n      <button class="ButtonNext btn btn-primary" data-ng-click="(validated = true) && !signupForm.$invalid && complete()">\n        <i class="fa-solid fa-check"></i>\n        <span data-translate>Proceed</span>\n      </button>\n    </div>\n  </div>\n</form>\n'),e.put("views/signup/tos.html",'<div class="row">\n  <div id="SignupTos1" class="col-md-12 form-group" data-ng-if="public.node.signup_tos1_enable">\n    <label>{{public.node.signup_tos1_title}}</label>\n    <div class="tos-text">{{public.node.signup_tos1_text}}</div>\n    <div class="form-check">\n      <input name="tos1" class="form-check-input" type="checkbox" data-ng-model="signup.tos1" required/>\n      <span class="form-check-label">{{public.node.signup_tos1_checkbox_label}}</span>\n    </div>\n  </div>\n</div>\n<div class="row">\n  <div id="SignupTos2" class="col-md-12 form-group" data-ng-if="public.node.signup_tos2_enable">\n    <label>{{public.node.signup_tos2_title}}</label>\n    <div class="tos-text">{{public.node.signup_tos2_text}}</div>\n    <div class="form-check">\n      <input name="tos2" class="form-check-input" type="checkbox" data-ng-model="signup.tos2" required/>\n      <label class="form-check-label">{{public.node.signup_tos2_checkbox_label}}</label>\n    </div>\n  </div>\n</div>\n'),e.put("views/whistleblower/context_selection.html",'<fieldset id="SubmissionStepContext">\n  <div class="row mb-2" data-ng-if="public.node.contexts_clarification">\n    <legend class="col-md-12 title" data-markdown-to-html="public.node.contexts_clarification | stripHtml"></legend>\n  </div>\n  <div class="row">\n    <div data-ng-repeat="context in selectable_contexts | orderBy:contextsOrderPredicate" id="context-{{$index}}" class="{{Utils.getCardSize(selectable_contexts.length)}}" data-ng-click="selectContext(context)">\n       <div class="selectCard">\n          <div class="row">\n            <div class="col-md-12 title">{{context.name}}</div>\n          </div>\n          <div class="row" data-ng-if="context.picture">\n            <div class="col-md-4"><img class="contextImg" alt="context picture" data-ng-if="context.picture" data-ng-src="/s/{{context.id}}" /></div>\n          </div>\n          <div class="row" data-ng-if="context.description">\n            <div class="col-md-12 description">{{context.description}}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</fieldset>\n'),e.put("views/whistleblower/fields/whistleblower_identity.html",'<div data-ng-init="submission._submission.identity_provided = true;">\n  <div data-ng-if="!field.required">\n    <input class="inputelem" type="radio" id="whistleblower_identity_radio_1" data-ng-model="submission._submission.identity_provided" data-ng-value="true" />\n    <label class="form-check-inline" for="whistleblower_identity_radio_1" data-translate>Yes</label>\n    <input class="inputelem" type="radio" id="whistleblober_identity_radio_2" data-ng-model="submission._submission.identity_provided" data-ng-value="false" />\n    <label class="form-check-inline" for="whistleblower_identity_radio_2" data-translate>No</label>\n  </div>\n  <div data-ng-if="submission._submission.identity_provided === false && field.attrs.text_shown_upon_negative_answer.value" class="alert alert-secondary">\n    <div>{{field.attrs.text_shown_upon_negative_answer.value}}</div>\n  </div>\n  <div data-ng-if="submission._submission.identity_provided === true">\n    <div data-ng-include="\'views/whistleblower/form.html\'"></div>\n  </div>\n</div>\n'),e.put("views/whistleblower/form_field_input.html",'<div class="Question" data-ng-form="{{fieldFormVarName}}">\n  <div data-ng-controller="SubmissionFormFieldCtrl" data-ng-switch="field.template_id">\n    <div data-ng-switch-when="whistleblower_identity">\n      <div data-ng-include="\'views/whistleblower/fields/whistleblower_identity.html\'"></div>\n    </div>\n    <div data-ng-switch-default data-ng-switch="field.type">\n      <div data-ng-switch-when="textarea" data-ng-model-options="{\'debounce\':250}">\n        <textarea id="{{fieldEntry}}"\n                  name="{{fieldEntry}}"\n                  class="form-control inputelem"\n                  data-ng-model="entry[\'value\']"\n                  data-ng-minlength="field.attrs.min_len.value"\n                  maxlength="{{field.attrs.max_len.value}}"\n                  aria-label="{{field.label}}"\n                  data-ng-required="entry.required_status"\n                  data-ng-attr-placeholder="{{field.placeholder}}"\n                  dynamic-textarea></textarea>\n      </div>\n      <div data-ng-switch-when="selectbox">\n        <select id="{{fieldEntry}}" class="custom-select inputelem" data-ng-model="entry[\'value\']" data-ng-required="entry.required_status" data-ng-show="field.options.length < 10">\n          <option value="" disabled hidden selected data-translate>Select an option</option>\n          <option data-ng-repeat="option in field.options | orderBy:field.attrs.display_alphabetically.value ? \'label\' : \'order\'" id="{{fieldEntry}}-option-{{$index}}" value="{{option.id}}">{{option.label}}</option>\n        </select>\n        <div class="input-group" data-ng-class="{\'d-block\': !entry[\'value\']}" data-ng-show="field.options.length >= 10">\n          <ui-select data-ng-model="entry[\'value\']" data-theme="bootstrap" data-on-select="entry[\'value\'] = $item.id; label = $item.label">\n            <ui-select-match data-ng-attr-placeholder="{{\'Search\' | translate}}">\n              <span data-ng-bind="label"></span>\n            </ui-select-match>\n            <ui-select-choices data-repeat="option in field.options | filter:{\'label\': $select.search} | orderBy:field.attrs.display_alphabetically.value ? \'label\' : \'order\'" refresh="" resfresh-delay="0">\n              <span data-ng-bind-html="option.label | highlightSafe: $select.search"></span>\n            </ui-select-choices>\n          </ui-select>\n          <span class="input-append" data-ng-click="entry[\'value\']=\'\';" data-ng-disabled="!entry[\'value\']" data-ng-if="entry[\'value\']"><i class="input-group-text fa-solid fa-times-circle"></i></span>\n        </div>\n      </div>\n      <div data-ng-switch-when="multichoice">\n        <div data-ng-repeat="option in field.options | orderBy:\'order\'">\n          <input id="{{fieldEntry + \'-option-\' + $index}}" name="{{fieldEntry + \'-option-\' + $index}}" class="form-control-input inputelem" type="radio" data-ng-model="entry[\'value\']" value="{{option.id}}" data-ng-required="field.required" />\n          <label for="{{fieldEntry + \'-option-\' + $index}}" data-uib-tooltip="{{option.hint1}}" class="form-control-label" data-ng-class="{\'text-underline\': option.hint1}">{{option.label}}</label>\n        </div>\n      </div>\n      <div data-ng-switch-when="checkbox">\n        <div data-ng-repeat="option in field.options | orderBy:field.attrs.display_alphabetically.value ? \'label\' : \'order\'">\n          <input id="{{fieldEntry + \'-option-\' + $index}}"\n                 name="{{fieldEntry + \'-option-\' + $index}}"\n                 class="form-control-input inputelem"\n                 data-ng-model="entry[option.id]"\n                 data-ng-required="entry.required_status"\n                 type="checkbox" />\n          <label for="{{fieldEntry + \'-option-\' + $index}}" data-uib-tooltip="{{option.hint1}}" class="form-control-label" data-ng-class="{\'text-underline\': option.hint1}">{{option.label}}</label>\n        </div>\n      </div>\n      <div data-ng-switch-when="date">\n        <div class="input-group">\n          <input id="{{fieldEntry}}"\n                 name="{{fieldEntry}}"\n                 class="form-control inputelem"\n                 type="date"\n                 readonly="readonly"\n                 aria-label="{{field.label}}"\n                 data-ng-model="entry[\'value\']"\n                 data-ng-required="entry.required_status"\n                 data-ng-click="open()"\n                 uib-datepicker-popup\n                 datepicker-options="dateOptions"\n                 is-open="status.opened"\n                 show-button-bar="false" />\n          <span class="input-group-append" data-ng-click="open()"><i class="input-group-text fa-solid fa-calendar"></i></span>\n        </div>\n      </div>\n      <div data-ng-switch-when="daterange" class="form-inline">\n        <span class="form-group">\n          <label data-translate>From</label>\n          <div class="input-group mx-1">\n            <input id="{{fieldEntry}}"\n                   class="form-control inputelem"\n                   type="date"\n                   readonly="readonly"\n                   aria-label="{{field.label}}"\n                   data-ng-model="daterange.start"\n                   data-ng-required="entry.required_status"\n                   data-ng-attr-placeholder="{{field.placeholder}}"\n                   data-ng-click="openStart()"\n                   uib-datepicker-popup\n                   datepicker-options="dateOptions1"\n                   is-open="status.openedStart"\n                   show-button-bar="false" />\n            <span class="input-group-append" data-ng-click="openStart()"><i class="input-group-text fa-solid fa-calendar"></i></span>\n          </div>\n        </span>\n        <span class="form-group mx-1" data-ng-if="daterange.start">\n          <label data-translate>To</label>\n          <div class="input-group mx-1">\n            <input id="{{fieldEntry}}"\n                   class="form-control inputelem"\n                   type="date"\n                   readonly="readonly"\n                   aria-label="{{field.label}}"\n                   data-ng-model="daterange.end"\n                   data-ng-required="entry.required_status"\n                   data-ng-attr-placeholder="{{field.placeholder}}"\n                   data-ng-click="openEnd()"\n                   uib-datepicker-popup\n                   datepicker-options="dateOptions2"\n                   is-open="status.openedEnd"\n\t\t   show-button-bar="false" />\n            <span class="input-group-append" data-ng-click="openEnd()"><i class="input-group-text fa-solid fa-calendar"></i></span>\n          </div>\n        </span>\n        <span class="ml-1" data-ng-if="daterange.start">\n          <button type="button" class="btn btn-outline-secondary" ng-click="clear()"><i class="fa-solid fa-times-circle"></i></button>\n        </span>\n      </div>\n      <div data-ng-switch-when="tos">\n        <div class="form-group tos-text" data-markdown-to-html="field.attrs.text.value | stripHtml"></div>\n        <div data-ng-if="field.attrs.attachment.value">\n          <a data-ng-href="{{field.attrs.attachment_url.value}}" rel="noreferrer" target="_blank">{{field.attrs.attachment_text.value}}</a>\n        </div>\n        <div class="form-check">\n          <input id="{{fieldEntry}}"\n                 name="{{fieldEntry}}"\n                 class="form-check-input inputelem"\n                 data-ng-model="entry[\'value\']"\n                 data-ng-required="entry.required_status"\n                 value="{{field.value}}"\n                 type="checkbox" />\n          <label class="form-check-label" for="{{fieldEntry}}">{{field.attrs.checkbox_label.value}}</label>\n        </div>\n      </div>\n      <div data-ng-switch-when="voice">\n        <div id="{{fieldEntry}}" data-ng-include="\'views/partials/voice_recorder.html\'"></div>\n      </div>\n      <div data-ng-switch-when="fileupload">\n        <div id="{{fieldEntry}}" data-ng-include="\'views/partials/wbfile_upload_button.html\'"></div>\n      </div>\n      <div data-ng-switch-when="fieldgroup">\n        <div data-ng-if="field.attrs.multimedia.value" data-ng-switch="field.attrs.multimedia_type.value">\n          <div data-ng-switch-when="image">\n            <img data-ng-src="{{field.attrs.multimedia_url.value}}" />\n          </div>\n          <div data-ng-switch-when="audio">\n            <audio controls>\n              <source data-ng-src="{{field.attrs.multimedia_url.value}}" type="audio/mpeg" />\n            </audio>\n          </div>\n          <div data-ng-switch-when="video">\n            <video controls><source data-ng-src="{{field.attrs.multimedia_url.value}}" type="video/mp4"></video>\n          </div>\n        </div>\n        <div data-ng-include="\'views/whistleblower/form.html\'"></div>\n      </div>\n      <div data-ng-switch-default data-ng-model-options="{\'debounce\':250}">\n        <input id="{{fieldEntry}}"\n               name="{{fieldEntry}}"\n               class="form-control inputelem"\n               data-ng-model="entry[\'value\']"\n               data-ng-minlength="field.attrs.min_len.value"\n               data-ng-pattern="validator"\n               maxlength="{{field.attrs.max_len.value}}"\n               data-ng-required="entry.required_status"\n               data-ng-attr-placeholder="{{field.placeholder}}"\n               aria-label="{{field.label}}"\n               type="text" />\n      </div>\n    </div>\n    <div data-ng-if="displayErrors()">\n      <div class="clearfix">\n        <div data-ng-if="entry[\'value\'].length && field.attrs.max_len.value > 0 && (field.attrs.max_len.value - entry[\'value\'].length) <= 50" class="float-right">{{entry[\'value\'].length}}/{{field.attrs.max_len.value}}</div>\n      </div>\n      <div class="text-danger">\n        <span data-ng-if="f[fieldEntry].$error.required || entry.required_status" class="text-danger" data-translate>This field is mandatory</span>\n        <span data-ng-if="f[fieldEntry].$error.minlength" class="text-danger" data-translate>The answer is too short</span>\n      </div>\n      <div data-ng-if="f[fieldEntry].$error.pattern && field.attrs.input_validation.value === \'custom\'" class="text-danger" data-translate>The specified input is not valid.</div>\n      <div data-ng-if="f[fieldEntry].$error.pattern && field.attrs.input_validation.value !== \'custom\'">\n        <span class="text-danger" data-translate>The specified input is not valid:</span>\n        <span class="text-danger" data-ng-switch="field.attrs.input_validation.value">\n          <span data-ng-switch-when="email" data-translate>please enter a valid email address.</span>\n          <span data-ng-switch-when="number" class="text-danger" data-translate>please enter numbers only.</span>\n          <span data-ng-switch-when="phonenumber" class="text-danger" data-translate>please enter numbers only.</span>\n        </span>\n      </div>\n    </div>\n    <div data-ng-if="field.type === \'selectbox\'" data-ng-repeat="option in field.options">\n      <div data-ng-show="option.set && option.hint1"><i class="fa-solid fa-info-circle"></i> {{option.hint1}}</div>\n    </div>\n    <div data-ng-repeat="option in field.options">\n      <div data-ng-show="option.set && option.hint2" data-ng-class="{\'text-danger\': option.block_submission}"><i class="fa-solid fa-info-circle"></i> {{option.hint2}}</div>\n    </div>\n  </div>\n</div>\n'),e.put("views/whistleblower/form_field_inputs.html",'<div class="fieldAnswerEntry" data-ng-repeat="entry in entries" data-ng-class="{\'fieldAnswerEntryFirst\': $first, \'fieldAnswerEntryLast\': $last}" data-ng-init="entryIndex=$index">\n  <div data-ng-controller="SubmissionFieldEntryCtrl" data-ng-if="entries.length === 1">\n    <div data-ng-include="\'views/whistleblower/form_field_input.html\'"></div>\n  </div>\n  <fieldset data-ng-controller="SubmissionFieldEntryCtrl" data-ng-if="entries.length > 1">\n    <div class="fieldAnswerEntryLabel clearfix">\n      <legend class="float-left text-muted">#{{entryIndex + 1}}</legend>\n      <span class="float-right text-danger" data-uib-tooltip="{{\'Remove\' | translate}}" data-ng-click="Utils.deleteFromList(entries, entry)" aria-label="{{\'Remove\' | translate}}">\n        <i class="fa-solid fa-times"></i>\n      </span>\n    </div>\n    <div data-ng-include="\'views/whistleblower/form_field_input.html\'"></div>\n  </fieldset>\n</div>\n<div data-ng-if="field.multi_entry && field.type === \'fieldgroup\'" class="float-right">\n  <button class="btn btn-outline-secondary" data-ng-click="addAnswerEntry(entries, field.id)" aria-label="{{\'Add\' | translate}}">\n    <i class="fa-solid fa-plus"></i>\n  </button>\n</div>\n'),e.put("views/whistleblower/form.html",'<div data-ng-repeat="row in rows" data-ng-init="fieldRow=$index" class="row" data-flow-init>\n  <div data-ng-repeat="field in row | orderBy:\'x\'" data-ng-init="fieldCol=$index" data-ng-if="field.enabled"  data-ng-class="fieldUtilities.getClass(field, row.length)">\n    <div data-ng-if="([\'checkbox\', \'fieldgroup\', \'multichoice\'].indexOf(field.type) === -1) && ([\'whistleblower_identity\'].indexOf(field.template_id) === -1)" data-ng-controller="SubmissionFieldCtrl" id="{{fieldId}}" class="question">\n      <label for="{{fieldId + \'-input-0\'}}" class="title">{{field.label}}</label>\n      <i data-ng-if="field.hint" data-uib-tooltip="{{field.hint}}" class="fa-solid fa-question-circle"></i>\n      <span data-ng-if="field.required" data-uib-tooltip="{{\'This field is mandatory\' | translate}}" class="text-danger sup">*</span>\n      <div class="question-body">\n        <div data-ng-if="field.description" class="description" data-markdown-to-html="field.description | stripHtml"></div>\n        <div class="form-group" data-ng-include="\'views/whistleblower/form_field_inputs.html\'"></div>\n      </div>\n    </div>\n    <fieldset data-ng-if="([\'checkbox\', \'fieldgroup\', \'multichoice\'].indexOf(field.type) !== -1) || ([\'whistleblower_identity\'].indexOf(field.template_id) !== -1)" data-ng-controller="SubmissionFieldCtrl" id="{{fieldId}}" class="question">\n      <legend class="title">{{field.label}}</legend>\n      <i data-ng-if="field.hint" data-uib-tooltip="{{field.hint}}" class="fa-solid fa-question-circle"></i>\n      <span data-ng-if="field.required" data-uib-tooltip="{{\'This field is mandatory\' | translate}}" class="text-danger sup">*</span>\n      <div class="question-body">\n        <div data-ng-if="field.description" class="description" data-markdown-to-html="field.description | stripHtml"></div>\n        <div class="form-group" data-ng-include="\'views/whistleblower/form_field_inputs.html\'"></div>\n      </div>\n    </fieldset>\n  </div>\n</div>\n'),e.put("views/whistleblower/home.html",'<div id="HomePageBox">\n  <div id="Presentation" class="mb-5" data-ng-if="public.node.presentation" data-markdown-to-html="public.node.presentation | stripHtml"></div>\n  <div id="WhistleblowerBox" class="d-block mx-auto mb-5">\n    <div id="WhistleblowerSubmitBoxButtonDisabled" class="mb-4" data-ng-show="public.node.disable_submissions || (!public.node.https_whistleblower && !connection.tor)">\n      <button class="btn btn-danger disabled">\n        <i class="fa-solid fa-ban-circle"></i>\n        <span data-translate>Submissions disabled</span>\n      </button>\n    </div>\n    <div class="mb-4" data-ng-show="!public.node.https_whistleblower && !connection.tor">\n      <p class="text-danger" data-translate>You are connecting to the server without anonymity and this server supports only anonymous submissions</p>\n    </div>\n    <div id="WhistleblowerSubmitBox" class="mb-5" data-ng-show="!public.node.disable_submissions && (public.node.https_whistleblower || connection.tor)">\n      <div id="WhistleblowingQuestion" data-ng-show="public.node.whistleblowing_question" data-markdown-to-html="public.node.whistleblowing_question | stripHtml"></div>\n      <button id="WhistleblowingButton" data-ng-click="openSubmission()" class="btn btn-primary">{{public.node.whistleblowing_button}}</button>\n    </div>\n    <div id="WhistleblowerLoginBox" data-ng-show="public.node.https_whistleblower || connection.tor" data-ng-include="\'views/partials/receipt.html\'"></div>\n  </div>\n</div>\n'),e.put("views/whistleblower/receipt.html",'<div class="row" data-ng-if="page === \'receiptpage\'">\n  <div class="col-md-12">\n    <div id="ReceiptText">\n      <span data-translate>Thank you.</span> <span data-translate>Your report was successful.</span> <span data-translate>We will try to get back to you as soon as possible.</span>\n    </div>\n  </div>\n</div>\n<div class="row">\n  <div class="col-md-12">\n    <div class="card card-secondary">\n      <label for="ReceiptCode" class="card-header"data-translate>Remember your receipt for this report.</label>\n      <div class="card-body">\n        <div class="form-inline" data-uib-tooltip="{{\'Copy to clipboard\' | translate}}" data-ng-click="Utils.copyToClipboard(receipt)">\n          <div class="form-group d-block mx-auto">\n            <div class="input-group">\n              <input id="ReceiptCode" class="form-control" type="text" maxlength="19" size="19" data-ng-model="formatted_receipt" name="receipt-input" disabled>\n              <span class="input-group-append">\n                <button id="ReceiptButton" data-ng-click="Utils.copyToClipboard(receipt)" class="btn btn-primary" type="button" data-ng-attr-aria-label="{{\'Copy to clipboard\' | translate}}" >\n                  <i class="fa-solid fa-copy"></i>\n                </button>\n              </span>\n            </div>\n          </div>\n        </div>\n        <div class="mt-md-1 text-center" data-translate>Use the 16 digit receipt to log in. It will allow you to view any messages we sent you, and also to add extra info.</div>\n        <div class="mt-md-3 clearfix" data-ng-if="page === \'receiptpage\'">\n          <button id="ReceiptButton" class="float-right btn btn-primary" data-ng-click="Authentication.login(0, \'whistleblower\', receipt); receipt = \'\'" data-translate>View your report</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("views/whistleblower/receiver_card.html",'<div class="selectCard" data-ng-class="{\'selected\': submission.selected_receivers[receiver.id] || receiver.forcefully_selected}">\n  <div class="row mb-1">\n    <div class="col-md-12">\n      <input type="checkbox" class="btn-checkbox" id="recipient-{{receiver.id}}" name="recipient-{{receiver.id}}" data-ng-model="submission.selected_receivers[receiver.id]" data-ng-change="switch_selection(receiver)" data-ng-if="!receiver.forcefully_selected">\n      <label for="recipient-{{receiver.id}}" class="title">{{receiver.name}}</label>\n    </div>\n  </div>\n  <div class="row" data-ng-if="receiver.picture">\n    <div class="col-md-4"><img class="receiverImg" alt="receiver picture" data-ng-src="/s/{{receiver.id}}" /></div>\n  </div>\n  <div class="row">\n    <div class="col-md-12 description" data-ng-if="receiver.description">{{receiver.description}}</div>\n  </div>\n</div>\n'),e.put("views/whistleblower/receiver_selection.html",'<fieldset id="SubmissionStepReceiver" class="receiverCards" data-ng-if="submission.optional_receivers">\n  <legend class="title" data-translate>Select the recipients of your report</legend>\n  <div data-ng-if="submission.context.maximum_selectable_receivers !== 0 && !submission.context.select_all_receivers" id="MaxSelectableReceiverBox">\n    <div><span data-translate>Recipients selected:</span> {{submission.countSelectedReceivers()}}/{{submission.context.maximum_selectable_receivers}}</div>\n    <div class="text-danger" data-ng-if="submission.countSelectedReceivers() === submission.context.maximum_selectable_receivers" data-translate>You have reached the maximum number of selectable recipients.</div>\n  </div>\n  <div id="ReceiverSelectionBox" class="row">\n    <div data-ng-repeat="receiver in submission.receivers | filter: {forcefully_selected: false} | orderBy:receiversOrderPredicate" id="receiver-{{$index}}" class="{{Utils.getCardSize(submission.receivers.length)}}">\n      <div data-ng-include="\'views/whistleblower/receiver_card.html\'"></div>\n    </div>\n    <div data-ng-if="displayErrors()" class="col-md-12 text-danger" data-translate>You must select at least one recipient.</div>\n  </div>\n</fieldset>\n<div data-ng-if="submission.mandatory_receivers">\n  <div class="title" data-translate>The following recipients will receive your report and could not be deselected:</div>\n  <div id="ReceiverSelectionBox" class="row">\n    <div data-ng-repeat="receiver in submission.receivers | filter: {forcefully_selected: true}" id="receiver-{{$index}}" class="{{Utils.getCardSize(submission.receivers.length)}}">\n      <div data-ng-include="\'views/whistleblower/receiver_card.html\'"></div>\n    </div>\n  </div>\n</div>\n'),e.put("views/whistleblower/step_error.html",'<div data-ng-if="displayErrors()">\n  <p data-translate>In this step the answers to the following questions are either missing or invalid:</p>\n  <ul data-ng-if="navigation === -1 && context.allow_recipients_selection && !areReceiversSelected()">\n    <li data-ng-click="Utils.scrollTo(\'#SubmissionStepReceiver\')" data-translate>Select the recipients of your report</li>\n  </ul>\n  <ul data-ng-repeat="(key, errors) in stepForm(navigation).$error track by $index">\n    <li data-ng-repeat="err in errors" data-ng-controller="SubmissionFieldErrKeyCtrl" data-ng-click="goToQuestion()">{{field.label}}</li>\n  </ul>\n</div>\n'),e.put("views/whistleblower/submission_errors.html",'<div id="SubmissionErrors" class="alert alert-secondary mb-2" role="alert">\n  <div data-ng-if="!hasNextStep()">\n    <div data-ng-if="Utils.isUploading(uploads)">\n      <span data-translate>Waiting for the file(s) to finish uploading.</span>&nbsp;\n      <i class="fa-solid fa-sync gly-spin"></i>\n    </div>\n  </div>\n  <div data-ng-include="\'views/whistleblower/step_error.html\'"></div>\n</div>\n'),e.put("views/whistleblower/submission.html",'<div data-ng-if="selectable_contexts.length && !submission.context" data-ng-include="\'views/whistleblower/context_selection.html\'"></div>\n<div data-ng-if="submission.context">\n  <div data-ng-if="selectable_contexts.length > 1 || context_id">\n    <div class="title">{{submission.context.name}}</div>\n    <div class="row">\n      <div class="col-md-2" data-ng-if="submission.context.picture"><img class="contextImg" alt="context picture" data-ng-src="/s/{{submission.context.id}}" /></div>\n    </div>\n  </div>\n  <form id="SubmissionForm" name="vars.submissionForm" autocomplete="off" novalidate data-ng-class="{\'was-validated\': displayErrors()}">\n    <div class="tabbable tabs-below">\n      <ul id="SubmissionTabsNavigationBox" class="nav nav-tabs" data-ng-if="submission.context.show_steps_navigation_interface && submission.context.questionnaire.steps.length > 1" role="tablist">\n        <li data-ng-if="submission.context.allow_recipients_selection" id="step-recipient-selection-tab" class="nav-item" role="tab" aria-selected="{{navigation === -1}}" aria-current="{{navigation === -1 ? \'step\' : \'false\'}}" aria-controls="tab-recipient-selection">\n          <button id="step-recipient-selection-link" data-ng-class="{active: navigation === -1}" class="nav-link" data-ng-click="goToStep(-1)" href="#">\n            <span class="StepIndex" data-ng-class="{\'StepIndexSelected\': navigation === -1}">1</span> <span class="StepLabel" data-translate>Recipient selection</span>\n          </button>\n        </li>\n        <li data-ng-repeat="step in submission.context.questionnaire.steps | orderBy:\'order\'" id="step-{{$index}}-tab" data-ng-if="step.enabled" class="nav-item" role="tablist" aria-selected="{{navigation === $index}}" aria-current="{{navigation === $index ? \'step\' : \'false\'}}" aria-controls="step-{{$index}}">\n          <button id="step-{{$index}}-link" data-ng-class="{active: navigation === $index}" class="nav-link" data-ng-click="goToStep($index)">\n            <span class="StepIndex" data-ng-class="{\'StepIndexSelected\': navigation === $index}">{{$index + (submission.context.allow_recipients_selection ? 2 : 1)}}</span> <span class="StepLabel">{{step.label}}</span>\n          </button>\n        </li>\n      </ul>\n      <div id="SubmissionTabsContentBox" class="tab-content">\n        <div data-ng-if="displayErrors()" data-ng-include="\'views/whistleblower/submission_errors.html\'"></div>\n        <div id="step-recipient-selection" data-ng-if="submission.context.allow_recipients_selection" role="tabpanel" aria-labelledby="step-recipient-selection-tab">\n          <div data-ng-show="navigation === -1" data-ng-include="\'views/whistleblower/receiver_selection.html\'"></div>\n        </div>\n        <div data-ng-if="navigation !== -1" data-ng-repeat="step in submission.context.questionnaire.steps | orderBy:\'order\'" data-ng-controller="SubmissionStepCtrl" data-ng-if="step.enabled" >\n          <div id="{{stepId}}" data-ng-form="{{stepId}}" class="SubmissionStep" data-ng-show="navigation === $index" role="tabpanel" aria-labelledby="{{stepId}}-tab">\n            <div data-ng-if="step.description" class="description" data-markdown-to-html="step.description | stripHtml"></div>\n            <div data-ng-include="\'views/whistleblower/form.html\'"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div id="SubmissionButtons" class="mt-3">\n      <button id="PreviousStepButton" class="btn btn-outline-secondary" data-ng-show="hasPreviousStep()" data-ng-click="decrementStep()">\n        <i class="fa-solid fa-arrow-circle-left"></i>\n        <span data-translate>Previous</span>\n      </button>\n\n      <button id="NextStepButton" class="btn btn-outline-secondary" data-ng-show="hasNextStep()" data-ng-disabled="submission.blocked" data-ng-click="incrementStep()">\n        <span data-translate>Next</span>\n        <i class="fa-solid fa-arrow-circle-right"></i>\n      </button>\n\n      <button id="SubmitButton" class="btn btn-primary" data-ng-show="!hasNextStep()" data-ng-click="completeSubmission()" data-ng-disabled="!Authentication.session || submission.blocked || done" type="submit" data-translate>Submit</button>\n    </div>\n  </form>\n</div>\n'),e.put("views/whistleblower/tip.html",'<div id="Toolbar" class="row">\n  <div class="col-md-12">\n    <span id="link-reload"\n          data-ng-click="reload()"\n          data-uib-tooltip="{{\'Refresh\' | translate}}"\n          class="btn btn-outline-secondary">\n      <i class="fa-solid fa-sync"></i>\n    </span>\n  </div>\n</div>\n<div class="row" data-ng-if="tip.status !== \'closed\' && tip.context.additional_questionnaire_id && tip.questionnaires.length === 1">\n  <div class="col-md-12" data-ng-include="\'views/partials/tip_additional_questionnaire_invite.html\'"></div>\n</div>\n<div class="row">\n  <div class="col-md-12" data-ng-include="\'views/partials/tip_info.html\'"></div>\n</div>\n<div class="row" data-ng-if="tip.context.show_recipients_details">\n  <div class="col-md-12" data-ng-include="\'views/partials/tip_receiver_list.html\'"></div>\n</div>\n<div class="row">\n  <div data-ng-class="{\'col-md-12\': !tip.enable_whistleblower_identity, \'col-md-6\': tip.enable_whistleblower_identity}" data-ng-include="\'views/partials/tip_questionnaire_answers.html\'"></div>\n  <div class="col-md-6" data-ng-if="tip.enable_whistleblower_identity" data-ng-include="\'views/whistleblower/whistleblower_identity.html\'"></div>\n</div>\n<div class="row">\n  <div class="col-md-12">\n    <div data-ng-if="tip.enable_attachments" data-ng-controller="WhistleblowerIdentityFormCtrl" data-ng-include="\'views/partials/tip_files_whistleblower.html\'"></div>\n    <div data-ng-if="tip.rfiles.length" data-ng-controller="WhistleblowerFilesCtrl" data-ng-include="\'views/partials/widget_rfiles.html\'"></div>\n  </div>\n</div>\n<div class="row">\n  <div class="col-md-12" data-ng-include="\'views/partials/tip_comments.html\'"></div>\n</div>\n'),e.put("views/whistleblower/whistleblower_identity.html",'<div id="TipInfoBox" class="card card-default" data-ng-init="collapsed = tip.data.whistleblower_identity_provided; submission = {}">\n  <div class="card-header" data-ng-click="collapsed = !collapsed; $event.stopPropagation();">\n    <div>\n      <span class="clearfix">\n\t<span>\n          <span data-ng-if="tip.data.whistleblower_identity" data-translate>Identity</span>\n          <span data-ng-if="!tip.data.whistleblower_identity">{{whistleblower_identity_field.label}}</span>\n          <span data-ng-if="tip.data.whistleblower_identity_provided" class="btn btn-sm btn-link"><span data-ng-if="collapsed" data-translate>Show</span><span data-ng-if="!collapsed" data-translate>Hide</span></span>\n\t</span>\n        <span class="float-right">\n          <i data-ng-if="!collapsed" class="fa-solid fa-chevron-up" data-uib-tooltip="{{\'Collapse\' | translate}}"></i>\n          <i data-ng-if="collapsed" class="fa-solid fa-chevron-down" data-uib-tooltip="{{\'Expand\' | translate}}"></i>\n        </span>\n      </span>\n    </div>\n  </div>\n  <div class="card-body" data-ng-show="!collapsed">\n    <div data-ng-if="tip.data.whistleblower_identity">\n      <dd data-ng-repeat="field in whistleblower_identity_field.children | orderBy:[\'y\', \'x\']">\n        <span data-ng-init="fieldAnswers=tip.data.whistleblower_identity" data-ng-include="\'views/partials/tip_field.html\'"></span>\n      </dd>\n    </div>\n    <div data-ng-if="tip.status !== \'closed\' && !tip.data.whistleblower_identity">\n      <div data-ng-form="f">\n        <div data-ng-include="\'views/whistleblower/fields/whistleblower_identity.html\'"></div>\n\t<div id="SubmitBox" data-ng-if="submission._submission.identity_provided">\n          <button id="SubmitButton" class="btn btn-primary float-right" data-ng-click="provideIdentityInformation(whistleblower_identity_field.id, answers)" data-ng-disabled="f.$invalid" type="submit">\n            <i id="SubmitIconOK" class="fa-solid fa-check"></i>\n            <span data-translate>Submit</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("views/wizard/main.html",'<form name="wizardForm" novalidate>\n  <div data-ng-show="step == 1" data-ng-form="wizardFormStep1" class="clearfix">\n    <div class="row wizard-block">\n      <div class="col-md-12">\n        <div class="title" data-translate>Welcome!</div>\n        <div data-translate>The following step-by-step procedure will guide you through creating your whistleblowing platform.</div>\n      </div>\n    </div>\n    <div class="pager float-left">\n      <button class="ButtonNext btn btn-primary" data-ng-click="step = 2">\n        <span data-translate>Next</span>\n        <i class="fa-solid fa-arrow-circle-right"></i>\n      </button>\n    </div>\n  </div>\n  <div data-ng-show="step == 2" data-ng-form="wizardFormStep2" data-ng-class="{\'was-validated\': validated2}" class="clearfix">\n    <div class="row wizard-block">\n      <div class="col-md-6">\n        <div class="row form-group">\n          <label class="col-md-4">\n            <span data-translate>Project name</span>\n            <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n          </label>\n          <div class="col-md-8">\n            <input name="node_name" class="form-control" data-ng-model="wizard.node_name" data-ng-attr-placeholder="{{\'Project name\' | translate}}" type="text" required>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="pager float-left">\n      <button class="ButtonPrevious btn btn-primary" data-ng-click="step = 1">\n        <i class="fa-solid fa-arrow-circle-left"></i>\n        <span data-translate>Previous</span>\n      </button>\n      <button class="ButtonNext btn btn-primary" data-ng-click="(validated2 = true) && !wizardFormStep2.$invalid && (step = 4)">\n        <span data-translate>Next</span>\n        <i class="fa-solid fa-arrow-circle-right"></i>\n      </button>\n    </div>\n  </div>\n  <div data-ng-show="step == 3" data-ng-form="wizardFormStep3" data-ng-class="{\'was-validated\': validated3}" class="clearfix">\n    <div class="row wizard-block">\n      <div class="title" data-translate>Please choose a configuration profile:</div>\n      <div class="col-md-6">\n        <div data-ng-include="\'views/wizard/profiles.html\'"></div>\n      </div>\n    </div>\n    <div class="pager float-left">\n      <button class="ButtonPrevious btn btn-primary" data-ng-click="step = 2">\n        <i class="fa-solid fa-arrow-circle-left"></i>\n        <span data-translate>Previous</span>\n      </button>\n      <button class="ButtonNext btn btn-primary" data-ng-click="(validated3 = true) && !wizardFormStep3.$invalid && (step = 5)">\n        <span data-translate>Next</span>\n        <i class="fa-solid fa-arrow-circle-right"></i>\n      </button>\n    </div>\n  </div>\n  <div data-ng-show="step == 4" data-ng-form="wizardFormStep4" data-ng-class="{\'was-validated\': validated4}" class="clearfix">\n    <div class="row wizard-block">\n      <div class="col-md-12 title" data-translate>Admin</div>\n      <div class="col-md-6">\n        <div class="row form-group">\n          <label class="col-md-4">\n            <span data-translate>Username</span>\n            <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n          </label>\n          <div class="col-md-8">\n            <input name="admin_name" class="form-control" data-ng-model="wizard.admin_username" type="text" data-ng-attr-placeholder="{{\'Username\' | translate}}" required>\n          </div>\n        </div>\n        <div class="row form-group">\n          <label class="col-md-4">\n            <span data-translate>Name</span>\n            <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n          </label>\n          <div class="col-md-8">\n            <input name="admin_name" class="form-control" data-ng-model="wizard.admin_name" type="text" data-ng-attr-placeholder="{{\'Name\' | translate}}" required>\n          </div>\n        </div>\n        <div class="row form-group">\n          <label class="col-md-4">\n            <span data-translate>Email address</span>\n            <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n          </label>\n          <div class="col-md-8">\n            <input name="admin_email" class="form-control" data-ng-model="wizard.admin_mail_address" data-ng-attr-placeholder="{{\'Email address\' | translate}}" data-ng-pattern="CONSTANTS.email_regexp" type="text" data-ng-class="{\'is-invalid\': validated4 && (wizardFormStep4.admin_email.$error.required || wizardFormStep4.admin_email.$error.pattern)}" required>\n            <div class="text-danger" data-ng-show="wizardFormStep4.admin_email.$error.pattern">\n              <span data-translate>Invalid email address</span>\n            </div>\n          </div>\n        </div>\n        <div class="row form-group">\n          <label class="col-md-4">\n            <span data-translate>Password</span>\n            <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n          </label>\n          <div class="col-md-8">\n            <input name="password" class="form-control" data-ng-model="wizard.admin_password" type="password" data-ng-attr-placeholder="{{\'Password\' | translate}}" autocomplete="off" data-password-strength-validator data-ng-class="{\'is-invalid\': validated4 && (wizardFormStep4.password.$error.required || (wizardFormStep4.password.$error.passwordStrength))}" required />\n            <password-meter data-ng-show="passwordStrengthScore" value="passwordStrengthScore"></password-meter>\n            <div class="text-danger" data-ng-show="!wizardFormStep4.password.$error.required && wizardFormStep4.password.$error.passwordStrengthValidator">\n              <p data-translate>The chosen password is too weak. A valid password should be at least 12 characters long and contain a variety of characters including at least a lowercase character, a capital character, a number and a special character.</p>\n            </div>\n          </div>\n        </div>\n        <div class="row form-group">\n          <label class="col-md-4">\n            <span data-translate>Password</span> (<span data-translate>Confirm</span>)\n            <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n          </label>\n          <div class="col-md-8">\n            <input name="checkpassword" class="form-control" data-ng-model="admin_check_password" type="password" data-ng-attr-placeholder="{{\'Password\' | translate}}" autocomplete="off" data-ng-class="{\'is-invalid\': validated4 && (!wizardFormStep4.password.$error.passwordStrengthValidator && wizard.admin_password && (wizard.admin_password !== admin_check_password))}" required />\n            <div class="text-danger" data-ng-show="validated4  && (!wizardFormStep4.password.$error.passwordStrengthValidator && wizard.admin_password && (wizard.admin_password !== admin_check_password))" data-translate>The two passwords do not match</div>\n          </div>\n        </div>\n        <div class="row form-group">\n          <div class="col-md-12">\n            <div class="form-check">\n              <input class="form-check-input inputelem" type="checkbox" data-ng-model="wizard.admin_escrow">\n              <span class="form-check-label" data-translate>Make it possible for this admin to reset user passwords.</span>\n            </div>\n            <div data-translate>We advise selecting this option if you would like to protect data from being lost in the situation where recipients lose their passwords. On the other hand, we would not advise using this feature if you want to setup a system where only recipients are able to access submissions.</div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="pager float-left">\n      <button class="ButtonPrevious btn btn-primary" data-ng-click="step = 2">\n        <i class="fa-solid fa-arrow-circle-left"></i>\n        <span data-translate>Previous</span>\n      </button>\n      <button class="ButtonNext btn btn-primary" data-ng-click="(validated4 = true) && !(wizardFormStep4.$invalid || (wizard.admin_password !== admin_check_password)) && (step = 5)">\n        <span data-translate>Next</span>\n        <i class="fa-solid fa-arrow-circle-right"></i>\n      </button>\n    </div>\n  </div>\n  <div data-ng-show="step == 5" data-ng-form="wizardFormStep5" data-ng-class="{\'was-validated\': validated5}" class="clearfix">\n    <div class="row wizard-block">\n      <div class="col-md-12 title" data-translate>Recipient</div>\n      <div class="col-md-6">\n        <div data-ng-if="!wizard.skip_recipient_account_creation">\n          <div class="row form-group">\n            <label class="col-md-4">\n              <span data-translate>Username</span>\n              <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n            </label>\n            <div class="col-md-8">\n              <input name="admin_name" class="form-control" data-ng-model="wizard.receiver_username" type="text" data-ng-attr-placeholder="{{\'Username\' | translate}}"  data-ng-class="{\'is-invalid\': wizard.receiver_username === wizard.admin_username}" required>\n              <div class="text-danger" data-ng-show="wizard.receiver_username === wizard.admin_username">\n                <span data-translate>Please choose a different username.</span>\n              </div>\n            </div>\n          </div>\n          <div class="row form-group">\n            <label class="col-md-4">\n              <span data-translate>Name</span>\n              <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n            </label>\n            <div class="col-md-8">\n              <input name="receiver_name" class="form-control" data-ng-model="wizard.receiver_name" type="text" data-ng-attr-placeholder="{{\'Name\' | translate}}" data-ng-disabled="wizard.skip_recipient_account_creation" required>\n            </div>\n          </div>\n          <div class="row form-group">\n            <label class="col-md-4">\n              <span data-translate>Email address</span>\n              <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n            </label>\n            <div class="col-md-8">\n              <input name="receiver_email" class="form-control" data-ng-model="wizard.receiver_mail_address" data-ng-pattern="email_regexp" type="text" data-ng-attr-placeholder="{{\'Email address\' | translate}}" data-ng-class="{\'is-invalid\': validated5 && wizardFormStep5.receiver_email.$error.required || wizardFormStep5.receiver_email.$error.pattern}" data-ng-disabled="wizard.skip_recipient_account_creation" required>\n              <div class="text-danger" data-ng-show="wizardFormStep5.receiver_email.$error.pattern">\n                <span data-translate>Invalid email address</span>\n              </div>\n            </div>\n          </div>\n          <div class="row form-group">\n            <label class="col-md-4">\n              <span data-translate>Password</span>\n              <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n            </label>\n            <div class="col-md-8">\n              <input name="password" class="form-control" data-ng-model="wizard.receiver_password" type="password" data-ng-attr-placeholder="{{\'Password\' | translate}}" autocomplete="off" data-password-strength-validator data-ng-class="{\'is-invalid\': validated5 && (wizardFormStep5.password.$error.required || (wizardFormStep5.password.$error.passwordStrength))}" required />\n              <password-meter data-ng-show="passwordStrengthScore" value="passwordStrengthScore"></password-meter>\n              <div class="text-danger" data-ng-show="!wizardFormStep5.password.$error.required && wizardFormStep5.password.$error.passwordStrengthValidator">\n                <p data-translate>The chosen password is too weak. A valid password should be at least 12 characters long and contain a variety of characters including at least a lowercase character, a capital character, a number and a special character.</p>\n              </div>\n            </div>\n          </div>\n          <div class="row form-group">\n            <label class="col-md-4">\n              <span data-translate>Password</span> (<span data-translate>Confirm</span>)\n              <span class="text-danger" data-uib-tooltip="{{\'This field is mandatory\' | translate}}">*</span>\n            </label>\n            <div class="col-md-8">\n              <input name="checkpassword" class="form-control" data-ng-model="recipient_check_password" type="password" data-ng-attr-placeholder="{{\'Password\' | translate}}" autocomplete="off" data-ng-class="{\'is-invalid\': validated4 && (!wizardFormStep5.password.$error.passwordStrengthValidator && wizard.receiver_password && (wizard.receiver_password !== recipient_check_password))}" required />\n              <div class="text-danger" data-ng-show="validated4  && (!wizardFormStep5.password.$error.passwordStrengthValidator && wizard.receiver_password && (wizard.receiver_password !== recipient_check_password))" data-translate>The two passwords do not match</div>\n            </div>\n          </div>\n        </div>\n        <div class="row form-group">\n          <div class="col-md-12">\n            <div class="form-check">\n              <input class="form-check-input inputelem" type="checkbox" data-ng-model="wizard.skip_recipient_account_creation">\n              <span class="form-check-label" data-translate>Skip the recipient account creation.</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="pager float-left">\n      <button class="ButtonPrevious btn btn-primary" data-ng-click="step = 4">\n        <i class="fa-solid fa-arrow-circle-left"></i>\n        <span data-translate>Previous</span>\n      </button>\n      <button class="ButtonNext btn btn-primary" data-ng-click="(validated5 = true) && !(wizardFormStep5.$invalid || (wizard.receiver_username === wizard.admin_username)) && (step = 6)">\n        <span data-translate>Next</span>\n        <i class="fa-solid fa-arrow-circle-right"></i>\n      </button>\n    </div>\n  </div>\n  <div data-ng-show="step == 6" data-ng-form="wizardFormStep6" data-ng-class="{\'was-validated\': validated6}" class="clearfix">\n    <div class="row wizard-block">\n      <div class="col-md-12">\n        <div class="form-group">\n          <div class="title" data-translate>License</div>\n          <div class="tos-text" data-ng-include="\'license.txt\'"></div>\n          <div class="form-check">\n            <input name="tosAccept" class="tos-agreement-input form-check-input inputelem" type="checkbox" data-ng-model="tosAccept" required>\n            <span class="tos-agreement-label form-check-label" data-translate>I have read and agree to the terms of the license.</span>\n          </div>\n          <div class="form-check" data-ng-if="public.node.root_tenant">\n            <input class="form-check-input inputelem" data-ng-model="wizard.enable_developers_exception_notification" type="checkbox">\n            <span data-translate>Notify developers of software problems</span>\n            <div data-translate>By enabling this feature, you will contribute to the development and security of the platform.</div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="pager float-left">\n      <button class="ButtonPrevious btn btn-primary" data-ng-click="step = 5">\n        <i class="fa-solid fa-arrow-circle-left"></i>\n        <span data-translate>Previous</span>\n      </button>\n      <button class="ButtonNext btn btn-primary" data-ng-click="(validated6 = true) && !wizardFormStep6.$invalid && complete()">\n        <span data-translate>Next</span>\n        <i class="fa-solid fa-arrow-circle-right"></i>\n      </button>\n    </div>\n  </div>\n  <div data-ng-show="step == 7" class="clearfix">\n    <div class="row wizard-block">\n      <div class="col-md-10">\n        <div class="congratulations">\n          <div class="title" data-translate>Congratulations!</div>\n          <div data-translate>You have completed the platform wizard.</div>\n        </div>\n      </div>\n    </div>\n    <div class="pager float-left">\n      <button class="ButtonNext btn btn-primary" data-ng-click="goToAdminInterface()" type="submit"><span data-translate>Proceed</span></button>\n    </div>\n  </div>\n</form>\n'),e.put("views/wizard/profiles.html","")}]),GL.mockEngine=function(){var e={},t=function(e){var t=document.querySelector(e.selector);if(t)if(e.value&&e.language===GL.language||(e.language=GL.language,"function"==typeof e.mock?e.value=e.mock(t):e.value=e.mock),"replace"===e.type)e.value&&t.innerHTML!==e.value&&(t.innerHTML=e.value),e.value&&(e.value=t.innerHTML);else{var n=t.querySelector(".Mock");n||(n=document.createElement("div")).classList.add("Mock"),n.innerHTML=e.value,"add-before"===e.type?t.insertBefore(n,t.childNodes[0]):"add-after"===e.type&&t.appendChild(n)}},n=function(){var n,a,i,s=document.location.pathname+document.location.hash.split("?")[0];for(n in e)if("*"===n||n===s)for(a in e[n])for(i in e[n][a])try{t(e[n][a][i])}catch(e){continue}};return{addMock:function(t,a,i,s){t in e||(e[t]={}),a in e[t]||(e[t][a]=[]),void 0===s&&(s="replace"),e[t][a].push({path:t,selector:a,mock:i,value:"",type:s}),n()},run:n}}(),GL.controller("EmptyCtrl",[function(){}]),GL.controller("ConfirmableModalCtrl",["$scope","$uibModalInstance","arg","confirmFun","cancelFun",function(e,t,n,a,i){e.arg=n,e.confirmFun=a,e.cancelFun=i,e.confirm=function(n){return e.confirmFun&&e.confirmFun(n),t.close(n)},e.cancel=function(n){return e.cancelFun&&e.cancelFun(n),t.dismiss("cancel")}}]).controller("ViewModalCtrl",["$scope","$uibModalInstance","Utils","arg","confirmFun","cancelFun",function(e,t,n,a,i,s){e.arg=a,e.confirmFun=i,e.cancelFun=s,e.cancel=function(){return t.dismiss("cancel")};this.$onInit=function(){var e;a.tag="application/pdf"===(e=a.type)?"pdf":0===e.indexOf("audio/")?"audio":0===e.indexOf("image/")?"image":"text/csv"===e||"text/plain"===e?"txt":0===e.indexOf("video/")?"video":"none",a.iframeHeight=.75*window.innerHeight},n.view("api/recipient/rfiles/"+a.id,a.type,(function(t){a.loaded=!0,e.$apply(),window.addEventListener("message",(function(){var e={tag:a.tag,blob:t};angular.element(document.querySelector("#viewer"))[0].contentWindow.postMessage(e,"*")}),{once:!0})}))}]),GL.controller("PreferencesCtrl",["$scope","$q","$http","$location","$window","$uibModal",function(e,t,n,a,i,s){e.tabs=[{title:"Preferences",template:"views/partials/preferences/tab1.html"},{title:"Password",template:"views/partials/preferences/tab2.html"}],e.editingName=!1,e.editingPublicName=!1,e.showEncryptionKey=!1,e.changePasswordArgs={},e.toggleNameEditing=function(){e.editingName=!e.editingName},e.togglePublicNameEditing=function(){e.editingPublicName=!e.editingPublicName},e.toggleEmailAddressEditing=function(){e.editingEmailAddress=!e.editingEmailAddress},e.changePassword=function(){return e.Utils.runUserOperation("change_password",e.changePasswordArgs).then((function(){e.changePasswordArgs={}}))},e.getEncryptionRecoveryKey=function(){return e.Utils.runUserOperation("get_recovery_key").then((function(t){return e.resources.preferences.clicked_recovery_key=!0,e.erk=t.data.match(/.{1,4}/g).join("-"),s.open({templateUrl:"views/modals/encryption_recovery_key.html",controller:"ConfirmableModalCtrl",scope:e,resolve:{arg:null,confirmFun:null,cancelFun:null}})}))},e.toggle2FA=function(){if(e.resources.preferences.two_factor=!e.resources.preferences.two_factor,e.resources.preferences.two_factor)e.Utils.runUserOperation("disable_2fa",{},!0);else{var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",n=new Uint32Array(32);i.crypto.getRandomValues(n),e.totp={qrcode_string:"",secret:"",edit:!1};for(var r=0;r<n.length;r++)e.totp.secret+=t[n[r]%t.length];e.$watch("totp.secret",(function(){e.totp.qrcode_string="otpauth://totp/"+a.host()+"%20%28"+e.resources.preferences.username+"%29?secret="+e.totp.secret})),s.open({templateUrl:"views/modals/enable_2fa.html",controller:"TwoFactorModalCtrl",scope:e})}},e.save=function(){return e.resources.preferences.pgp_key_remove&&(e.resources.preferences.pgp_key_public=""),e.resources.preferences.$update((function(){e.reload()}))},e.loadPublicKeyFile=function(t){e.Utils.readFileAsText(t).then((function(t){e.resources.preferences.pgp_key_public=t}),e.Utils.displayErrorMsg)}}]).controller("TwoFactorModalCtrl",["$scope","$http","$uibModalInstance",function(e,t,n){e.confirm=function(a){return t({method:"PUT",url:"api/user/operations",data:{operation:"enable_2fa",args:{secret:e.totp.secret,token:a}}}).then((function(){e.resources.preferences.two_factor=!0,n.dismiss("cancel")}))},e.cancel=function(){return n.dismiss("cancel")}}]),GL.controller("SidebarCtrl",["$scope",function(e){e.isNavCollapsed=!0,e.isCollapsed=!1,e.isCollapsedHorizontal=!1}]),GL.controller("HomeCtrl",["$scope",function(e){e.public.node.user_privacy_policy_text&&"1970-01-01T00:00:00Z"===e.resources.preferences.accepted_privacy_policy&&e.Utils.acceptPrivacyPolicyDialog()}]),GL.factory("uploadUtils",["$filter",function(e){return{translateInvalidSizeErr:function(t,n){var a=["File size not accepted.","Maximum file size is:"];return angular.forEach(a,(function(t,n){a[n]=e("translate")(t)})),a[0]+" "+t+" - "+a[1]+" "+e("byteFmt")(n,2)}}}]).controller("WBFileUploadCtrl",["$scope",function(e){e.disabled=!1,e.$on("flow::fileAdded",(function(t,n,a){a.pause(),e.file_error_msgs=[],e.$emit("GL::uploadsUpdated")})),e.generateAcceptAttribute=function(e){return e.split(" ").map((function(e){return"."+e.toLowerCase()})).join(",")}}]).controller("RFileUploadCtrl",["$scope",function(e){e.file_upload_description="",e.beginUpload=function(t,n,a,i){e.file_error_msgs=[],a.opts.query={description:e.file_upload_description,visibility:i},a.upload()}}]).controller("AudioUploadCtrl",["$scope","flowFactory","Utils","mediaProcessor",function(e,t,n,a){let i=0,s=null,r=null,o=null;e.seconds=0,e.activeButton=null,e.isRecording=!1,e.audioPlayer=null,e.context=new AudioContext,e.mediaStreamDestination=new MediaStreamAudioDestinationNode(e.context),e.recorder=new MediaRecorder(e.mediaStreamDestination.stream),e.recording_blob=null,e.recorder.ondataavailable=function(t){e.recording_blob=t.data},e.recorder.onstop=function(t){const n=new Flow.FlowFile(r,{name:"audio.webm",size:e.recording_blob.size,relativePath:"audio.webm"});n.file=e.recording_blob,r.files=[],e.uploads.hasOwnProperty(e.fileinput)&&delete e.uploads[e.fileinput],e.seconds>=parseInt(e.field.attrs.min_len.value)&&e.seconds<=parseInt(e.field.attrs.max_len.value)&&(r.files.push(n),e.audioPlayer=URL.createObjectURL(e.recording_blob),e.uploads[e.fileinput]=r),e.$apply()},e.triggerRecording=function(n){e.activeButton="record",navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({audio:!0}).then((function(l){!async function(n,l){i=0,e.isRecording=!0,e.audioPlayer="",e.activeButton="record",e.startTime=Date.now(),r=t.create({target:e.fileupload_url,query:{type:"audio.webm",reference:n}}),o=setInterval((()=>{e.seconds+=1,e.seconds>9&&(e.isRecording=!1,clearInterval(o),o=null,e.stopRecording()),e.$apply()}),1e3),s=new MediaRecorder(l),await async function(t){window.AudioContext=window.AudioContext||window.webkitAudioContext,await a.enableNoiseSuppression(t);const n=e.context.createMediaStreamSource(t),i=a.createHighPassFilter(e.context),s=a.createLowPassFilter(e.context),r=a.createDynamicCompressor(e.context);n.connect(i),i.connect(s),s.connect(r),r.connect(e.mediaStreamDestination)}(l),e.recorder.start(),s.start(),e.$apply()}(n,l)})).catch((function(t){e.activeButton=null,e.$apply()}))},e.stopRecording=async function(){e.vars.recording=!1,e.recorder.stop();s.stream.getTracks().forEach((e=>{e.stop()})),e.isRecording=!1,e.recordButton=!1,e.stopButton=!0,e.activeButton=null,clearInterval(o),o=null,e.seconds<e.field.attrs.min_len.value?e.deleteRecording():!s||"recording"!==s.state&&"paused"!==s.state||s.stop()},e.deleteRecording=function(){r&&r.cancel(),e.chunks=[],s=null,e.seconds=0,e.audioPlayer=null,delete e.uploads[e.fileinput]}}]).controller("ImageUploadCtrl",["$http","$scope","$rootScope","uploadUtils","Utils",function(e,t,n,a,i){t.Utils=i,t.imageUploadObj={},t.$on("flow::complete",(function(){t.imageUploadModel[t.imageUploadModelAttr]=!0})),t.deletePicture=function(){e({method:"DELETE",url:"api/admin/files/"+t.imageUploadId}).then((function(){t.imageUploadModel&&(t.imageUploadModel[t.imageUploadModelAttr]=""),t.imageUploadObj.flow.files=[]}))}}]),GL.controller("SignupCtrl",["$scope","$location","$route","$http",function(e,t,n,a){if(e.public.node.enable_signup){e.hostname="",e.step=1,e.signup={subdomain:"",name:"",surname:"",role:"",email:"",phone:"",organization_name:"",organization_type:"",organization_tax_code:"",organization_vat_code:"",organization_location:"",tos1:!1,tos2:!1};var i=!1;e.updateSubdomain=function(){e.signup.subdomain="",e.signup.organization_name&&(e.signup.subdomain=e.signup.organization_name.replace(/[^\w]/gi,""),e.signup.subdomain=e.signup.subdomain.toLowerCase(),e.signup.subdomain=e.signup.subdomain.replace(/[^a-z0-9-]/g,""),e.signup.subdomain=e.signup.subdomain.substring(0,60))},e.complete=function(){i||(i=!0,a.post("api/signup",e.signup).then((function(){e.step+=1})))}}else t.path("/")}]).controller("SignupActivationCtrl",["$scope","$http","$location",function(e,t,n){var a=n.search().token;a&&t.post("api/signup/"+a)}]),GL.controller("WizardCtrl",["$scope","$location","$http","Authentication","GLTranslate",function(e,t,n,a,i){if(e.public.node.wizard_done)t.path("/");else{e.step=1;var s=!1;e.complete=function(){s||(s=!0,n.post("api/wizard",e.wizard).then((function(){e.step+=1})))},e.goToAdminInterface=function(){a.login(0,e.wizard.admin_username,e.wizard.admin_password,"","").then((function(){e.reload("/admin/home")}))},e.config_profiles=[{name:"default",title:"Default",active:!0}],e.selectProfile=function(t){angular.forEach(e.config_profiles,(function(n){n.active=n.name===t,n.active&&(e.wizard.profile=n.name)}))},e.wizard={node_language:i.state.language,node_name:"",admin_username:"",admin_name:"",admin_mail_address:"",admin_password:"",admin_escrow:!0,receiver_username:"",receiver_name:"",receiver_mail_address:"",receiver_password:"",skip_admin_account_creation:!1,skip_recipient_account_creation:!1,profile:"default",enable_developers_exception_notification:!1}}}]),GL.controller("ReceiverTipsCtrl",["$scope","$filter","$http","$location","$uibModal","$window","RTipExport","TokenResource",function(e,t,n,a,i,s,r,o){e.search=void 0,e.currentPage=1,e.itemsPerPage=20,e.dropdownSettings={dynamicTitle:!1,showCheckAll:!1,showUncheckAll:!1,enableSearch:!0,displayProp:"label",idProp:"label",itemsShowLimit:5},e.reportDateFilter=null,e.updateDateFilter=null,e.expiryDateFilter=null,e.dropdownStatusModel=[],e.dropdownStatusData=[],e.dropdownContextModel=[],e.dropdownContextData=[],e.dropdownScoreModel=[],e.dropdownScoreData=[];var l=[];function c(){e.filteredTips=e.Utils.getStaticFilter(e.resources.rtips,e.dropdownStatusModel,"submissionStatusStr"),e.filteredTips=e.Utils.getStaticFilter(e.filteredTips,e.dropdownContextModel,"context_name"),e.filteredTips=e.Utils.getStaticFilter(e.filteredTips,e.dropdownScoreModel,"score"),e.filteredTips=e.Utils.getDateFilter(e.filteredTips,e.reportDateFilter,e.updateDateFilter,e.expiryDateFilter)}angular.forEach(e.resources.rtips,(function(t){t.context=e.contexts_by_id[t.context_id],t.context_name=t.context.name,t.submissionStatusStr=e.Utils.getSubmissionStatusText(t.status,t.substatus,e.submission_statuses),!1===l.includes(t.submissionStatusStr)&&(l.push(t.submissionStatusStr),e.dropdownStatusData.push({id:e.dropdownStatusData.length+1,label:t.submissionStatusStr})),!1===l.includes(t.context_name)&&(l.push(t.context_name),e.dropdownContextData.push({id:e.dropdownContextData.length+1,label:t.context_name}));var n=e.Utils.maskScore(t.score);!1===l.includes(n)&&(l.push(n),e.dropdownScoreData.push({id:e.dropdownScoreData.length+1,label:n}))})),e.filteredTips=t("orderBy")(e.resources.rtips,"update_date"),e.dropdownDefaultText={buttonDefaultText:"",searchPlaceholder:t("translate")("Search")},e.on_changed={onSelectionChanged:function(){c()}},e.onReportFilterChange=function(t){e.reportDateFilter=t,c()},e.onUpdateFilterChange=function(t){e.updateDateFilter=t,c()},e.onExpiryFilterChange=function(t){e.expiryDateFilter=t,c()},e.checkFilter=function(e){return e.length>0},e.$watch("search",(function(n){void 0!==n&&(e.currentPage=1,e.filteredTips=t("orderBy")(t("filter")(e.resources.rtips,n),"update_date"))})),e.open_grant_access_modal=function(){return e.Utils.runUserOperation("get_users_names").then((function(t){delete t.data[e.Authentication.session.user_id],i.open({templateUrl:"views/modals/grant_access.html",controller:"ConfirmableModalCtrl",resolve:{arg:{users_names:t.data},confirmFun:function(){return function(t){var n={rtips:e.selected_tips,receiver:t};return e.Utils.runRecipientOperation("grant",n,!0)}},cancelFun:null}})}))},e.open_revoke_access_modal=function(){return e.Utils.runUserOperation("get_users_names").then((function(t){delete t.data[e.Authentication.session.user_id],i.open({templateUrl:"views/modals/revoke_access.html",controller:"ConfirmableModalCtrl",resolve:{arg:{users_names:t.data},confirmFun:function(){return function(t){var n={rtips:e.selected_tips,receiver:t};return e.Utils.runRecipientOperation("revoke",n,!0)}},cancelFun:null}})}))},e.exportTip=r,e.selected_tips=[],e.select_all=function(){e.selected_tips=[],angular.forEach(e.filteredTips,(function(t){e.selected_tips.push(t.id)}))},e.toggle_star=function(e){return n({method:"PUT",url:"api/recipient/rtips/"+e.id,data:{operation:"set",args:{key:"important",value:!e.important}}}).then((function(){e.important=!e.important}))},e.deselect_all=function(){e.selected_tips=[]},e.tip_switch=function(t){var n=e.selected_tips.indexOf(t);n>-1?e.selected_tips.splice(n,1):e.selected_tips.push(t)},e.isSelected=function(t){return-1!==e.selected_tips.indexOf(t)},e.markReportStatus=function(e){var t=new Date(e);return new Date>t},e.tips_export=function(){for(var t=0;t<e.selected_tips.length;t++)!function(t){(new o).$get().then((function(n){return s.open("api/recipient/rtips/"+e.selected_tips[t]+"/export?token="+n.id+":"+n.answer)}))}(t)}}]).controller("StatisticsCtrl",["$scope","$location","$filter","$http","$interval","$routeParams","$uibModal","Authentication","RTip","WBTip","RTipExport","RTipDownloadRFile","WBTipDownloadFile","fieldUtilities","RTipViewRFile",function(e,t,n,a,i,s,r,o,l,c,d,u,p,f,h){function g(e,t,n,a,i,s,r,o,l){document.getElementById(e);var c=document.getElementById(e).getContext(t);return new Chart(c,{type:n,data:{labels:a,datasets:[{backgroundColor:"rgba(55, 122, 188, 0.6)",label:i,data:s}]},options:{indexAxis:"y",responsive:!0,barPercentage:.6,categoryPercentage:.6,scales:{x:{beginAtZero:!0,title:{display:!0,text:r}},y:{beginAtZero:!0,title:{display:!0,text:o}}}}})}e.channel=void 0,e.startDate=null,e.endDate=null,e.staticData=[];var m={},v=void 0,b=void 0,w=void 0,y=void 0,_=0;e.flush=function(){e.reports=e.resources.rtips,e.totalReports=0,e.reportingChannel=[],e.statusCount={New:0,Opened:0,Closed:0},e.statusPercentages=[],e.statues=[],e.unansweredTipsCount=0,e.receiverCount=0,e.startDatePickerOpen=!1,e.endDatePickerOpen=!1,e.format="dd/MM/yyyy",e.unansweredTips=[],e.unansweredCount=0,e.labelCounts={},e.unlabeledCount=0,e.unlabeledCountDefault=0,e.labeledCountDefault=0,e.torCount=0,e.reciprocatingWhistleBlower=0,e.averageClosureTime=0,_=0,0,m={},0,e.dropdownOptions=[]},e.flush(),e.initializeTips=function(){for(var t of e.resources.rtips){t.context=e.contexts_by_id[t.context_id],t.context_name=t.context.name;var n=t.context.name;-1===e.reportingChannel.indexOf(n)&&e.reportingChannel.push(n);var a=new Date(t.creation_date),i=new Date(t.expiration_date);if(!(e.channel&&t.context_name!=e.channel||e.startDate&&e.startDate>a||e.endDate&&e.endDate<i)){e.totalReports+=1,t.submissionStatusStr=e.Utils.getSubmissionStatusText(t.status,t.substatus,e.submission_statuses),"New"!==t.submissionstatusestr&&(e.tip=new l({id:t.id},(function(t){for(var n of(e.tip=t,t.comments))"receiver"===n.type&&e.receiverCount++;for(var n of t.questionnaires)for(var a of n.steps)for(var i of a.children)if(!0===i.preview&&i.options.length&&"selectbox"===i.type)for(var s of i.options)for(var r in n.answers){var o=n.answers[r][0].value;if(o&&o===s.id){var l=s.label,c=i.label,d=e.dropdownOptions.find((function(e){return e.question===c&&e.optionLabel===l}));return d?d.count++:e.dropdownOptions.push({question:c,optionLabel:l,count:1}),e.generateOptionGraph()}}for(var n of t.comments)"receiver"===n.type&&e.receiverCount++;e.initializeStaticData()})));i=new Date(t.expiration_date);var s=new Date(t.update_date),r=(a=new Date(t.creation_date),new Date(t.last_access)),o=(s.getTime(),a.getTime(),i.getTime(),a.getTime(),t.submissionStatusStr);e.statusCount[o]?e.statusCount[o]++:e.statusCount[o]=1;var c=(a=new Date(t.creation_date)).toLocaleString("default",{month:"long"})+" "+a.getFullYear();m.hasOwnProperty(c)?m[c]++:m[c]=1,a.setSeconds(0),r.setSeconds(0),r.getTime()!=a.getTime()&&e.reciprocatingWhistleBlower++,!0===t.tor?torCount++:0,"new"===t.submissionstatusestr&&e.unansweredTipsCount++;var d=t,u=new Date(d.creation_date),p=new Date(d.update_date).getTime()-u.getTime();"Closed"==o&&(e.averageClosureTime+=p,_+=1);var f=t.label;f?(e.labelCounts[f]?e.labelCounts[f]++:e.labelCounts[f]=1,e.labeledCountDefault++):(e.unlabeledCount++,e.unlabeledCountDefault++)}}},e.generateGeneralGraph=function(){for(var t in e.statusCount){var n=e.statusCount[t],a=n/e.totalReports*100;e.statusPercentages.push({status:t,count:n,percentage:a.toFixed(2)}),e.statues.push({status:t,count:n,percentage:a.toFixed(2)})}e.statusPercentages.sort(((e,t)=>{const n=e.status.toLowerCase(),a=t.status.toLowerCase();return n<a?-1:n>a?1:0})),e.statusPercentages.unshift({status:"Total Reports",count:e.totalReports,percentage:100});var i=e.statusPercentages.map((function(e){return e.status+" | "+e.percentage+" %"})),s=e.statusPercentages.map((function(e){return e.count}));v?(v.data.labels=i,v.data.datasets[0].data=s,v.update()):v=g("statusBarChart","2d","bar",i,"General Statistics",s,"Number of Reports","Status")},e.openStartDatePicker=function(){e.startDatePickerOpen=!0},e.openEndDatePicker=function(){e.endDatePickerOpen=!0},e.generateInteractionLineGraph=function(){0!==e.averageClosureTime?e.averageClosureTime=(e.averageClosureTime/_/864e5).toFixed(3):e.averageClosureTime=0;var t,n,a,i,s,r,o,l,c,d=m,u=Object.keys(d),p=Object.values(d);w?(w.data.labels=u,w.data.datasets[0].data=p,w.update()):(t="perMonthLineGraph",n="2d",a="line",i=u,s="Interaction Stataistics",r=p,o="Month",l="Reports",c=document.getElementById(t).getContext(n),w=new Chart(c,{type:a,data:{labels:i,datasets:[{label:s,data:r,fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]},options:{responsive:!0,scales:{x:{display:!0,title:{display:!0,text:o}},y:{display:!0,title:{display:!0,text:l}}}}}))},e.generateLabelGraph=function(){var t=e.totalReports;angular.forEach(e.labelCounts,(function(n,a){var i=n/t*100;e.labelCounts[a]={count:n,percentage:i.toFixed(2)+"%"}}));var n=e.unlabeledCount/t*100;e.unlabeledCount={count:e.unlabeledCount,percentage:n.toFixed(2)+"%"};var a=Object.values(e.labelCounts).map((function(e){return e.count})),i=e.unlabeledCount.count,s=e.totalReports,r=["Total Reports",...Object.keys(e.labelCounts),"Unlabeled"],o=[s,...a,i];b?(b.data.labels=r,b.data.datasets[0].data=o,b.update()):b=g("labelCountsChart","2d","bar",r,"Labels Stataistics",o,"Number of Reports","Label")},e.generateOptionGraph=function(){var t=[],n=[],a=[];e.dropdownOptions.forEach((function(e){t.push(e.optionLabel),n.push(e.count),a.push(e.question)}));var i=e.totalReports,s=["Total Reports",...t],r=["Total Report",...a],o=[i,...n];y?(y.data.labels=s,y.data.datasets[0].data=o,y.options.plugins.tooltip={callbacks:{title:function(e){var t=e[0].dataIndex;return r[t]}}},y.update()):y=g("dropdownOptionsChart","2d","bar",s,"Statistics",o,"Number of Reports","DropdownOptions")},e.statPercentageCalculator=function(e,t){return t?e/t*100:0},e.initializeStaticData=function(){var t={label:["Total","New","Opened","Closed","Unlabled","Labeled"]};t.data=[e.totalReports,e.statPercentageCalculator(e.statusCount.New,e.totalReports).toFixed(2),e.statPercentageCalculator(e.statusCount.Opened,e.totalReports).toFixed(2),e.statPercentageCalculator(e.statusCount.Closed,e.totalReports).toFixed(2),e.statPercentageCalculator(e.unlabeledCountDefault,e.totalReports).toFixed(2),e.statPercentageCalculator(e.labeledCountDefault,e.totalReports).toFixed(2)];var n={label:["Total Report","Average closure time","Total Unanswered Tips","Number of interections","Tor Connections","Reciprocating whistle blower"]};n.data=[e.totalReports,e.averageClosureTime,e.unansweredCount,e.receiverCount,e.torCount,e.reciprocatingWhistleBlower],e.staticData.submissionStatus=t,e.staticData.interactionStatus=n},e.initialize=function(){e.flush(),e.initializeTips(),e.generateLabelGraph(),e.generateInteractionLineGraph(),e.generateGeneralGraph(),e.generateOptionGraph(),e.initializeStaticData()},e.initialize(),e.export=function(t,n){var a=b.data.labels.map((function(e){return"#"+e})),i=[...e.staticData.interactionStatus.label,...v.data.labels,...a],s=[...e.staticData.interactionStatus.data,...v.data.datasets[0].data,...b.data.datasets[0].data],r="";function o(e){return((e=String(e)).includes(",")||e.includes('"')||e.includes("\n"))&&(e='"'+e.replace(/"/g,'""')+'"'),e}r+=i.map(o).join(",")+"\n",r+=s.map(o).join(",")+"\n";var l=new Blob([r],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a");c.setAttribute("href",URL.createObjectURL(l)),c.setAttribute("download","data.csv"),document.body.appendChild(c),c.click()}}]),GL.controller("TipCtrl",["$scope","$location","$filter","$http","$interval","$routeParams","$uibModal","Authentication","RTip","WBTip","RTipExport","RTipDownloadWBFile","WBTipDownloadFile","fieldUtilities","RTipViewWBFile",function(e,t,n,a,i,s,r,o,l,c,d,u,p,f,h){e.fieldUtilities=f,e.tip_id=s.tip_id,e.itemsPerPage=5,e.currentCommentsPage=1,e.answers={},e.uploads={},e.showEditLabelInput=!1,e.openTipTransferModal=function(){a({method:"PUT",url:"api/user/operations",data:{operation:"get_users_names",args:{}}}).then((function(n){delete n.data[e.Authentication.session.user_id],r.open({templateUrl:"views/modals/transfer_access.html",controller:"ConfirmableModalCtrl",resolve:{arg:{users_names:n.data},confirmFun:function(){return function(n){var i={operation:"transfer",args:{receiver:n}};return a({method:"PUT",url:"api/recipient/rtips/"+e.tip.id,data:i}).then((function(){t.path("recipient/reports")}))}},cancelFun:null}})}))},e.tabs=[{title:"Public",key:"public"},{title:"Internal",key:"internal"},{title:"Personal",key:"personal"}],e.activeTabKey=e.tabs[0].key,e.selectedTab=function(t){e.activeTabKey=t},e.openTipTransferModal=function(){a({method:"PUT",url:"api/user/operations",data:{operation:"get_users_names",args:{}}}).then((function(n){delete n.data[e.Authentication.session.user_id],r.open({templateUrl:"views/modals/transfer_access.html",controller:"ConfirmableModalCtrl",resolve:{arg:{users_names:n.data},confirmFun:function(){return function(n){var i={operation:"transfer",args:{receiver:n}};return a({method:"PUT",url:"api/recipient/rtips/"+e.tip.id,data:i}).then((function(){t.path("recipient/reports")}))}},cancelFun:null}})}))},e.openGrantTipAccessModal=function(){a({method:"PUT",url:"api/user/operations",data:{operation:"get_users_names",args:{}}}).then((function(t){delete t.data[e.Authentication.session.user_id],r.open({templateUrl:"views/modals/grant_access.html",controller:"ConfirmableModalCtrl",resolve:{arg:{users_names:t.data},confirmFun:function(){return function(t){var n={operation:"grant",args:{receiver:t}};return a({method:"PUT",url:"api/recipient/rtips/"+e.tip.id,data:n}).then((function(){e.reload()}))}},cancelFun:null}})}))},e.openRevokeTipAccessModal=function(){a({method:"PUT",url:"api/user/operations",data:{operation:"get_users_names",args:{}}}).then((function(t){delete t.data[e.Authentication.session.user_id],r.open({templateUrl:"views/modals/revoke_access.html",controller:"ConfirmableModalCtrl",resolve:{arg:{users_names:t.data},confirmFun:function(){return function(t){var n={operation:"revoke",args:{receiver:t}};return a({method:"PUT",url:"api/recipient/rtips/"+e.tip.id,data:n}).then((function(){e.reload()}))}},cancelFun:null}})}))},e.getAnswersEntries=function(t){return void 0===t?e.answers[e.field.id]:t[e.field.id]};var g=function(t,n,a){var i;if(f.isFieldTriggered(e,t,n,a,e.tip.score))for(i=0;i<n.children.length;i++)g(n,n.children[i],a)};e.preprocessTipAnswers=function(t){var n,a,i,s,r,o;for(n=0;n<t.questionnaires.length;n++){for(r=t.questionnaires[n],e.fieldUtilities.parseQuestionnaire(r,{}),a=0;a<r.steps.length;a++)if(o=r.steps[a],f.isFieldTriggered(e,null,o,r.answers,e.tip.score))for(i=0;i<o.children.length;i++)g(o,o.children[i],r.answers);for(a=0;a<r.steps.length;a++)for(i=(o=r.steps[a]).children.length;i--;)if("whistleblower_identity"===o.children[i].template_id||"whistleblower_identity"===o.children[i].key)for(e.whistleblower_identity_field=o.children[i],e.whistleblower_identity_field.enabled=!0,o.children.splice(i,1),e.questionnaire={steps:[angular.copy(e.whistleblower_identity_field)]},e.fields=e.questionnaire.steps[0].children,e.rows=f.splitRows(e.fields),f.onAnswersUpdate(e),s=0;s<e.whistleblower_identity_field.children.length;s++)g(e.whistleblower_identity_field,e.whistleblower_identity_field.children[s],e.tip.data.whistleblower_identity)}},e.hasMultipleEntries=function(e){return void 0!==e&&e.length>1},e.filterFields=function(e){return"fileupload"!==e.type},"whistleblower"===e.Authentication.session.role?(e.fileupload_url="api/whistleblower/wbtip/wbfiles",e.tip=new c((function(t){e.tip=t,e.tip.context=e.contexts_by_id[e.tip.context_id],e.tip.receivers_by_id=e.Utils.array_to_map(e.tip.receivers),e.score=e.tip.score,e.ctx="wbtip",e.preprocessTipAnswers(t),e.tip.submissionStatusStr=e.Utils.getSubmissionStatusText(e.tip.status,e.tip.substatus,e.submission_statuses),e.downloadWBFile=function(e){p(e)},e.submission={},e.submission._submission=t,e.provideIdentityInformation=function(t,n){for(var s in e.uploads)e.uploads[s]&&e.uploads[s].resume();e.interval=i((function(){for(var s in e.uploads)if(e.uploads[s]&&e.uploads[s].isUploading()&&e.uploads[s].isUploading())return;return i.cancel(e.interval),a.post("api/whistleblower/wbtip/identity",{identity_field_id:t,identity_field_answers:n}).then((function(){e.reload()}))}),1e3)},1===t.receivers.length&&null===t.msg_receiver_selected&&(t.msg_receiver_selected=t.msg_receivers_selector[0].key)}))):"receiver"===e.Authentication.session.role&&(e.tip=new l({id:e.tip_id},(function(t){e.tip=t,e.tip.context=e.contexts_by_id[e.tip.context_id],e.tip.receivers_by_id=e.Utils.array_to_map(e.tip.receivers),e.score=e.tip.score,e.ctx="rtip",e.preprocessTipAnswers(t),e.fetchAudioFiles(),e.exportTip=d,e.downloadWBFile=u,e.viewWBFile=h,e.showEditLabelInput=""===e.tip.label,e.tip.submissionStatusStr=e.Utils.getSubmissionStatusText(e.tip.status,e.tip.substatus,e.submission_statuses),e.supportedViewTypes=["application/pdf","audio/mpeg","image/gif","image/jpeg","image/png","text/csv","text/plain","video/mp4"]}))),e.editLabel=function(){e.showEditLabelInput=!0},e.markReportStatus=function(e){var t=new Date(e);return new Date>t},e.updateLabel=function(t){e.tip.operation("set",{key:"label",value:t}).then((function(){e.showEditLabelInput=!1}))},e.updateSubmissionStatus=function(){e.tip.updateSubmissionStatus().then((function(){e.tip.submissionStatusStr=e.Utils.getSubmissionStatusText(e.tip.status,e.tip.substatus,e.submission_statuses)}))},e.fetchAudioFiles=function(){e.audiolist={};for(let t of e.tip.wbfiles)e.Utils.load("api/recipient/wbfiles/"+t.id).then((function(n){e.audiolist[t.reference_id]=n}))},e.newComment=function(){e.tip.newComment(e.tip.newCommentContent,e.activeTabKey),e.tip.newCommentContent=""},e.tip_toggle_star=function(){return e.tip.operation("set",{key:"important",value:!e.tip.important}).then((function(){e.tip.important=!e.tip.important}))},e.tip_notify=function(t){return e.tip.operation("set",{key:"enable_notifications",value:t}).then((function(){e.tip.enable_notifications=t}))},e.tip_delete=function(){r.open({templateUrl:"views/modals/delete_confirmation.html",controller:"TipOperationsCtrl",resolve:{args:function(){return{tip:e.tip,operation:"delete"}}}})},e.tip_postpone=function(){r.open({templateUrl:"views/modals/tip_operation_postpone.html",controller:"TipOperationsCtrl",resolve:{args:function(){return{tip:e.tip,operation:"postpone",contexts_by_id:e.contexts_by_id,expiration_date:e.Utils.getPostponeDate(e.contexts_by_id[e.tip.context_id].tip_timetolive),dateOptions:{minDate:new Date(e.tip.expiration_date),maxDate:e.Utils.getPostponeDate(Math.max(365,2*e.contexts_by_id[e.tip.context_id].tip_timetolive))},opened:!1,Utils:e.Utils}}}})},e.set_reminder=function(){r.open({templateUrl:"views/modals/tip_operation_set_reminder.html",controller:"TipOperationsCtrl",resolve:{args:function(){return{tip:e.tip,operation:"set_reminder",contexts_by_id:e.contexts_by_id,reminder_date:e.Utils.getPostponeDate(e.contexts_by_id[e.tip.context_id].tip_reminder),dateOptions:{minDate:new Date(e.tip.creation_date)},opened:!1,Utils:e.Utils}}}})},e.tip_open_additional_questionnaire=function(){e.answers={},e.uploads={},r.open({templateUrl:"views/modals/tip_additional_questionnaire_form.html",controller:"AdditionalQuestionnaireCtrl",scope:e})},e.access_identity=function(){return a.post("api/recipient/rtips/"+e.tip.id+"/iars",{request_motivation:""}).then((function(){e.reload()}))},e.file_identity_access_request=function(){r.open({templateUrl:"views/modals/tip_operation_file_identity_access_request.html",controller:"IdentityAccessRequestCtrl",resolve:{tip:function(){return e.tip}}})},e.score=0,e.$watch("answers",(function(){f.onAnswersUpdate(e)}),!0),e.$on("GL::uploadsUpdated",(function(){f.onAnswersUpdate(e)}))}]).controller("TipOperationsCtrl",["$scope","$http","$location","$uibModalInstance","args",function(e,t,n,a,i){e.args=i,e.cancel=function(){a.close()},e.disable_reminder=function(){a.close();return t({method:"PUT",url:"api/recipient/rtips/"+i.tip.id,data:{operation:"set_reminder",args:{value:3250368e7}}}).then((function(){e.reload()}))},e.confirm=function(){if(a.close(),"postpone"===e.args.operation||"set_reminder"===e.args.operation){var s;s="postpone"===e.args.operation?e.args.expiration_date.getTime():e.args.reminder_date.getTime();var r={operation:e.args.operation,args:{value:s}};return t({method:"PUT",url:"api/recipient/rtips/"+i.tip.id,data:r}).then((function(){e.reload()}))}if("delete"===i.operation)return t({method:"DELETE",url:"api/recipient/rtips/"+i.tip.id,data:{}}).then((function(){n.url("/recipient/reports"),e.reload()}))}}]).controller("RTipRFileUploadCtrl",["$scope","Authentication","RTipDownloadRFile","RTipRFileResource",function(e,t,n,a){var i=function(){e.reload()};e.downloadRFile=function(e){n(e)},e.deleteRFile=function(e){a.remove({id:e.id}).$promise.finally(i)}}]).controller("WBTipFileDownloadCtrl",["$scope","$uibModalInstance","WBTipDownloadFile","file","tip",function(e,t,n,a,i){e.ctx="download",e.file=a,e.tip=i,e.confirm=function(){t.close(),n(a)},e.cancel=function(){t.close()}}]).controller("IdentityAccessRequestCtrl",["$scope","$http","$uibModalInstance","tip",function(e,t,n,a){e.tip=a,e.cancel=function(){n.close()},e.confirm=function(){return n.close(),t.post("api/recipient/rtips/"+a.id+"/iars",{request_motivation:e.request_motivation}).then((function(){e.reload()}))}}]).controller("WhistleblowerFilesCtrl",["$scope",function(e){e.uploads={}}]).controller("WhistleblowerIdentityFormCtrl",["$scope",function(e){e.uploads={}}]),GL.controller("CustodianIdentityAccessRequestsCtrl",["$scope","$http","$uibModal","IdentityAccessRequests",function(e,t,n,a){e.iars=a.query(),e.authorize_identity_access_request=function(n){return t.put("api/custodian/iars/"+n,{reply:"authorized",reply_motivation:""}).then((function(){e.reload()}))},e.file_denied_identity_access_reply=function(e){n.open({templateUrl:"views/modals/tip_operation_file_identity_access_reply.html",controller:"IdentityAccessReplyCtrl",resolve:{iar:function(){return e}}})}}]).controller("IdentityAccessReplyCtrl",["$scope","$http","$uibModalInstance","iar",function(e,t,n,a){e.iar=a,e.cancel=function(){n.close()},e.confirm=function(){return n.close(),t.put("api/custodian/iars/"+e.iar,{reply:"denied",reply_motivation:e.reply_motivation}).then((function(){e.reload()}))}}]),GL.controller("AdminCtrl",["$scope",function(e){e.updateNode=function(){e.Utils.update(e.resources.node,(function(){e.$emit("REFRESH")}))},e.newItemOrder=function(e,t){if(0===e.length)return 0;var n=0;return angular.forEach(e,(function(e){e[t]>n&&(n=e[t])})),n+1}}]),GL.controller("AdminSettingsCtrl",["$scope","$filter","$http","Files","AdminL10NResource","DefaultL10NResource",function(e,t,n,a,i,s){e.tabs=[{title:"Settings",template:"views/admin/settings/tab1.html"}],"admin"===e.Authentication.session.role&&(e.tabs=e.tabs.concat([{title:"Files",template:"views/admin/settings/tab2.html"},{title:"Languages",template:"views/admin/settings/tab3.html"},{title:"Text customization",template:"views/admin/settings/tab4.html"},{title:"Advanced",template:"views/admin/settings/tab5.html"}])),e.admin_files=[{title:"Favicon",varname:"favicon",filename:"custom_favicon.ico",size:"200000"},{title:"CSS",varname:"css",filename:"custom_stylesheet.css",size:"10000000"},{title:"JavaScript",varname:"script",filename:"custom_script.js",size:"10000000"}],"admin"===e.Authentication.session.role&&(e.toggleLangSelect=function(){e.showLangSelect=!0},e.langNotEnabledFilter=function(t){return-1===e.resources.node.languages_enabled.indexOf(t.code)},e.enableLanguage=function(t){e.resources.node.languages_enabled.push(t.code)},e.removeLang=function(t,n){n!==e.resources.node.default_language&&e.resources.node.languages_enabled.splice(t,1)},e.get_l10n=function(n){n&&(e.custom_texts=i.get({lang:n}),s.get({lang:n},(function(n){var a=[];for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.length>150&&(s=s.substr(0,150)+"..."),a.push({key:i,value:s})}e.default_texts=n,e.custom_texts_selector=t("orderBy")(a,"value")})))},e.vars={language_to_customize:e.public.node.default_language},e.get_l10n(e.vars.language_to_customize)),e.files=[],e.update_files=function(){var t=a.query((function(){e.files=t}))},e.delete_file=function(t){n.delete(t).then((function(){e.update_files(),e.$emit("REFRESH")}))},e.resetSubmissions=function(){e.Utils.deleteDialog().then((function(){return e.Utils.runAdminOperation("reset_submissions")}))},e.enableEncryption=function(){e.resources.node.encryption=!1,e.resources.node.encryption||e.Utils.openConfirmableModalDialog("views/modals/enable_encryption.html").then((function(){return e.Utils.runAdminOperation("enable_encryption").then((function(){e.Authentication.logout()}),(function(){}))}),(function(){}))},e.toggleEscrow=function(){e.resources.node.escrow=!e.resources.node.escrow,e.Utils.runAdminOperation("toggle_escrow",{},!0).then((function(){e.resources.preferences.escrow=!e.resources.preferences.escrow}),(function(){}))},e.togglePermissionUploadFiles=function(){e.Authentication.session.permissions.can_upload_files=!e.Authentication.session.permissions.can_upload_files,e.Authentication.session.permissions.can_upload_files?e.Utils.runAdminOperation("disable_user_permission_file_upload",{}).then((function(){e.Authentication.session.permissions.can_upload_files=!1}),(function(){})):e.Utils.runAdminOperation("enable_user_permission_file_upload",{}).then((function(){e.Authentication.session.permissions.can_upload_files=!0}),(function(){e.Authentication.session.permissions.can_upload_files=!1}))},e.update_files()}]),GL.controller("AdminUserTabCtrl",["$scope",function(e){e.tabs=[{title:"Users",template:"views/admin/users/tab1.html"},{title:"Options",template:"views/admin/users/tab2.html"}]}]).controller("AdminUsersCtrl",["$scope","AdminTenantResource",function(e,t){e.showAddUser=!1,e.toggleAddUser=function(){e.showAddUser=!e.showAddUser},e.public.node.root_tenant&&t.query((function(t){e.resources.tenants=t,e.tenants_by_id=e.Utils.array_to_map(e.resources.tenants)}))}]).controller("AdminUserEditorCtrl",["$scope","$http","AdminUserResource",function(e,t,n){e.deleteUser=function(){e.Utils.deleteDialog().then((function(){return e.Utils.deleteResource(n,e.resources.users,e.user)}))},e.editing=!1,e.setPasswordArgs={user_id:e.user.id},e.toggleEditing=function(){e.editing=1^e.editing},e.showAddUserTenantAssociation=!1,e.toggleAddUserTenantAssociation=function(){e.showAddUserTenantAssociation=!e.showAddUserTenantAssociation},e.saveUser=function(){var t=e.user;return t.pgp_key_remove&&(t.pgp_key_public=""),""!==t.pgp_key_public&&(t.pgp_key_remove=!1),t.$update()},e.loadPublicKeyFile=function(t){e.Utils.readFileAsText(t).then((function(t){e.user.pgp_key_public=t}),e.Utils.displayErrorMsg)},e.setPassword=function(){e.Utils.runAdminOperation("set_user_password",e.setPasswordArgs).then((function(){e.user.newpassword=!1,e.setPasswordArgs.password=""}))},e.resetUserPassword=function(){e.Utils.runAdminOperation("send_password_reset_email",{value:e.user.id})},e.disable2FA=function(){e.Utils.runAdminOperation("disable_2fa",{value:e.user.id},!0)},e.toggleUserEscrow=function(){e.user.escrow=!e.user.escrow,e.Utils.runAdminOperation("toggle_user_escrow",{value:e.user.id},!0)}}]).controller("AdminUserAddCtrl",["$scope",function(e){e.new_user={},e.add_user=function(){var t=new e.AdminUtils.new_user;t.username=void 0!==e.new_user.username?e.new_user.username:"",t.role=e.new_user.role,t.name=e.new_user.name,t.mail_address=e.new_user.email,t.language=e.resources.node.default_language,t.$save((function(t){e.resources.users.push(t),e.new_user={}}))}}]),GL.controller("AdminContextsCtrl",["$scope","AdminContextResource",function(e,t){e.admin_receivers_by_id=e.Utils.array_to_map(e.resources.users),e.save_context=function(n,a){null===n.additional_questionnaire_id&&(n.additional_questionnaire_id="");var i=new t(n);return e.Utils.update(i,a)},e.showAddContext=!1,e.toggleAddContext=function(){e.showAddContext=!e.showAddContext},e.moveUpAndSave=function(t){e.Utils.moveUp(t),e.save_context(t)},e.moveDownAndSave=function(t){e.Utils.moveDown(t),e.save_context(t)}}]).controller("AdminContextEditorCtrl",["$scope","$http","AdminContextResource",function(e,t,n){function a(n,a,i){n.stopPropagation();var s=a+i;if(!(s<0||s>=e.resources.contexts.length))return e.resources.contexts[a]=e.resources.contexts[s],e.resources.contexts[s]=e.context,t({method:"PUT",url:"api/admin/contexts",data:{operation:"order_elements",args:{ids:e.resources.contexts.map((function(e){return e.id}))}}})}e.editing=!1,e.toggleEditing=function(){e.editing=!e.editing},e.onReminderSoftChanged=function(){e.context.tip_reminder_soft>e.context.tip_reminder_hard&&(e.context.tip_reminder_hard=e.context.tip_reminder_soft)},e.onReminderHardChanged=function(){0===e.context.tip_reminder_hard?e.context.tip_reminder_soft=0:e.context.tip_reminder_hard<e.context.tip_reminder_soft&&(e.context.tip_reminder_soft=e.context.tip_reminder_hard)},e.moveUp=function(e,t){a(e,t,-1)},e.moveDown=function(e,t){a(e,t,1)},e.showSelect=!1,e.toggleSelect=function(){e.showSelect=!0},e.moveReceiver=function(t){e.context.receivers.push(t.id),e.showSelect=!1},e.receiverNotSelectedFilter=function(t){return-1===e.context.receivers.indexOf(t.id)},e.deleteContext=function(){e.Utils.deleteDialog().then((function(){return e.Utils.deleteResource(n,e.resources.contexts,e.context)}))}}]).controller("AdminContextReceiverSelectorCtrl",["$scope",function(e){function t(t,n){var a=t+n;if(a>-1&&a<e.context.receivers.length){var i=e.context.receivers[a],s=e.context.receivers[t];e.context.receivers[a]=s,e.context.receivers[t]=i}}e.moveUp=function(e){t(e,-1)},e.moveDown=function(e){t(e,1)}}]).controller("AdminContextAddCtrl",["$scope",function(e){e.new_context={},e.add_context=function(){var t=new e.AdminUtils.new_context;t.name=e.new_context.name,t.questionnaire_id=e.resources.node.default_questionnaire,t.order=e.newItemOrder(e.resources.contexts,"order"),t.$save((function(t){e.resources.contexts.push(t),e.new_context={}}))}}]),GL.controller("AdminFieldEditorCtrl",["$scope","$http",function(e,t){function n(t,n){var a=t+n;if(!(a<0||a>=e.field.options.length)){var i=e.field.options[a],s=e.field.options[t];e.field.options[a]=s,e.field.options[t]=i}}e.admin_receivers_by_id=e.Utils.array_to_map(e.resources.users),e.editing=!1,e.new_field={},e.showAddTrigger=!1,e.new_trigger={},e.children&&(e.fields=e.children),e.children=e.field.children,e.toggleEditing=function(){e.editing=!e.editing},e.toggleAddTrigger=function(){e.showAddTrigger=!e.showAddTrigger},e.isMarkableSubjectToStats=function(e){return-1===["inputbox","textarea","fieldgroup"].indexOf(e.type)},e.isMarkableSubjectToPreview=function(e){return-1===["fieldgroup","fileupload"].indexOf(e.type)},e.typeSwitch=function(e){return-1!==["inputbox","textarea"].indexOf(e)?"inputbox_or_textarea":-1!==["checkbox","selectbox"].indexOf(e)?"checkbox_or_selectbox":e},e.showOptions=function(e){return"reference"!==e.instance&&["checkbox","selectbox","multichoice"].indexOf(e.type)>-1},e.delField=function(t){e.Utils.deleteDialog().then((function(){return e.Utils.deleteResource(e.fieldResource,e.fields,t)}))},e.showAddQuestion=e.showAddQuestionFromTemplate=!1,e.toggleAddQuestion=function(){e.showAddQuestion=!e.showAddQuestion,e.showAddQuestionFromTemplate=!1},e.toggleAddQuestionFromTemplate=function(){e.showAddQuestionFromTemplate=!e.showAddQuestionFromTemplate,e.showAddQuestion=!1},e.addOption=function(){var t={id:"",label:"",hint1:"",hint2:"",block_submission:!1,score_points:0,score_type:"none",trigger_receiver:[]};t.order=e.newItemOrder(e.field.options,"order"),e.field.options.push(t)},e.moveOptionUp=function(e){n(e,-1)},e.moveOptionDown=function(e){n(e,1)},e.delOption=function(t){e.field.options.splice(e.field.options.indexOf(t),1)},e.delTrigger=function(t){e.field.triggered_by_options.splice(e.field.triggered_by_options.indexOf(t),1)},e.save_field=function(t){return t=new e.fieldResource(t),e.Utils.assignUniqueOrderIndex(t.options),e.Utils.update(t)},e.moveUpAndSave=function(t){e.Utils.moveUp(t),e.save_field(t)},e.moveDownAndSave=function(t){e.Utils.moveDown(t),e.save_field(t)},e.moveLeftAndSave=function(t){e.Utils.moveLeft(t),e.save_field(t)},e.moveRightAndSave=function(t){e.Utils.moveRight(t),e.save_field(t)},e.add_field=function(){var t=e.AdminUtils.new_field("",e.field.id);t.label=e.new_field.label,t.type=e.new_field.type,t.y=e.newItemOrder(e.field.children,"y"),t.instance=e.field.instance,"fileupload"===t.type&&(t.multi_entry=!0),t.$save((function(t){e.field.children.push(t),e.new_field={}}))},e.add_field_from_template=function(){var t=e.AdminUtils.new_field("",e.field.id);t.template_id=e.new_field.template_id,t.instance="reference",t.y=e.newItemOrder(e.field.children,"y"),t.$save((function(t){e.field.children.push(t),e.new_field={}}))},e.fieldIsMarkableSubjectToStats=e.isMarkableSubjectToStats(e.field),e.fieldIsMarkableSubjectToPreview=e.isMarkableSubjectToPreview(e.field),e.addTrigger=function(){e.field.triggered_by_options.push(e.new_trigger),e.toggleAddTrigger(),e.new_trigger={}},e.flipBlockSubmission=function(e){e.block_submission=!e.block_submission},e.addOptionHintDialog=function(t){return e.Utils.openConfirmableModalDialog("views/modals/add_option_hint.html",t,e)},e.triggerReceiverDialog=function(t){return e.addReceiver=function(e){t.trigger_receiver.push(e.id)},e.receiverNotSelectedFilter=function(e){return-1===t.trigger_receiver.indexOf(e.id)},e.Utils.openConfirmableModalDialog("views/modals/trigger_receiver.html",t,e)},e.assignScorePointsDialog=function(t){return e.Utils.openConfirmableModalDialog("views/modals/assign_score_points.html",t,e)},e.exportQuestion=function(n){t({method:"GET",url:"api/admin/fieldtemplates/"+n.id,responseType:"blob"}).then((function(t){e.Utils.saveAs(t.data,n.label+".json")}))}}]).controller("AdminFieldTemplatesCtrl",["$scope","$http","AdminFieldTemplateResource",function(e,t,n){e.fieldResource=n,e.parsedFields=e.fieldUtilities.parseFields(e.resources.fieldtemplates,{}),e.importQuestion=function(n){e.Utils.readFileAsText(n).then((function(e){return t({method:"POST",url:"api/admin/fieldtemplates?multilang=1",data:e})})).then((function(){e.reload()}),e.Utils.displayErrorMsg)}}]).controller("AdminFieldTemplatesAddCtrl",["$scope",function(e){e.new_field={},e.add_field=function(){var t=e.AdminUtils.new_field_template(e.field?e.field.id:"");t.instance="template",t.label=e.new_field.label,t.type=e.new_field.type,t.$save((function(t){e.fields.push(t),e.new_field={}}))}}]),GL.controller("AdminStepAddCtrl",["$scope",function(e){e.new_step={},e.add_step=function(){var t=new e.AdminUtils.new_step(e.questionnaire.id);t.label=e.new_step.label,t.order=e.newItemOrder(e.questionnaire.steps,"order"),t.$save((function(t){e.questionnaire.steps.push(t),e.new_step={}}))}}]).controller("AdminStepEditorCtrl",["$scope","$http","AdminStepResource","AdminFieldResource",function(e,t,n,a){function i(n,a,i){n.stopPropagation();var s=a+i;if(!(s<0||s>=e.questionnaire.steps.length)){var r=e.questionnaire.steps[s],o=e.questionnaire.steps[a];return e.questionnaire.steps[s]=o,e.questionnaire.steps[a]=r,t({method:"PUT",url:"api/admin/steps",data:{operation:"order_elements",args:{ids:e.questionnaire.steps.map((function(e){return e.id})),questionnaire_id:e.questionnaire.id}}})}}e.editing=!1,e.new_field={},e.showAddTrigger=!1,e.new_trigger={field:"",option:"",sufficient:!0},e.fields=e.step.children,e.fieldResource=a,e.toggleEditing=function(){e.editing=1^e.editing},e.toggleAddTrigger=function(){e.showAddTrigger=!e.showAddTrigger},e.save_step=function(t){return t=new n(t),e.Utils.update(t)},e.showAddQuestion=e.showAddQuestionFromTemplate=!1,e.toggleAddQuestion=function(){e.showAddQuestion=!e.showAddQuestion,e.showAddQuestionFromTemplate=!1},e.toggleAddQuestionFromTemplate=function(){e.showAddQuestionFromTemplate=!e.showAddQuestionFromTemplate,e.showAddQuestion=!1},e.delField=function(t){return e.Utils.deleteResource(e.fieldResource,e.fields,t)},e.add_field=function(){var t=e.AdminUtils.new_field(e.step.id,"");t.label=e.new_field.label,t.type=e.new_field.type,t.y=e.newItemOrder(e.fields,"y"),"fileupload"===t.type&&(t.multi_entry=!0),t.$save((function(t){e.fields.push(t),e.new_field={}}))},e.add_field_from_template=function(){var t=e.AdminUtils.new_field(e.step.id,"");t.template_id=e.new_field.template_id,t.instance="reference",t.y=e.newItemOrder(e.fields,"y"),t.$save((function(t){e.fields.push(t),e.new_field={}}))},e.delTrigger=function(t){e.step.triggered_by_options.splice(e.step.triggered_by_options.indexOf(t),1)},e.moveUp=function(e,t){i(e,t,-1)},e.moveDown=function(e,t){i(e,t,1)},e.addTrigger=function(){e.step.triggered_by_options.push(e.new_trigger),e.toggleAddTrigger(),e.new_trigger={field:"",option:"",sufficient:!0}}}]),GL.controller("AdminQuestionnaireCtrl",["$scope","$http","AdminQuestionnaireResource",function(e,t,n){e.tabs=[{title:"Questionnaires",template:"views/admin/questionnaires/main.html"},{title:"Question templates",template:"views/admin/questionnaires/questions.html"}],e.deleted_fields_ids=[],e.showAddQuestionnaire=!1,e.toggleAddQuestionnaire=function(){e.showAddQuestionnaire=!e.showAddQuestionnaire},e.showAddQuestion=!1,e.toggleAddQuestion=function(){e.showAddQuestion=!e.showAddQuestion},e.importQuestionnaire=function(n){e.Utils.readFileAsText(n).then((function(e){return t({method:"POST",url:"api/admin/questionnaires?multilang=1",data:e})})).then((function(){e.reload()}),e.Utils.displayErrorMsg)},e.save_questionnaire=function(t,a){var i=new n(t);return e.Utils.update(i,a)},e.delete_questionnaire=function(t){e.Utils.deleteDialog().then((function(){return e.Utils.deleteResource(n,e.resources.questionnaires,t)}))}}]).controller("AdminQuestionnaireEditorCtrl",["$scope","$uibModal","$http","AdminStepResource",function(e,t,n,a){e.editing=!1,e.toggleEditing=function(){e.editing=e.questionnaire.editable&&!e.editing},e.showAddStep=!1,e.toggleAddStep=function(){e.showAddStep=!e.showAddStep},e.parsedFields=e.fieldUtilities.parseQuestionnaire(e.questionnaire,{}),e.delStep=function(t){e.Utils.deleteDialog().then((function(){return e.Utils.deleteResource(a,e.questionnaire.steps,t)}))},e.duplicate_questionnaire=function(e){t.open({templateUrl:"views/modals/questionnaire_duplication.html",controller:"QuestionaireOperationsCtrl",resolve:{questionnaire:function(){return e},operation:function(){return"duplicate"}}})},e.exportQuestionnaire=function(t){n({method:"GET",url:"api/admin/questionnaires/"+t.id,responseType:"blob"}).then((function(n){e.Utils.saveAs(n.data,t.name+".json")}))}}]).controller("AdminQuestionnaireAddCtrl",["$scope",function(e){e.new_questionnaire={},e.add_questionnaire=function(){var t=new e.AdminUtils.new_questionnaire;t.name=e.new_questionnaire.name,t.$save((function(t){e.resources.questionnaires.push(t),e.new_questionnaire={}}))}}]).controller("QuestionaireOperationsCtrl",["$scope","$http","$location","$uibModalInstance","questionnaire","operation",function(e,t,n,a,i,s){e.questionnaire=i,e.operation=s,e.cancel=function(){a.close()},e.confirm=function(){a.close(),"duplicate"===e.operation&&t.post("api/admin/questionnaires/duplicate",{questionnaire_id:e.questionnaire.id,new_name:e.duplicate_questionnaire.name}).then((function(){e.reload()}))}}]),GL.controller("AdminNetworkCtrl",["$scope",function(e){e.tabs=[{title:"HTTPS",template:"views/admin/network/https.html"},{title:"Tor",template:"views/admin/network/tor.html"},{title:"Access control",template:"views/admin/network/access_control.html"},{title:"URL redirects",template:"views/admin/network/url_redirects.html"}],e.resetOnionPrivateKey=function(){return e.Utils.runAdminOperation("reset_onion_private_key",{},!0)},e.new_redirect={},e.add_redirect=function(){var t=new e.AdminUtils.new_redirect;t.path1=e.new_redirect.path1,t.path2=e.new_redirect.path2,t.$save((function(t){e.resources.redirects.push(t),e.new_redirect={}}))}}]).controller("AdminHTTPSConfigCtrl",["$q","$http","$window","$scope","$uibModal","AdminTLSConfigResource","AdminTLSCfgFileResource","AdminAcmeResource","Utils",function(e,t,n,a,i,s,r,o,l){a.state=0,a.menuState="setup",a.setup=function(){a.menuState="files"},a.parseTLSConfig=function(e){a.tls_config=e;var t=0;e.acme?e.files.key.set&&e.files.cert.set&&e.files.chain.set&&(t=3):(e.files.key.set&&(t=1),e.files.cert.set&&(t=2),e.files.chain.set&&(t=3)),e.enabled?(t=-1,a.menuState="status"):t>0&&(a.menuState="files"),a.state=t},s.get({}).$promise.then(a.parseTLSConfig),a.refreshConfig=function(){return s.get().$promise.then(a.parseTLSConfig)},a.file_resources={key:new r({name:"key"}),cert:new r({name:"cert"}),chain:new r({name:"chain"}),csr:new r({name:"csr"})},a.csr_cfg={country:"",province:"",city:"",company:"",department:"",email:""},a.csr_state={open:!1},a.gen_key=function(){return a.file_resources.key.$update().then(a.refreshConfig)},a.postFile=function(e,t){a.Utils.readFileAsText(e).then((function(e){return t.content=e,t.$save()})).then(a.refreshConfig)},a.deleteFile=function(e){i.open({templateUrl:"views/modals/confirmation.html",controller:"ConfirmableModalCtrl",resolve:{arg:null,confirmFun:function(){return function(){return e.$delete().then(a.refreshConfig)}},cancelFun:null}})},a.setupAcme=function(){var e=new o;a.file_resources.key.$update().then((function(){return e.$save()})).then(a.refreshConfig)},a.toggleCfg=function(){a.tls_config.enabled?a.tls_config.$disable().then(a.refreshConfig):a.tls_config.$enable().then((function(){n.location.href="https://"+a.resources.node.hostname}))},a.generateCSR=function(){t.post("api/admin/config/csr/gen",a.csr_cfg).then((function(e){l.saveAs(new Blob([e.data],{type:"text/plain;charset=utf-8"}),"csr.pem")}))},a.resetCfg=function(){i.open({templateUrl:"views/modals/confirmation.html",controller:"ConfirmableModalCtrl",resolve:{arg:null,confirmFun:function(){return function(){a.tls_config.$delete().then(a.refreshConfig)}},cancelFun:null}})}}]).controller("AdminRedirectEditCtrl",["$scope","AdminRedirectResource",function(e,t){e.delete_redirect=function(n){t.delete({id:n.id},(function(){e.Utils.deleteFromList(e.resources.redirects,n)}))}}]),GL.controller("AdminMailCtrl",["$scope","AdminNotificationResource",function(e,t){e.tabs=[{title:"Settings",template:"views/admin/notifications/tab1.html"},{title:"Templates",template:"views/admin/notifications/tab2.html"}],e.updateThenTestMail=function(){t.update(e.resources.notification).$promise.then((function(){return e.Utils.runAdminOperation("test_mail")}),(function(){}))}}]),GL.controller("AdminAuditLogCtrl",["$scope",function(e){e.tabs=[{title:"Audit log",template:"views/admin/auditlog/tab1.html"},{title:"Users",template:"views/admin/auditlog/tab2.html"},{title:"Reports",template:"views/admin/auditlog/tab3.html"},{title:"Scheduled jobs",template:"views/admin/auditlog/tab4.html"}],e.itemsPerPage=20,e.resourcesNames=["auditlog","tips","users"],e.auditLog={};for(var t=0;t<e.resourcesNames.length;t++)e.auditLog[e.resourcesNames[t]]={currentPage:1,elems:angular.copy(e.resources[e.resourcesNames[t]])}}]),angular.module("GL").controller("TenantCtrl",["$scope",function(e){e.tabs=[{title:"Sites",template:"views/admin/sites/tab1.html"},{title:"Options",template:"views/admin/sites/tab2.html"}],e.search=void 0,e.currentPage=1,e.itemsPerPage=20,e.newTenant=new e.AdminUtils.new_tenant,e.$watch("search",(function(t){void 0!==t&&(e.currentPage=1)})),e.showAddTenant=!1,e.toggleAddTenant=function(){e.showAddTenant=!e.showAddTenant},e.addTenant=function(){e.newTenant.$save((function(t){e.resources.tenants.push(t),e.newTenant=new e.AdminUtils.new_tenant}))}}]).controller("TenantEditorCtrl",["$scope","$http","$window","AdminTenantResource",function(e,t,n,a){e.toggleEditing=function(t){t.stopPropagation(),e.editing=!e.editing},e.isRemovableTenant=function(){return 1!==e.tenant.id},e.isCurrentTenant=function(){return!1},e.toggleActivation=function(t){t.stopPropagation(),e.tenant.active=!e.tenant.active,e.tenant.$update()},e.configureTenant=function(e,a){return e.stopPropagation(),t.get("api/auth/tenantauthswitch/"+a).then((function(e){return n.open(e.data.redirect)}))},e.saveTenant=function(){return e.tenant.subdomain=angular.isDefined(e.tenant.subdomain)?e.tenant.subdomain:"",e.tenant.$update()},e.deleteTenant=function(t){t.stopPropagation(),e.Utils.deleteDialog().then((function(){return e.Utils.deleteResource(a,e.resources.tenants,e.tenant)}))}}]),GL.controller("AdminCaseManagementCtrl",["$scope",function(e){e.tabs=[{title:"Report statuses",template:"views/admin/casemanagement/tab1.html"}]}]).controller("AdminSubmissionStatusCtrl",["$scope",function(e){e.showAddStatus=!1,e.toggleAddStatus=function(){e.showAddStatus=!e.showAddStatus},e.isSystemDefined=function(e){return-1!==["new","opened","closed"].indexOf(e.id)}}]).controller("AdminSubmissionStatusEditorCtrl",["$scope","$http","AdminSubmissionStatusResource",function(e,t,n){function a(t){for(var n=0;n<e.resources.submission_statuses.length;n++){if(e.resources.submission_statuses[n].id===t)return n}}function i(n,i,s){n.stopPropagation();var r=i+s;if(!(r<0||r>=e.resources.submission_statuses.length)){var o=a(e.resources.submission_statuses[i].id),l=a(e.resources.submission_statuses[r].id),c=e.resources.submission_statuses[o];e.resources.submission_statuses[o]=e.resources.submission_statuses[l],e.resources.submission_statuses[l]=c;var d={ids:e.resources.submission_statuses.map((function(e){return e.id})).filter((function(e){return e}))};t({method:"PUT",url:"api/admin/statuses",data:{operation:"order_elements",args:d}})}}e.editing=!1,e.isEditable=function(){return-1===["new","opened"].indexOf(e.submissions_status.id)},e.toggleEditing=function(){e.isEditable()&&(e.editing=!e.editing)},e.showAddSubstatus=!1,e.toggleAddSubstatus=function(){e.showAddSubstatus=!e.showAddSubstatus},e.deleteSubmissionStatus=function(){e.Utils.deleteDialog().then((function(){return e.Utils.deleteResource(n,e.resources.submission_statuses,e.submissions_status)}))},e.save_submissions_status=function(t,a){var i=new n(t);return e.Utils.update(i,a)},e.moveUp=function(e,t){i(e,t,-1)},e.moveDown=function(e,t){i(e,t,1)}}]).controller("AdminSubmissionStatusAddCtrl",["$scope","$http",function(e,t){var n=e.newItemOrder(e.resources.submission_statuses,"order");e.addSubmissionStatus=function(){var a={label:e.new_submissions_status.label,order:n};t.post("api/admin/statuses",a).then((function(t){e.resources.submission_statuses.push(t.data)}))}}]).controller("AdminSubmissionSubStatusCtrl",[function(){}]).controller("AdminSubmissionSubStatusEditorCtrl",["$scope","$http","AdminSubmissionSubStatusResource",function(e,t,n){function a(n,a,i){n.stopPropagation();var s=a+i;s<0||s>=e.submissions_status.substatuses.length||(e.submissions_status.substatuses[a]=e.submissions_status.substatuses[s],e.submissions_status.substatuses[s]=e.substatus,t({method:"PUT",url:"api/admin/statuses/"+e.submissions_status.id+"/substatuses",data:{operation:"order_elements",args:{ids:e.submissions_status.substatuses.map((function(e){return e.id}))}}}))}e.substatus_editing=!1,e.toggleSubstatusEditing=function(){e.substatus_editing=!e.substatus_editing},e.deleteSubSubmissionStatus=function(){e.Utils.deleteDialog().then((function(){n.delete({id:e.substatus.id,submissionstatus_id:e.substatus.submissionstatus_id},(function(){var t=e.submissions_status.substatuses.indexOf(e.substatus);e.submissions_status.substatuses.splice(t,1)}))}))},e.save_submissions_substatuses=function(t,a){var i=new n(t);return e.Utils.update(i,a)},e.moveSsUp=function(e,t){a(e,t,-1)},e.moveSsDown=function(e,t){a(e,t,1)}}]).controller("AdminSubmissionSubStatusAddCtrl",["$scope","$http",function(e,t){e.order=e.newItemOrder(e.submissions_status.substatuses,"order"),e.addSubmissionSubStatus=function(){var n={label:e.new_substatus.label,order:e.order};t.post("api/admin/statuses/"+e.submissions_status.id+"/substatuses",n).then((function(t){e.submissions_status.substatuses.push(t.data)}))}}]).controller("AdminSubmissionClosingStatusCtrl",["$scope",function(e){e.submissions_status=void 0,e.showAddStatus=!1,e.toggleAddStatus=function(){e.showAddStatus=!e.showAddStatus};for(var t=0;t<e.resources.submission_statuses.length;t++){var n=e.resources.submission_statuses[t];if("closed"===n.id)return void(e.submissions_status=n)}}]).controller("AdminSubmissionClosedSubStatusAddCtrl",["$scope","$http",function(e,t){e.closed_ss_order=e.newItemOrder(e.submissions_status.substatuses,"order"),e.addClosingSubmissionSubStatus=function(){var n={label:e.new_closed_submissions_substatuses.label,order:e.closed_ss_order};t.post("api/admin/statuses/"+e.submissions_status.id+"/substatuses",n).then((function(t){e.submissions_status.substatuses.push(t.data)}))}}]),GL.controller("SubmissionCtrl",["$scope","$filter","$location","$interval","$timeout","tmhDynamicLocale","Submission","fieldUtilities",function(e,t,n,a,i,s,r,o){e.vars={},e.fieldUtilities=o,e.context_id=n.search().context||"",e.context=void 0,e.navigation=-1,e.validate={},e.score=0,e.contextsOrderPredicate=e.public.node.show_contexts_in_alphabetical_order?"name":"order",e.selectable_contexts=t("filter")(e.public.contexts,{hidden:!1}),e.selectable_contexts=t("orderBy")(e.selectable_contexts,e.contextsOrderPredicate),e.selectContext=function(t){e.context=t},e.selectable=function(){return 0===e.submission.context.maximum_selectable_receivers||Object.keys(e.submission.selected_receivers).length<e.submission.context.maximum_selectable_receivers},e.switch_selection=function(t){e.submission.selected_receivers[t.id]?e.selectable()&&(e.submission.selected_receivers[t.id]=!0):delete e.submission.selected_receivers[t.id]},e.goToStep=function(t){e.navigation=t,e.Utils.scrollTo("#SubmissionForm")},e.firstStepIndex=function(){return e.context.allow_recipients_selection?-1:0},e.lastStepIndex=function(){for(var t=0,n=0;n<e.questionnaire.steps.length;n++)o.isFieldTriggered(e,null,e.questionnaire.steps[n],e.answers,e.score)&&(t=n);return t},e.hasNextStep=function(){return void 0!==e.context&&e.navigation<e.lastStepIndex()},e.hasPreviousStep=function(){return void 0!==e.context&&e.navigation>e.firstStepIndex()},e.checkForInvalidFields=function(){for(var t=0;t<=e.navigation;t++)if(e.questionnaire.steps[t].enabled&&document.querySelector("#step-"+t+" .inputelem.ng-invalid"))return e.navigation=t,e.Utils.scrollTo("#SubmissionErrors"),!1;return!0},e.runValidation=function(){for(var t=-1;t<=e.navigation;t++)e.validate[t]=!0;return e.context.allow_recipients_selection&&!e.areReceiversSelected()?(e.navigation=-1,!1):!!e.checkForInvalidFields()},e.incrementStep=function(){if(e.runValidation()&&e.hasNextStep()){e.vars.submissionForm.$dirty=!1;for(var t=e.navigation+1;t<=e.lastStepIndex();t++)if(o.isFieldTriggered(e,null,e.questionnaire.steps[t],e.answers,e.score))return e.navigation=t,void e.Utils.scrollTo("#step-"+t+" .inputelem")}},e.decrementStep=function(){if(e.hasPreviousStep()){e.vars.submissionForm.$dirty=!1;for(var t=e.navigation-1;t>=e.firstStepIndex();t--)if(-1===t||o.isFieldTriggered(e,null,e.questionnaire.steps[t],e.answers,e.score))return e.navigation=t,void(-1===t?e.Utils.scrollTo("#SubmissionForm"):e.Utils.scrollTo("#step-"+t+" .inputelem"))}},e.areReceiversSelected=function(){return Object.keys(e.submission.selected_receivers).length>0},e.submissionHasErrors=function(){return!!angular.isDefined(e.vars.submissionForm)&&(e.vars.submissionForm.$invalid||e.Utils.isUploading(e.uploads))},e.fileupload_url=function(){if(e.submission)return"api/whistleblower/submission/attachment"},e.prepareSubmission=function(t){e.done=!1,e.answers={},e.uploads={},e.context=t,e.questionnaire=t.questionnaire,e.field_id_map=o.build_field_id_map(e.questionnaire),e.submission.create(t.id),e.receiversOrderPredicate=e.submission.context.show_receivers_in_alphabetical_order?"name":null,e.show_steps_navigation_bar=e.context.allow_recipients_selection||e.questionnaire.steps.length>1,e.navigation=e.firstStepIndex()},e.completeSubmission=function(){e.runValidation()&&(e.done=!0,e.submission._submission.answers=e.answers,e.Utils.resumeFileUploads(e.uploads),e.interval=a((function(){for(var t in e.uploads)if(e.uploads[t]&&e.uploads[t].isUploading()&&e.uploads[t].isUploading())return;return a.cancel(e.interval),e.submission.submit()}),1e3))},e.stepForm=function(t){if(-1!==t)return e.vars.submissionForm["step-"+t]},e.replaceReceivers=function(t){for(var n in e.submission.selected_receivers)-1===t.indexOf(n)&&delete e.submission.selected_receivers[n];for(var a=0;a<t.length;a++)t[a]in e.receivers_by_id&&(e.submission.selected_receivers[t[a]]=!0)},e.displayErrors=function(){if(!e.validate[e.navigation]&&!e.submission.done)return!1;if(!e.hasPreviousStep()&&e.hasNextStep()&&!e.areReceiversSelected())return!0;if(!e.hasNextStep()&&e.submissionHasErrors())return!0;if(-1===e.navigation){if(e.context.allow_recipients_selection&&!e.areReceiversSelected())return!0}else if(e.stepForm(e.navigation).$invalid)return!0;return!1},e.setPage("submissionpage"),e.submission=new r((function(){var n=null;e.context_id?n=t("filter")(e.public.contexts,{id:e.context_id})[0]:1===e.selectable_contexts.length&&(n=e.selectable_contexts[0]),n&&(e.context=n),e.$watch("context",(function(){e.submission&&e.context&&e.prepareSubmission(e.context)})),e.$watch("answers",(function(){o.onAnswersUpdate(e)}),!0),e.$watch("submission._submission.identity_provided",(function(){o.onAnswersUpdate(e)})),e.$on("GL::uploadsUpdated",(function(){o.onAnswersUpdate(e)}))}))}]).controller("AdditionalQuestionnaireCtrl",["$http","$scope","$uibModalInstance","$filter","$location","$interval","tmhDynamicLocale","Submission","glbcProofOfWork","fieldUtilities",function(e,t,n,a,i,s,r,o,l,c){t.vars={},t.fieldUtilities=c,t.navigation=0,t.validate={},t.score=0,t.goToStep=function(e){t.navigation=e,t.Utils.scrollTo("#SubmissionForm")},t.lastStepIndex=function(){for(var e=0,n=0;n<t.questionnaire.steps.length;n++)t.questionnaire.steps[n].enabled&&(e=n);return e},t.hasNextStep=function(){return t.navigation<t.lastStepIndex()},t.hasPreviousStep=function(){return t.navigation>0},t.checkForInvalidFields=function(){for(var e=0;e<=t.navigation;e++)if(t.questionnaire.steps[e].enabled&&document.querySelector("#step-"+e+" .inputelem.ng-invalid"))return t.navigation=e,t.Utils.scrollTo("#SubmissionErrors"),!1;return!0},t.runValidation=function(){for(var e=-1;e<=t.navigation;e++)t.validate[e]=!0;return!(t.navigation>-1&&!t.checkForInvalidFields())},t.incrementStep=function(){if(t.runValidation()&&t.hasNextStep()){t.vars.submissionForm.$dirty=!1;for(var e=t.navigation+1;e<=t.lastStepIndex();e++)if(c.isFieldTriggered(t,null,t.questionnaire.steps[e],t.answers,t.score))return t.navigation=e,void t.Utils.scrollTo("#step-"+e+" .inputelem")}},t.decrementStep=function(){if(t.hasPreviousStep()){t.vars.submissionForm.$dirty=!1;for(var e=t.navigation-1;e>=0;e--)if(-1===e||c.isFieldTriggered(t,null,t.questionnaire.steps[e],t.answers,t.score))return t.navigation=e,void t.Utils.scrollTo("#step-"+e+" .inputelem")}},t.submissionHasErrors=function(){return!1},t.prepareSubmission=function(){t.done=!1,t.answers={},t.uploads={},t.questionnaire=t.tip.additional_questionnaire,t.field_id_map=c.build_field_id_map(t.questionnaire)},t.completeSubmission=function(){for(var n=-1;n<=t.navigation;n++)t.validate[n]=!0;if(c.onAnswersUpdate(t),t.checkForInvalidFields()){for(var a in t.done=!0,t.uploads)t.uploads[a]&&t.uploads[a].resume();t.interval=s((function(){for(var n in t.uploads)if(t.uploads[n]&&t.uploads[n].isUploading&&t.uploads[n].isUploading())return;return s.cancel(t.interval),e.post("api/whistleblower/wbtip/fillform",{cmd:"additional_questionnaire",answers:t.answers}).then((function(){t.reload()}))}),1e3)}},t.stepForm=function(e){if(-1!==e)return t.vars.submissionForm["step-"+e]},t.displayErrors=function(){return!!t.validate[t.navigation]&&(-1!==t.navigation&&t.stepForm(t.navigation).$invalid)},t.cancel=function(){n.close()},t.$watch("answers",(function(){c.onAnswersUpdate(t)}),!0),t.$watch("submission._submission.identity_provided",(function(){c.onAnswersUpdate(t)})),t.$on("GL::uploadsUpdated",(function(){c.onAnswersUpdate(t)})),t.prepareSubmission(),c.onAnswersUpdate(t)}]).controller("SubmissionStepCtrl",["$scope","$filter","fieldUtilities",function(e,t,n){e.fields=e.step.children,e.stepId="step-"+e.$index,e.rows=n.splitRows(e.fields),e.status={opened:!1}}]).controller("SubmissionFieldErrKeyCtrl",["$scope",function(e){var t=e.err.$name;t=(t=t.substring(0,t.indexOf("$"))).slice("fieldForm_".length).replace(new RegExp("_","g"),"-"),e.field=e.field_id_map[t],e.goToQuestion=function(){var t=document.getElementById("step-"+e.navigation),n='div[data-ng-form="'+e.err.$name+'"] .ng-invalid';t.querySelector(n).focus()}}]).controller("SubmissionFormFieldCtrl",["$scope",function(e){e.f=e[e.fieldFormVarName]}]).controller("SubmissionFieldEntryCtrl",["$scope",function(e){e.fieldEntry=e.fieldId+"-input-"+e.entryIndex}]).controller("SubmissionFieldCtrl",["$scope","fieldUtilities",function(e,t){e.fieldFormVarName=t.fieldFormName(e.field.id+"$"+e.$index),e.getAnswersEntries=function(t){return void 0===t?e.answers[e.field.id]:t[e.field.id]},e.addAnswerEntry=function(e){e.push({})},e.fields=e.field.children,e.rows=t.splitRows(e.fields),e.entries=e.getAnswersEntries(e.entry),e.clear=function(){e.entries.length=0,e.addAnswerEntry(e.entries)},"inputbox"===e.field.type?e.validator=t.getValidator(e.field):"date"===e.field.type?(e.dateOptions={},angular.isDefined(e.field.attrs.min_date)&&(e.dateOptions.minDate=new Date(e.field.attrs.min_date.value)),angular.isDefined(e.field.attrs.max_date)&&(e.dateOptions.maxDate=new Date(e.field.attrs.max_date.value)),e.status={opened:!1},e.open=function(){e.status.opened=!0}):"daterange"===e.field.type&&(e.dateOptions1={},e.dateOptions2={},angular.isDefined(e.field.attrs.min_date)&&(e.dateOptions1.minDate=new Date(e.field.attrs.min_date.value)),angular.isDefined(e.field.attrs.max_date)&&(e.dateOptions2=new Date(e.field.attrs.max_date.value)),e.clear=function(){e.daterange.start="",e.daterange.end="",e.entries.length=0,e.addAnswerEntry(e.entries)},e.daterange={start:"",end:""},e.$watch("daterange.start",(function(){e.daterange.start&&(e.dateOptions2.minDate=new Date(e.daterange.start))})),e.$watch("daterange.end",(function(){e.daterange.start&&e.daterange.end&&(e.entries[0].value=String(Number(e.daterange.start))+":"+String(Number(e.daterange.end)))})),e.status={openedStart:!1,openedEnd:!1},e.openStart=function(){e.status.openedStart=!0,e.clear()},e.openEnd=function(){e.status.openedEnd=!0}),e.validateRequiredCheckbox=function(e,t){if(!e.required)return!0;for(var n=0;n<e.options.length;n++)if(t[e.options[n].id]&&t[e.options[n].id])return!0;return!1},e.fieldEntry?e.fieldId=e.fieldEntry+"-field-"+e.fieldRow+"-"+e.fieldCol:e.fieldId=(e.stepId?e.stepId+"-":"")+"field-"+e.fieldRow+"-"+e.fieldCol}]),GL.controller("ReceiptCtrl",["$scope",function(e){var t;e.formatted_receipt=(t=e.receipt)&&16===t.length?t.substr(0,4)+" "+t.substr(4,4)+" "+t.substr(8,4)+" "+t.substr(12,4):""}]),GL.controller("LoginCtrl",["$scope","$location",function(e,t){e.loginData={loginUsername:"",loginPassword:"",loginAuthCode:""},void 0!==e.Authentication.session&&e.Authentication.session.homepage&&t.path(e.Authentication.session.homepage),"/login"===t.path()&&e.public.node.simplified_login?e.login_template="views/login/simplified.html":e.login_template="views/login/default.html";var n=t.search().token;n&&e.Authentication.login(0,"","","",n)}]),GL.controller("ForcedPasswordChangeCtrl",["$scope","$location",function(e,t){e.changePasswordArgs={current:""},e.changePassword=function(){return e.Utils.runUserOperation("change_password",e.changePasswordArgs).then((function(){e.resources.preferences.password_change_needed=!1,t.path(e.Authentication.session.homepage)}),(function(){e.changePasswordArgs={}}))}}]),GL.controller("EnableTwoFactorAuthCtrl",["$scope","$http","$location","$window",function(e,t,n,a){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",s=new Uint32Array(32);a.crypto.getRandomValues(s),e.totp={qrcode_string:"",secret:"",edit:!1};for(var r=0;r<s.length;r++)e.totp.secret+=i[s[r]%i.length];e.$watch("totp.secret",(function(){e.totp.qrcode_string="otpauth://totp/"+n.host()+"%20%28"+e.resources.preferences.username+"%29?secret="+e.totp.secret})),e.enable2FA=function(a){return t({method:"PUT",url:"api/user/operations",data:{operation:"enable_2fa",args:{secret:e.totp.secret,token:a}}}).then((function(){e.resources.preferences.two_factor=!0,e.Authentication.session.two_factor=!0,n.path(e.Authentication.session.homepage)}))}}]),GL.controller("PasswordResetCtrl",["$scope","$location","$http",function(e,t,n){e.request={username:""},e.submit=function(){n.post("api/user/reset/password",e.request).then((function(){t.path("/login/passwordreset/requested")}))}}]).controller("PasswordResetCompleteCtrl",["$scope","$location","$http",function(e,t,n){e.state="start",e.request={reset_token:t.search().token||"",recovery_key:t.search().recovery||"",auth_code:""},e.submit=function(){n.put("api/user/reset/password",e.request).then((function(n){"success"===n.data.status?t.url("/login?token="+n.data.token):("require_recovery_key"===n.data.status&&(e.request.recovery_key=""),e.request.auth_code="",e.state=n.data.status)}))},"start"===e.state&&e.submit()}]),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Chart=t()}(this,(function(){"use strict";function e(){}const t=function(){let e=0;return function(){return e++}}();function n(e){return null==e}function a(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function i(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}const s=e=>("number"==typeof e||e instanceof Number)&&isFinite(+e);function r(e,t){return s(e)?e:t}function o(e,t){return void 0===e?t:e}const l=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:e/t,c=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function d(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)}function u(e,t,n,s){let r,o,l;if(a(e))if(o=e.length,s)for(r=o-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<o;r++)t.call(n,e[r],r);else if(i(e))for(l=Object.keys(e),o=l.length,r=0;r<o;r++)t.call(n,e[l[r]],l[r])}function p(e,t){let n,a,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,a=e.length;n<a;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function f(e){if(a(e))return e.map(f);if(i(e)){const t=Object.create(null),n=Object.keys(e),a=n.length;let i=0;for(;i<a;++i)t[n[i]]=f(e[n[i]]);return t}return e}function h(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function g(e,t,n,a){if(!h(e))return;const s=t[e],r=n[e];i(s)&&i(r)?m(s,r,a):t[e]=f(r)}function m(e,t,n){const s=a(t)?t:[t],r=s.length;if(!i(e))return e;const o=(n=n||{}).merger||g;for(let a=0;a<r;++a){if(!i(t=s[a]))continue;const r=Object.keys(t);for(let a=0,i=r.length;a<i;++a)o(r[a],e,t,n)}return e}function v(e,t){return m(e,t,{merger:b})}function b(e,t,n){if(!h(e))return;const a=t[e],s=n[e];i(a)&&i(s)?v(a,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=f(s))}const w={"":e=>e,x:e=>e.x,y:e=>e.y};function y(e,t){const n=w[t]||(w[t]=function(e){const t=_(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function _(e){const t=e.split("."),n=[];let a="";for(const e of t)a+=e,a.endsWith("\\")?a=a.slice(0,-1)+".":(n.push(a),a="");return n}function x(e){return e.charAt(0).toUpperCase()+e.slice(1)}const $=e=>void 0!==e,k=e=>"function"==typeof e,S=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function C(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}const A=Math.PI,T=2*A,M=T+A,P=Number.POSITIVE_INFINITY,E=A/180,D=A/2,O=A/4,R=2*A/3,L=Math.log10,I=Math.sign;function F(e){const t=Math.round(e);e=z(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(L(e))),a=e/n;return(a<=1?1:a<=2?2:a<=5?5:10)*n}function U(e){const t=[],n=Math.sqrt(e);let a;for(a=1;a<n;a++)e%a==0&&(t.push(a),t.push(e/a));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}function q(e){return!isNaN(parseFloat(e))&&isFinite(e)}function z(e,t,n){return Math.abs(e-t)<n}function N(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function j(e,t,n){let a,i,s;for(a=0,i=e.length;a<i;a++)s=e[a][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function B(e){return e*(A/180)}function V(e){return e*(180/A)}function H(e){if(!s(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function W(e,t){const n=t.x-e.x,a=t.y-e.y,i=Math.sqrt(n*n+a*a);let s=Math.atan2(a,n);return s<-.5*A&&(s+=T),{angle:s,distance:i}}function G(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Y(e,t){return(e-t+M)%T-A}function K(e){return(e%T+T)%T}function Q(e,t,n,a){const i=K(e),s=K(t),r=K(n),o=K(s-i),l=K(r-i),c=K(i-s),d=K(i-r);return i===s||i===r||a&&s===r||o>l&&c<d}function X(e,t,n){return Math.max(t,Math.min(n,e))}function Z(e){return X(e,-32768,32767)}function J(e,t,n,a=1e-6){return e>=Math.min(t,n)-a&&e<=Math.max(t,n)+a}function ee(e,t,n){n=n||(n=>e[n]<t);let a,i=e.length-1,s=0;for(;i-s>1;)a=s+i>>1,n(a)?s=a:i=a;return{lo:s,hi:i}}const te=(e,t,n,a)=>ee(e,n,a?a=>e[a][t]<=n:a=>e[a][t]<n),ne=(e,t,n)=>ee(e,n,(a=>e[a][t]>=n));function ae(e,t,n){let a=0,i=e.length;for(;a<i&&e[a]<t;)a++;for(;i>a&&e[i-1]>n;)i--;return a>0||i<e.length?e.slice(a,i):e}const ie=["push","pop","shift","splice","unshift"];function se(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),ie.forEach((t=>{const n="_onData"+x(t),a=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...t){const i=a.apply(this,t);return e._chartjs.listeners.forEach((e=>{"function"==typeof e[n]&&e[n](...t)})),i}})})))}function re(e,t){const n=e._chartjs;if(!n)return;const a=n.listeners,i=a.indexOf(t);-1!==i&&a.splice(i,1),a.length>0||(ie.forEach((t=>{delete e[t]})),delete e._chartjs)}function oe(e){const t=new Set;let n,a;for(n=0,a=e.length;n<a;++n)t.add(e[n]);return t.size===a?e:Array.from(t)}const le="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function ce(e,t,n){const a=n||(e=>Array.prototype.slice.call(e));let i=!1,s=[];return function(...n){s=a(n),i||(i=!0,le.call(window,(()=>{i=!1,e.apply(t,s)})))}}function de(e,t){let n;return function(...a){return t?(clearTimeout(n),n=setTimeout(e,t,a)):e.apply(this,a),t}}const ue=e=>"start"===e?"left":"end"===e?"right":"center",pe=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2,fe=(e,t,n,a)=>e===(a?"left":"right")?n:"center"===e?(t+n)/2:t;function he(e,t,n){const a=t.length;let i=0,s=a;if(e._sorted){const{iScale:r,_parsed:o}=e,l=r.axis,{min:c,max:d,minDefined:u,maxDefined:p}=r.getUserBounds();u&&(i=X(Math.min(te(o,r.axis,c).lo,n?a:te(t,l,r.getPixelForValue(c)).lo),0,a-1)),s=p?X(Math.max(te(o,r.axis,d,!0).hi+1,n?0:te(t,l,r.getPixelForValue(d),!0).hi+1),i,a)-i:a-i}return{start:i,count:s}}function ge(e){const{xScale:t,yScale:n,_scaleRanges:a}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!a)return e._scaleRanges=i,!0;const s=a.xmin!==t.min||a.xmax!==t.max||a.ymin!==n.min||a.ymax!==n.max;return Object.assign(a,i),s}var me=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,a){const i=t.listeners[a],s=t.duration;i.forEach((a=>a({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=le.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(e=Date.now()){let t=0;this._charts.forEach(((n,a)=>{if(!n.running||!n.items.length)return;const i=n.items;let s,r=i.length-1,o=!1;for(;r>=0;--r)s=i[r],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(e),o=!0):(i[r]=i[i.length-1],i.pop());o&&(a.draw(),this._notify(a,n,e,"progress")),i.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),t+=i.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}};
/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function ve(e){return e+.5|0}const be=(e,t,n)=>Math.max(Math.min(e,n),t);function we(e){return be(ve(2.55*e),0,255)}function ye(e){return be(ve(255*e),0,255)}function _e(e){return be(ve(e/2.55)/100,0,1)}function xe(e){return be(ve(100*e),0,100)}const $e={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ke=[..."0123456789ABCDEF"],Se=e=>ke[15&e],Ce=e=>ke[(240&e)>>4]+ke[15&e],Ae=e=>(240&e)>>4==(15&e);const Te=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Me(e,t,n){const a=t*Math.min(n,1-n),i=(t,i=(t+e/30)%12)=>n-a*Math.max(Math.min(i-3,9-i,1),-1);return[i(0),i(8),i(4)]}function Pe(e,t,n){const a=(a,i=(a+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[a(5),a(3),a(1)]}function Ee(e,t,n){const a=Me(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)a[i]*=1-t-n,a[i]+=t;return a}function De(e){const t=e.r/255,n=e.g/255,a=e.b/255,i=Math.max(t,n,a),s=Math.min(t,n,a),r=(i+s)/2;let o,l,c;return i!==s&&(c=i-s,l=r>.5?c/(2-i-s):c/(i+s),o=function(e,t,n,a,i){return e===i?(t-n)/a+(t<n?6:0):t===i?(n-e)/a+2:(e-t)/a+4}(t,n,a,c,i),o=60*o+.5),[0|o,l||0,r]}function Oe(e,t,n,a){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,a)).map(ye)}function Re(e,t,n){return Oe(Me,e,t,n)}function Le(e){return(e%360+360)%360}const Ie={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Fe={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Ue;const qe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,ze=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Ne=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function je(e,t,n){if(e){let a=De(e);a[t]=Math.max(0,Math.min(a[t]+a[t]*n,0===t?360:1)),a=Re(a),e.r=a[0],e.g=a[1],e.b=a[2]}}function Be(e,t){return e?Object.assign(t||{},e):e}function Ve(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ye(e[3]))):(t=Be(e,{r:0,g:0,b:0,a:1})).a=ye(t.a),t}function He(e){return"r"===e.charAt(0)?function(e){const t=qe.exec(e);let n,a,i,s=255;if(t){if(t[7]!==n){const e=+t[7];s=t[8]?we(e):be(255*e,0,255)}return n=+t[1],a=+t[3],i=+t[5],n=255&(t[2]?we(n):be(n,0,255)),a=255&(t[4]?we(a):be(a,0,255)),i=255&(t[6]?we(i):be(i,0,255)),{r:n,g:a,b:i,a:s}}}(e):function(e){const t=Te.exec(e);let n,a=255;if(!t)return;t[5]!==n&&(a=t[6]?we(+t[5]):ye(+t[5]));const i=Le(+t[2]),s=+t[3]/100,r=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return Oe(Ee,e,t,n)}(i,s,r):"hsv"===t[1]?function(e,t,n){return Oe(Pe,e,t,n)}(i,s,r):Re(i,s,r),{r:n[0],g:n[1],b:n[2],a:a}}(e)}class We{constructor(e){if(e instanceof We)return e;const t=typeof e;let n;var a,i,s;"object"===t?n=Ve(e):"string"===t&&(s=(a=e).length,"#"===a[0]&&(4===s||5===s?i={r:255&17*$e[a[1]],g:255&17*$e[a[2]],b:255&17*$e[a[3]],a:5===s?17*$e[a[4]]:255}:7!==s&&9!==s||(i={r:$e[a[1]]<<4|$e[a[2]],g:$e[a[3]]<<4|$e[a[4]],b:$e[a[5]]<<4|$e[a[6]],a:9===s?$e[a[7]]<<4|$e[a[8]]:255})),n=i||function(e){Ue||(Ue=function(){const e={},t=Object.keys(Fe),n=Object.keys(Ie);let a,i,s,r,o;for(a=0;a<t.length;a++){for(r=o=t[a],i=0;i<n.length;i++)s=n[i],o=o.replace(s,Ie[s]);s=parseInt(Fe[r],16),e[o]=[s>>16&255,s>>8&255,255&s]}return e}(),Ue.transparent=[0,0,0,0]);const t=Ue[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(e)||He(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Be(this._rgb);return e&&(e.a=_e(e.a)),e}set rgb(e){this._rgb=Ve(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${_e(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?function(e){var t=(e=>Ae(e.r)&&Ae(e.g)&&Ae(e.b)&&Ae(e.a))(e)?Se:Ce;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=De(e),n=t[0],a=xe(t[1]),i=xe(t[2]);return e.a<255?`hsla(${n}, ${a}%, ${i}%, ${_e(e.a)})`:`hsl(${n}, ${a}%, ${i}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,a=e.rgb;let i;const s=t===i?.5:t,r=2*s-1,o=n.a-a.a,l=((r*o==-1?r:(r+o)/(1+r*o))+1)/2;i=1-l,n.r=255&l*n.r+i*a.r+.5,n.g=255&l*n.g+i*a.g+.5,n.b=255&l*n.b+i*a.b+.5,n.a=s*n.a+(1-s)*a.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const a=Ne(_e(e.r)),i=Ne(_e(e.g)),s=Ne(_e(e.b));return{r:ye(ze(a+n*(Ne(_e(t.r))-a))),g:ye(ze(i+n*(Ne(_e(t.g))-i))),b:ye(ze(s+n*(Ne(_e(t.b))-s))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new We(this.rgb)}alpha(e){return this._rgb.a=ye(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=ve(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return je(this._rgb,2,e),this}darken(e){return je(this._rgb,2,-e),this}saturate(e){return je(this._rgb,1,e),this}desaturate(e){return je(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=De(e);n[0]=Le(n[0]+t),n=Re(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function Ge(e){return new We(e)}function Ye(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Ke(e){return Ye(e)?e:Ge(e)}function Qe(e){return Ye(e)?e:Ge(e).saturate(.5).darken(.1).hexString()}const Xe=Object.create(null),Ze=Object.create(null);function Je(e,t){if(!t)return e;const n=t.split(".");for(let t=0,a=n.length;t<a;++t){const a=n[t];e=e[a]||(e[a]=Object.create(null))}return e}function et(e,t,n){return"string"==typeof t?m(Je(e,t),n):m(Je(e,""),t)}var tt=new class{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Qe(t.backgroundColor),this.hoverBorderColor=(e,t)=>Qe(t.borderColor),this.hoverColor=(e,t)=>Qe(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return et(this,e,t)}get(e){return Je(this,e)}describe(e,t){return et(Ze,e,t)}override(e,t){return et(Xe,e,t)}route(e,t,n,a){const s=Je(this,e),r=Je(this,n),l="_"+t;Object.defineProperties(s,{[l]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[l],t=r[a];return i(e)?Object.assign({},t,e):o(e,t)},set(e){this[l]=e}}})}}({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function nt(){return"undefined"!=typeof window&&"undefined"!=typeof document}function at(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function it(e,t,n){let a;return"string"==typeof e?(a=parseInt(e,10),-1!==e.indexOf("%")&&(a=a/100*t.parentNode[n])):a=e,a}const st=e=>window.getComputedStyle(e,null);function rt(e,t){return st(e).getPropertyValue(t)}const ot=["top","right","bottom","left"];function lt(e,t,n){const a={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=ot[i];a[s]=parseFloat(e[t+"-"+s+n])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}function ct(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:a}=t,i=st(n),s="border-box"===i.boxSizing,r=lt(i,"padding"),o=lt(i,"border","width"),{x:l,y:c,box:d}=function(e,t){const n=e.touches,a=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=a;let r,o,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(i,s,e.target))r=i,o=s;else{const e=t.getBoundingClientRect();r=a.clientX-e.left,o=a.clientY-e.top,l=!0}return{x:r,y:o,box:l}}(e,n),u=r.left+(d&&o.left),p=r.top+(d&&o.top);let{width:f,height:h}=t;return s&&(f-=r.width+o.width,h-=r.height+o.height),{x:Math.round((l-u)/f*n.width/a),y:Math.round((c-p)/h*n.height/a)}}const dt=e=>Math.round(10*e)/10;function ut(e,t,n,a){const i=st(e),s=lt(i,"margin"),r=it(i.maxWidth,e,"clientWidth")||P,o=it(i.maxHeight,e,"clientHeight")||P,l=function(e,t,n){let a,i;if(void 0===t||void 0===n){const s=at(e);if(s){const e=s.getBoundingClientRect(),r=st(s),o=lt(r,"border","width"),l=lt(r,"padding");t=e.width-l.width-o.width,n=e.height-l.height-o.height,a=it(r.maxWidth,s,"clientWidth"),i=it(r.maxHeight,s,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:a||P,maxHeight:i||P}}(e,t,n);let{width:c,height:d}=l;if("content-box"===i.boxSizing){const e=lt(i,"border","width"),t=lt(i,"padding");c-=t.width+e.width,d-=t.height+e.height}return c=Math.max(0,c-s.width),d=Math.max(0,a?Math.floor(c/a):d-s.height),c=dt(Math.min(c,r,l.maxWidth)),d=dt(Math.min(d,o,l.maxHeight)),c&&!d&&(d=dt(c/2)),{width:c,height:d}}function pt(e,t,n){const a=t||1,i=Math.floor(e.height*a),s=Math.floor(e.width*a);e.height=i/a,e.width=s/a;const r=e.canvas;return r.style&&(n||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==a||r.height!==i||r.width!==s)&&(e.currentDevicePixelRatio=a,r.height=i,r.width=s,e.ctx.setTransform(a,0,0,a,0,0),!0)}const ft=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function ht(e,t){const n=rt(e,t),a=n&&n.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function gt(e){return!e||n(e.size)||n(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function mt(e,t,n,a,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>a&&(a=s),a}function vt(e,t,n,i){let s=(i=i||{}).data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const l=n.length;let c,d,u,p,f;for(c=0;c<l;c++)if(p=n[c],null!=p&&!0!==a(p))o=mt(e,s,r,o,p);else if(a(p))for(d=0,u=p.length;d<u;d++)f=p[d],null==f||a(f)||(o=mt(e,s,r,o,f));e.restore();const h=r.length/2;if(h>n.length){for(c=0;c<h;c++)delete s[r[c]];r.splice(0,h)}return o}function bt(e,t,n){const a=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*a)/a+i}function wt(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function yt(e,t,n,a){_t(e,t,n,a,null)}function _t(e,t,n,a,i){let s,r,o,l,c,d;const u=t.pointStyle,p=t.rotation,f=t.radius;let h=(p||0)*E;if(u&&"object"==typeof u&&(s=u.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(n,a),e.rotate(h),e.drawImage(u,-u.width/2,-u.height/2,u.width,u.height),void e.restore();if(!(isNaN(f)||f<=0)){switch(e.beginPath(),u){default:i?e.ellipse(n,a,i/2,f,0,0,T):e.arc(n,a,f,0,T),e.closePath();break;case"triangle":e.moveTo(n+Math.sin(h)*f,a-Math.cos(h)*f),h+=R,e.lineTo(n+Math.sin(h)*f,a-Math.cos(h)*f),h+=R,e.lineTo(n+Math.sin(h)*f,a-Math.cos(h)*f),e.closePath();break;case"rectRounded":c=.516*f,l=f-c,r=Math.cos(h+O)*l,o=Math.sin(h+O)*l,e.arc(n-r,a-o,c,h-A,h-D),e.arc(n+o,a-r,c,h-D,h),e.arc(n+r,a+o,c,h,h+D),e.arc(n-o,a+r,c,h+D,h+A),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*f,d=i?i/2:l,e.rect(n-d,a-l,2*d,2*l);break}h+=O;case"rectRot":r=Math.cos(h)*f,o=Math.sin(h)*f,e.moveTo(n-r,a-o),e.lineTo(n+o,a-r),e.lineTo(n+r,a+o),e.lineTo(n-o,a+r),e.closePath();break;case"crossRot":h+=O;case"cross":r=Math.cos(h)*f,o=Math.sin(h)*f,e.moveTo(n-r,a-o),e.lineTo(n+r,a+o),e.moveTo(n+o,a-r),e.lineTo(n-o,a+r);break;case"star":r=Math.cos(h)*f,o=Math.sin(h)*f,e.moveTo(n-r,a-o),e.lineTo(n+r,a+o),e.moveTo(n+o,a-r),e.lineTo(n-o,a+r),h+=O,r=Math.cos(h)*f,o=Math.sin(h)*f,e.moveTo(n-r,a-o),e.lineTo(n+r,a+o),e.moveTo(n+o,a-r),e.lineTo(n-o,a+r);break;case"line":r=i?i/2:Math.cos(h)*f,o=Math.sin(h)*f,e.moveTo(n-r,a-o),e.lineTo(n+r,a+o);break;case"dash":e.moveTo(n,a),e.lineTo(n+Math.cos(h)*f,a+Math.sin(h)*f)}e.fill(),t.borderWidth>0&&e.stroke()}}function xt(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function $t(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function kt(e){e.restore()}function St(e,t,n,a,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const a=(t.x+n.x)/2;e.lineTo(a,t.y),e.lineTo(a,n.y)}else"after"===i!=!!a?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Ct(e,t,n,a){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(a?t.cp1x:t.cp2x,a?t.cp1y:t.cp2y,a?n.cp2x:n.cp1x,a?n.cp2y:n.cp1y,n.x,n.y)}function At(e,t,i,s,r,o={}){const l=a(t)?t:[t],c=o.strokeWidth>0&&""!==o.strokeColor;let d,u;for(e.save(),e.font=r.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),n(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,o),d=0;d<l.length;++d)u=l[d],c&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),n(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(u,i,s,o.maxWidth)),e.fillText(u,i,s,o.maxWidth),Tt(e,i,s,u,o),s+=r.lineHeight;e.restore()}function Tt(e,t,n,a,i){if(i.strikethrough||i.underline){const s=e.measureText(a),r=t-s.actualBoundingBoxLeft,o=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,d=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(r,d),e.lineTo(o,d),e.stroke()}}function Mt(e,t){const{x:n,y:a,w:i,h:s,radius:r}=t;e.arc(n+r.topLeft,a+r.topLeft,r.topLeft,-D,A,!0),e.lineTo(n,a+s-r.bottomLeft),e.arc(n+r.bottomLeft,a+s-r.bottomLeft,r.bottomLeft,A,D,!0),e.lineTo(n+i-r.bottomRight,a+s),e.arc(n+i-r.bottomRight,a+s-r.bottomRight,r.bottomRight,D,0,!0),e.lineTo(n+i,a+r.topRight),e.arc(n+i-r.topRight,a+r.topRight,r.topRight,0,-D,!0),e.lineTo(n+r.topLeft,a)}function Pt(e,t=[""],n=e,a,i=(()=>e[0])){$(a)||(a=Nt("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:a,_getTarget:i,override:i=>Pt([i,...e],t,n,a)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,a)=>Lt(n,a,(()=>function(e,t,n,a){let i;for(const s of t)if(i=Nt(Ot(s,e),n),$(i))return Rt(e,i)?qt(n,a,e,i):i}(a,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>jt(e).includes(t),ownKeys:e=>jt(e),set(e,t,n){const a=e._storage||(e._storage=i());return e[t]=a[t]=n,delete e._keys,!0}})}function Et(e,t,n,s){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Dt(e,s),setContext:t=>Et(e,t,n,s),override:a=>Et(e.override(a),t,n,s)};return new Proxy(r,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>Lt(e,t,(()=>function(e,t,n){const{_proxy:s,_context:r,_subProxy:o,_descriptors:l}=e;let c=s[t];return k(c)&&l.isScriptable(t)&&(c=function(e,t,n,a){const{_proxy:i,_context:s,_subProxy:r,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);return o.add(e),t=t(s,r||a),o.delete(e),Rt(e,t)&&(t=qt(i._scopes,i,e,t)),t}(t,c,e,n)),a(c)&&c.length&&(c=function(e,t,n,a){const{_proxy:s,_context:r,_subProxy:o,_descriptors:l}=n;if($(r.index)&&a(e))t=t[r.index%t.length];else if(i(t[0])){const n=t,a=s._scopes.filter((e=>e!==n));t=[];for(const i of n){const n=qt(a,s,e,i);t.push(Et(n,r,o&&o[e],l))}}return t}(t,c,e,l.isIndexable)),Rt(t,c)&&(c=Et(c,r,o&&o[t],l)),c}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,a)=>(e[n]=a,delete t[n],!0)})}function Dt(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:a=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:a,isScriptable:k(n)?n:()=>n,isIndexable:k(a)?a:()=>a}}const Ot=(e,t)=>e?e+x(t):t,Rt=(e,t)=>i(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Lt(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const a=n();return e[t]=a,a}function It(e,t,n){return k(e)?e(t,n):e}const Ft=(e,t)=>!0===e?t:"string"==typeof e?y(t,e):void 0;function Ut(e,t,n,a,i){for(const s of t){const t=Ft(n,s);if(t){e.add(t);const s=It(t._fallback,n,i);if($(s)&&s!==n&&s!==a)return s}else if(!1===t&&$(a)&&n!==a)return null}return!1}function qt(e,t,n,s){const r=t._rootScopes,o=It(t._fallback,n,s),l=[...e,...r],c=new Set;c.add(s);let d=zt(c,l,n,o||n,s);return null!==d&&(!$(o)||o===n||(d=zt(c,l,o,d,s),null!==d))&&Pt(Array.from(c),[""],r,o,(()=>function(e,t,n){const s=e._getTarget();t in s||(s[t]={});const r=s[t];return a(r)&&i(n)?n:r}(t,n,s)))}function zt(e,t,n,a,i){for(;n;)n=Ut(e,t,n,a,i);return n}function Nt(e,t){for(const n of t){if(!n)continue;const t=n[e];if($(t))return t}}function jt(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function Bt(e,t,n,a){const{iScale:i}=e,{key:s="r"}=this._parsing,r=new Array(a);let o,l,c,d;for(o=0,l=a;o<l;++o)c=o+n,d=t[c],r[o]={r:i.parse(y(d,s),c)};return r}const Vt=Number.EPSILON||1e-14,Ht=(e,t)=>t<e.length&&!e[t].skip&&e[t],Wt=e=>"x"===e?"y":"x";function Gt(e,t,n,a){const i=e.skip?t:e,s=t,r=n.skip?t:n,o=G(s,i),l=G(r,s);let c=o/(o+l),d=l/(o+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=a*c,p=a*d;return{previous:{x:s.x-u*(r.x-i.x),y:s.y-u*(r.y-i.y)},next:{x:s.x+p*(r.x-i.x),y:s.y+p*(r.y-i.y)}}}function Yt(e,t="x"){const n=Wt(t),a=e.length,i=Array(a).fill(0),s=Array(a);let r,o,l,c=Ht(e,0);for(r=0;r<a;++r)if(o=l,l=c,c=Ht(e,r+1),l){if(c){const e=c[t]-l[t];i[r]=0!==e?(c[n]-l[n])/e:0}s[r]=o?c?I(i[r-1])!==I(i[r])?0:(i[r-1]+i[r])/2:i[r-1]:i[r]}!function(e,t,n){const a=e.length;let i,s,r,o,l,c=Ht(e,0);for(let d=0;d<a-1;++d)l=c,c=Ht(e,d+1),l&&c&&(z(t[d],0,Vt)?n[d]=n[d+1]=0:(i=n[d]/t[d],s=n[d+1]/t[d],o=Math.pow(i,2)+Math.pow(s,2),o<=9||(r=3/Math.sqrt(o),n[d]=i*r*t[d],n[d+1]=s*r*t[d])))}(e,i,s),function(e,t,n="x"){const a=Wt(n),i=e.length;let s,r,o,l=Ht(e,0);for(let c=0;c<i;++c){if(r=o,o=l,l=Ht(e,c+1),!o)continue;const i=o[n],d=o[a];r&&(s=(i-r[n])/3,o[`cp1${n}`]=i-s,o[`cp1${a}`]=d-s*t[c]),l&&(s=(l[n]-i)/3,o[`cp2${n}`]=i+s,o[`cp2${a}`]=d+s*t[c])}}(e,s,t)}function Kt(e,t,n){return Math.max(Math.min(e,n),t)}function Qt(e,t,n,a,i){let s,r,o,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)Yt(e,i);else{let n=a?e[e.length-1]:e[0];for(s=0,r=e.length;s<r;++s)o=e[s],l=Gt(n,o,e[Math.min(s+1,r-(a?0:1))%r],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,n=o}t.capBezierPoints&&function(e,t){let n,a,i,s,r,o=xt(e[0],t);for(n=0,a=e.length;n<a;++n)r=s,s=o,o=n<a-1&&xt(e[n+1],t),s&&(i=e[n],r&&(i.cp1x=Kt(i.cp1x,t.left,t.right),i.cp1y=Kt(i.cp1y,t.top,t.bottom)),o&&(i.cp2x=Kt(i.cp2x,t.left,t.right),i.cp2y=Kt(i.cp2y,t.top,t.bottom)))}(e,n)}const Xt=e=>0===e||1===e,Zt=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*T/n),Jt=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*T/n)+1,en={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*D),easeOutSine:e=>Math.sin(e*D),easeInOutSine:e=>-.5*(Math.cos(A*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Xt(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Xt(e)?e:Zt(e,.075,.3),easeOutElastic:e=>Xt(e)?e:Jt(e,.075,.3),easeInOutElastic(e){const t=.1125;return Xt(e)?e:e<.5?.5*Zt(2*e,t,.45):.5+.5*Jt(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-en.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*en.easeInBounce(2*e):.5*en.easeOutBounce(2*e-1)+.5};function tn(e,t,n,a){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function nn(e,t,n,a){return{x:e.x+n*(t.x-e.x),y:"middle"===a?n<.5?e.y:t.y:"after"===a?n<1?e.y:t.y:n>0?t.y:e.y}}function an(e,t,n,a){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},r=tn(e,i,n),o=tn(i,s,n),l=tn(s,t,n),c=tn(r,o,n),d=tn(o,l,n);return tn(c,d,n)}const sn=new Map;function rn(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let a=sn.get(n);return a||(a=new Intl.NumberFormat(e,t),sn.set(n,a)),a}(t,n).format(e)}const on=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),ln=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function cn(e,t){const n=(""+e).match(on);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}function dn(e,t){const n={},a=i(t),s=a?Object.keys(t):t,r=i(e)?a?n=>o(e[n],e[t[n]]):t=>e[t]:()=>e;for(const e of s)n[e]=+r(e)||0;return n}function un(e){return dn(e,{top:"y",right:"x",bottom:"y",left:"x"})}function pn(e){return dn(e,["topLeft","topRight","bottomLeft","bottomRight"])}function fn(e){const t=un(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function hn(e,t){e=e||{},t=t||tt.font;let n=o(e.size,t.size);"string"==typeof n&&(n=parseInt(n,10));let a=o(e.style,t.style);a&&!(""+a).match(ln)&&(console.warn('Invalid font style specified: "'+a+'"'),a="");const i={family:o(e.family,t.family),lineHeight:cn(o(e.lineHeight,t.lineHeight),n),size:n,style:a,weight:o(e.weight,t.weight),string:""};return i.string=gt(i),i}function gn(e,t,n,i){let s,r,o,l=!0;for(s=0,r=e.length;s<r;++s)if(o=e[s],void 0!==o&&(void 0!==t&&"function"==typeof o&&(o=o(t),l=!1),void 0!==n&&a(o)&&(o=o[n%o.length],l=!1),void 0!==o))return i&&!l&&(i.cacheable=!1),o}function mn(e,t,n){const{min:a,max:i}=e,s=c(t,(i-a)/2),r=(e,t)=>n&&0===e?0:e+t;return{min:r(a,-Math.abs(s)),max:r(i,s)}}function vn(e,t){return Object.assign(Object.create(e),t)}function bn(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function wn(e,t){let n,a;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,a=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=a)}function yn(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function _n(e){return"angle"===e?{between:Q,compare:Y,normalize:K}:{between:J,compare:(e,t)=>e-t,normalize:e=>e}}function xn({start:e,end:t,count:n,loop:a,style:i}){return{start:e%n,end:t%n,loop:a&&(t-e+1)%n==0,style:i}}function $n(e,t,n){if(!n)return[e];const{property:a,start:i,end:s}=n,r=t.length,{compare:o,between:l,normalize:c}=_n(a),{start:d,end:u,loop:p,style:f}=function(e,t,n){const{property:a,start:i,end:s}=n,{between:r,normalize:o}=_n(a),l=t.length;let c,d,{start:u,end:p,loop:f}=e;if(f){for(u+=l,p+=l,c=0,d=l;c<d&&r(o(t[u%l][a]),i,s);++c)u--,p--;u%=l,p%=l}return p<u&&(p+=l),{start:u,end:p,loop:f,style:e.style}}(e,t,n),h=[];let g,m,v,b=!1,w=null;for(let e=d,n=d;e<=u;++e)m=t[e%r],m.skip||(g=c(m[a]),g!==v&&(b=l(g,i,s),null===w&&(b||l(i,v,g)&&0!==o(i,v))&&(w=0===o(g,i)?e:n),null!==w&&(!b||0===o(s,g)||l(s,v,g))&&(h.push(xn({start:w,end:e,loop:p,count:r,style:f})),w=null),n=e,v=g));return null!==w&&h.push(xn({start:w,end:u,loop:p,count:r,style:f})),h}function kn(e,t){const n=[],a=e.segments;for(let i=0;i<a.length;i++){const s=$n(a[i],e.points,t);s.length&&n.push(...s)}return n}function Sn(e,t){const n=e.points,a=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:r,end:o}=function(e,t,n,a){let i=0,s=t-1;if(n&&!a)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}(n,i,s,a);return Cn(e,!0===a?[{start:r,end:o,loop:s}]:function(e,t,n,a){const i=e.length,s=[];let r,o=t,l=e[t];for(r=t+1;r<=n;++r){const n=e[r%i];n.skip||n.stop?l.skip||(a=!1,s.push({start:t%i,end:(r-1)%i,loop:a}),t=o=n.stop?r:null):(o=r,l.skip&&(t=r)),l=n}return null!==o&&s.push({start:t%i,end:o%i,loop:a}),s}(n,r,o<r?o+i:o,!!e._fullLoop&&0===r&&o===i-1),n,t)}function Cn(e,t,n,a){return a&&a.setContext&&n?function(e,t,n,a){const i=e._chart.getContext(),s=An(e.options),{_datasetIndex:r,options:{spanGaps:o}}=e,l=n.length,c=[];let d=s,u=t[0].start,p=u;function f(e,t,a,i){const s=o?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=s;for(;n[t%l].skip;)t+=s;e%l!=t%l&&(c.push({start:e%l,end:t%l,loop:a,style:i}),d=i,u=t%l)}}for(const e of t){u=o?u:e.start;let t,s=n[u%l];for(p=u+1;p<=e.end;p++){const o=n[p%l];t=An(a.setContext(vn(i,{type:"segment",p0:s,p1:o,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:r}))),Tn(t,d)&&f(u,p-1,e.loop,d),s=o,d=t}u<p-1&&f(u,p-1,e.loop,d)}return c}(e,t,n,a):t}function An(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Tn(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}var Mn=Object.freeze({__proto__:null,easingEffects:en,isPatternOrGradient:Ye,color:Ke,getHoverColor:Qe,noop:e,uid:t,isNullOrUndef:n,isArray:a,isObject:i,isFinite:s,finiteOrDefault:r,valueOrDefault:o,toPercentage:l,toDimension:c,callback:d,each:u,_elementsEqual:p,clone:f,_merger:g,merge:m,mergeIf:v,_mergerIf:b,_deprecated:function(e,t,n,a){void 0!==t&&console.warn(e+': "'+n+'" is deprecated. Please use "'+a+'" instead')},resolveObjectKey:y,_splitKey:_,_capitalize:x,defined:$,isFunction:k,setsEqual:S,_isClickEvent:C,toFontString:gt,_measureText:mt,_longestText:vt,_alignPixel:bt,clearCanvas:wt,drawPoint:yt,drawPointLegend:_t,_isPointInArea:xt,clipArea:$t,unclipArea:kt,_steppedLineTo:St,_bezierCurveTo:Ct,renderText:At,addRoundedRectPath:Mt,_lookup:ee,_lookupByKey:te,_rlookupByKey:ne,_filterBetween:ae,listenArrayEvents:se,unlistenArrayEvents:re,_arrayUnique:oe,_createResolver:Pt,_attachContext:Et,_descriptors:Dt,_parseObjectDataRadialScale:Bt,splineCurve:Gt,splineCurveMonotone:Yt,_updateBezierControlPoints:Qt,_isDomSupported:nt,_getParentNode:at,getStyle:rt,getRelativePosition:ct,getMaximumSize:ut,retinaScale:pt,supportsEventListenerOptions:ft,readUsedSize:ht,fontString:function(e,t,n){return t+" "+e+"px "+n},requestAnimFrame:le,throttled:ce,debounce:de,_toLeftRightCenter:ue,_alignStartEnd:pe,_textX:fe,_getStartAndCountOfVisiblePoints:he,_scaleRangesChanged:ge,_pointInLine:tn,_steppedInterpolation:nn,_bezierInterpolation:an,formatNumber:rn,toLineHeight:cn,_readValueToProps:dn,toTRBL:un,toTRBLCorners:pn,toPadding:fn,toFont:hn,resolve:gn,_addGrace:mn,createContext:vn,PI:A,TAU:T,PITAU:M,INFINITY:P,RAD_PER_DEG:E,HALF_PI:D,QUARTER_PI:O,TWO_THIRDS_PI:R,log10:L,sign:I,niceNum:F,_factorize:U,isNumber:q,almostEquals:z,almostWhole:N,_setMinAndMaxByKey:j,toRadians:B,toDegrees:V,_decimalPlaces:H,getAngleFromPoint:W,distanceBetweenPoints:G,_angleDiff:Y,_normalizeAngle:K,_angleBetween:Q,_limitValue:X,_int16Range:Z,_isBetween:J,getRtlAdapter:bn,overrideTextDirection:wn,restoreTextDirection:yn,_boundSegment:$n,_boundSegments:kn,_computeSegments:Sn});function Pn(e,t,n,a){const{controller:i,data:s,_sorted:r}=e,o=i._cachedMeta.iScale;if(o&&t===o.axis&&"r"!==t&&r&&s.length){const e=o._reversePixels?ne:te;if(!a)return e(s,t,n);if(i._sharedOptions){const a=s[0],i="function"==typeof a.getRange&&a.getRange(t);if(i){const a=e(s,t,n-i),r=e(s,t,n+i);return{lo:a.lo,hi:r.hi}}}}return{lo:0,hi:s.length-1}}function En(e,t,n,a,i){const s=e.getSortedVisibleDatasetMetas(),r=n[t];for(let e=0,n=s.length;e<n;++e){const{index:n,data:o}=s[e],{lo:l,hi:c}=Pn(s[e],t,r,i);for(let e=l;e<=c;++e){const t=o[e];t.skip||a(t,n,e)}}}function Dn(e,t,n,a,i){const s=[];return i||e.isPointInArea(t)?(En(e,n,t,(function(n,r,o){(i||xt(n,e.chartArea,0))&&n.inRange(t.x,t.y,a)&&s.push({element:n,datasetIndex:r,index:o})}),!0),s):s}function On(e,t,n,a,i,s){return s||e.isPointInArea(t)?"r"!==n||a?function(e,t,n,a,i,s){let r=[];const o=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,a){const i=t?Math.abs(e.x-a.x):0,s=n?Math.abs(e.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return En(e,n,t,(function(n,c,d){const u=n.inRange(t.x,t.y,i);if(a&&!u)return;const p=n.getCenterPoint(i);if(!s&&!e.isPointInArea(p)&&!u)return;const f=o(t,p);f<l?(r=[{element:n,datasetIndex:c,index:d}],l=f):f===l&&r.push({element:n,datasetIndex:c,index:d})})),r}(e,t,n,a,i,s):function(e,t,n,a){let i=[];return En(e,n,t,(function(e,n,s){const{startAngle:r,endAngle:o}=e.getProps(["startAngle","endAngle"],a),{angle:l}=W(e,{x:t.x,y:t.y});Q(l,r,o)&&i.push({element:e,datasetIndex:n,index:s})})),i}(e,t,n,i):[]}function Rn(e,t,n,a,i){const s=[],r="x"===n?"inXRange":"inYRange";let o=!1;return En(e,n,t,((e,a,l)=>{e[r](t[n],i)&&(s.push({element:e,datasetIndex:a,index:l}),o=o||e.inRange(t.x,t.y,i))})),a&&!o?[]:s}var Ln={evaluateInteractionItems:En,modes:{index(e,t,n,a){const i=ct(t,e),s=n.axis||"x",r=n.includeInvisible||!1,o=n.intersect?Dn(e,i,s,a,r):On(e,i,s,!1,a,r),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=o[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,a){const i=ct(t,e),s=n.axis||"xy",r=n.includeInvisible||!1;let o=n.intersect?Dn(e,i,s,a,r):On(e,i,s,!1,a,r);if(o.length>0){const t=o[0].datasetIndex,n=e.getDatasetMeta(t).data;o=[];for(let e=0;e<n.length;++e)o.push({element:n[e],datasetIndex:t,index:e})}return o},point:(e,t,n,a)=>Dn(e,ct(t,e),n.axis||"xy",a,n.includeInvisible||!1),nearest(e,t,n,a){const i=ct(t,e),s=n.axis||"xy",r=n.includeInvisible||!1;return On(e,i,s,n.intersect,a,r)},x:(e,t,n,a)=>Rn(e,ct(t,e),"x",n.intersect,a),y:(e,t,n,a)=>Rn(e,ct(t,e),"y",n.intersect,a)}};const In=["left","top","right","bottom"];function Fn(e,t){return e.filter((e=>e.pos===t))}function Un(e,t){return e.filter((e=>-1===In.indexOf(e.pos)&&e.box.axis===t))}function qn(e,t){return e.sort(((e,n)=>{const a=t?n:e,i=t?e:n;return a.weight===i.weight?a.index-i.index:a.weight-i.weight}))}function zn(e,t,n,a){return Math.max(e[n],t[n])+Math.max(e[a],t[a])}function Nn(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function jn(e,t,n,a){const{pos:s,box:r}=n,o=e.maxPadding;if(!i(s)){n.size&&(e[s]-=n.size);const t=a[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?r.height:r.width),n.size=t.size/t.count,e[s]+=n.size}r.getPadding&&Nn(o,r.getPadding());const l=Math.max(0,t.outerWidth-zn(o,e,"left","right")),c=Math.max(0,t.outerHeight-zn(o,e,"top","bottom")),d=l!==e.w,u=c!==e.h;return e.w=l,e.h=c,n.horizontal?{same:d,other:u}:{same:u,other:d}}function Bn(e,t){const n=t.maxPadding;return function(e){const a={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{a[e]=Math.max(t[e],n[e])})),a}(e?["left","right"]:["top","bottom"])}function Vn(e,t,n,a){const i=[];let s,r,o,l,c,d;for(s=0,r=e.length,c=0;s<r;++s){o=e[s],l=o.box,l.update(o.width||t.w,o.height||t.h,Bn(o.horizontal,t));const{same:r,other:u}=jn(t,n,o,a);c|=r&&i.length,d=d||u,l.fullSize||i.push(o)}return c&&Vn(i,t,n,a)||d}function Hn(e,t,n,a,i){e.top=n,e.left=t,e.right=t+a,e.bottom=n+i,e.width=a,e.height=i}function Wn(e,t,n,a){const i=n.padding;let{x:s,y:r}=t;for(const o of e){const e=o.box,l=a[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const a=t.w*c,s=l.size||e.height;$(l.start)&&(r=l.start),e.fullSize?Hn(e,i.left,r,n.outerWidth-i.right-i.left,s):Hn(e,t.left+l.placed,r,a,s),l.start=r,l.placed+=a,r=e.bottom}else{const a=t.h*c,r=l.size||e.width;$(l.start)&&(s=l.start),e.fullSize?Hn(e,s,i.top,r,n.outerHeight-i.bottom-i.top):Hn(e,s,t.top+l.placed,r,a),l.start=s,l.placed+=a,s=e.right}}t.x=s,t.y=r}tt.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Gn={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,a){if(!e)return;const i=fn(e.options.layout.padding),s=Math.max(t-i.width,0),r=Math.max(n-i.height,0),o=function(e){const t=function(e){const t=[];let n,a,i,s,r,o;for(n=0,a=(e||[]).length;n<a;++n)i=e[n],({position:s,options:{stack:r,stackWeight:o=1}}=i),t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:r&&s+r,stackWeight:o});return t}(e),n=qn(t.filter((e=>e.box.fullSize)),!0),a=qn(Fn(t,"left"),!0),i=qn(Fn(t,"right")),s=qn(Fn(t,"top"),!0),r=qn(Fn(t,"bottom")),o=Un(t,"x"),l=Un(t,"y");return{fullSize:n,leftAndTop:a.concat(s),rightAndBottom:i.concat(l).concat(r).concat(o),chartArea:Fn(t,"chartArea"),vertical:a.concat(i).concat(l),horizontal:s.concat(r).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;u(e.boxes,(e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()}));const d=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,p=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:r,vBoxMaxWidth:s/2/d,hBoxMaxHeight:r/2}),f=Object.assign({},i);Nn(f,fn(a));const h=Object.assign({maxPadding:f,w:s,h:r,x:i.left,y:i.top},i),g=function(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:a,stackWeight:i}=n;if(!e||!In.includes(a))continue;const s=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=i}return t}(e),{vBoxMaxWidth:a,hBoxMaxHeight:i}=t;let s,r,o;for(s=0,r=e.length;s<r;++s){o=e[s];const{fullSize:r}=o.box,l=n[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*a:r&&t.availableWidth,o.height=i):(o.width=a,o.height=c?c*i:r&&t.availableHeight)}return n}(l.concat(c),p);Vn(o.fullSize,h,p,g),Vn(l,h,p,g),Vn(c,h,p,g)&&Vn(l,h,p,g),function(e){const t=e.maxPadding;function n(n){const a=Math.max(t[n]-e[n],0);return e[n]+=a,a}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(h),Wn(o.leftAndTop,h,p,g),h.x+=h.w,h.y+=h.h,Wn(o.rightAndBottom,h,p,g),e.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},u(o.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})}))}};class Yn{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,a){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,a?Math.floor(t/a):n)}}isAttached(e){return!0}updateConfig(e){}}class Kn extends Yn{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Qn={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Xn=e=>null===e||""===e,Zn=!!ft&&{passive:!0};function Jn(e,t,n){e.canvas.removeEventListener(t,n,Zn)}function ea(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function ta(e,t,n){const a=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||ea(n.addedNodes,a),t=t&&!ea(n.removedNodes,a);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function na(e,t,n){const a=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||ea(n.removedNodes,a),t=t&&!ea(n.addedNodes,a);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const aa=new Map;let ia=0;function sa(){const e=window.devicePixelRatio;e!==ia&&(ia=e,aa.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function ra(e,t,n){const a=e.canvas,i=a&&at(a);if(!i)return;const s=ce(((e,t)=>{const a=i.clientWidth;n(e,t),a<i.clientWidth&&n()}),window),r=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,a=t.contentRect.height;0===n&&0===a||s(n,a)}));return r.observe(i),function(e,t){aa.size||window.addEventListener("resize",sa),aa.set(e,t)}(e,s),r}function oa(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){aa.delete(e),aa.size||window.removeEventListener("resize",sa)}(e)}function la(e,t,n){const a=e.canvas,i=ce((t=>{null!==e.ctx&&n(function(e,t){const n=Qn[e.type]||e.type,{x:a,y:i}=ct(e,t);return{type:n,chart:t,native:e,x:void 0!==a?a:null,y:void 0!==i?i:null}}(t,e))}),e,(e=>{const t=e[0];return[t,t.offsetX,t.offsetY]}));return function(e,t,n){e.addEventListener(t,n,Zn)}(a,t,i),i}class ca extends Yn{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,a=e.getAttribute("height"),i=e.getAttribute("width");if(e.$chartjs={initial:{height:a,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Xn(i)){const t=ht(e,"width");void 0!==t&&(e.width=t)}if(Xn(a))if(""===e.style.height)e.height=e.width/(t||2);else{const t=ht(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t.$chartjs)return!1;const a=t.$chartjs.initial;["height","width"].forEach((e=>{const i=a[e];n(i)?t.removeAttribute(e):t.setAttribute(e,i)}));const i=a.style||{};return Object.keys(i).forEach((e=>{t.style[e]=i[e]})),t.width=t.width,delete t.$chartjs,!0}addEventListener(e,t,n){this.removeEventListener(e,t);const a=e.$proxies||(e.$proxies={}),i={attach:ta,detach:na,resize:ra}[t]||la;a[t]=i(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),a=n[t];a&&(({attach:oa,detach:oa,resize:oa}[t]||Jn)(e,t,a),n[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,a){return ut(e,t,n,a)}isAttached(e){const t=at(e);return!(!t||!t.isConnected)}}function da(e){return!nt()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Kn:ca}var ua=Object.freeze({__proto__:null,_detectPlatform:da,BasePlatform:Yn,BasicPlatform:Kn,DomPlatform:ca});const pa="transparent",fa={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const a=Ke(e||pa),i=a.valid&&Ke(t||pa);return i&&i.valid?i.mix(a,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class ha{constructor(e,t,n,a){const i=t[n];a=gn([e.to,a,i,e.from]);const s=gn([e.from,i,a]);this._active=!0,this._fn=e.fn||fa[e.type||typeof s],this._easing=en[e.easing]||en.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=a,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const a=this._target[this._prop],i=n-this._start,s=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=gn([e.to,t,a,e.from]),this._from=gn([e.from,a,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,a=this._prop,i=this._from,s=this._loop,r=this._to;let o;if(this._active=i!==r&&(s||t<n),!this._active)return this._target[a]=r,void this._notify(!0);t<0?this._target[a]=i:(o=t/n%2,o=s&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[a]=this._fn(i,r,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let e=0;e<n.length;e++)n[e][t]()}}tt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const ga=Object.keys(tt.animation);tt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),tt.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),tt.describe("animations",{_fallback:"animation"}),tt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}});class ma{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!i(e))return;const t=this._properties;Object.getOwnPropertyNames(e).forEach((n=>{const s=e[n];if(!i(s))return;const r={};for(const e of ga)r[e]=s[e];(a(s.properties)&&s.properties||[n]).forEach((e=>{e!==n&&t.has(e)||t.set(e,r)}))}))}_animateOptions(e,t){const n=t.options,a=function(e,t){if(!t)return;let n=e.options;if(n)return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n;e.options=t}(e,n);if(!a)return[];const i=this._createAnimations(a,n);return n.$shared&&function(e,t){const n=[],a=Object.keys(t);for(let t=0;t<a.length;t++){const i=e[a[t]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),i}_createAnimations(e,t){const n=this._properties,a=[],i=e.$animations||(e.$animations={}),s=Object.keys(t),r=Date.now();let o;for(o=s.length-1;o>=0;--o){const l=s[o];if("$"===l.charAt(0))continue;if("options"===l){a.push(...this._animateOptions(e,t));continue}const c=t[l];let d=i[l];const u=n.get(l);if(d){if(u&&d.active()){d.update(u,c,r);continue}d.cancel()}u&&u.duration?(i[l]=d=new ha(u,e,l,c),a.push(d)):e[l]=c}return a}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(me.add(this._chart,n),!0):void 0}}function va(e,t){const n=e&&e.options||{},a=n.reverse,i=void 0===n.min?t:0,s=void 0===n.max?t:0;return{start:a?s:i,end:a?i:s}}function ba(e,t){const n=[],a=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=a.length;i<s;++i)n.push(a[i].index);return n}function wa(e,t,n,a={}){const i=e.keys,r="single"===a.mode;let o,l,c,d;if(null!==t){for(o=0,l=i.length;o<l;++o){if(c=+i[o],c===n){if(a.all)continue;break}d=e.values[c],s(d)&&(r||0===t||I(t)===I(d))&&(t+=d)}return t}}function ya(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function _a(e,t,n){const a=e[t]||(e[t]={});return a[n]||(a[n]={})}function xa(e,t,n,a){for(const i of t.getMatchingVisibleMetas(a).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function $a(e,t){const{chart:n,_cachedMeta:a}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:r,index:o}=a,l=s.axis,c=r.axis,d=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(s,r,a),u=t.length;let p;for(let e=0;e<u;++e){const n=t[e],{[l]:s,[c]:u}=n;p=(n._stacks||(n._stacks={}))[c]=_a(i,d,s),p[o]=u,p._top=xa(p,r,!0,a.type),p._bottom=xa(p,r,!1,a.type)}}function ka(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function Sa(e,t){const n=e.controller.index,a=e.vScale&&e.vScale.axis;if(a){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[a]||void 0===t[a][n])return;delete t[a][n]}}}const Ca=e=>"reset"===e||"none"===e,Aa=(e,t)=>t?e:Object.assign({},e);class Ta{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ya(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&Sa(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),a=(e,t,n,a)=>"x"===e?t:"r"===e?a:n,i=t.xAxisID=o(n.xAxisID,ka(e,"x")),s=t.yAxisID=o(n.yAxisID,ka(e,"y")),r=t.rAxisID=o(n.rAxisID,ka(e,"r")),l=t.indexAxis,c=t.iAxisID=a(l,i,s,r),d=t.vAxisID=a(l,s,i,r);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(r),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&re(this._data,this),e._stacked&&Sa(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(i(t))this._data=function(e){const t=Object.keys(e),n=new Array(t.length);let a,i,s;for(a=0,i=t.length;a<i;++a)s=t[a],n[a]={x:s,y:e[s]};return n}(t);else if(n!==t){if(n){re(n,this);const e=this._cachedMeta;Sa(e),e._parsed=[]}t&&Object.isExtensible(t)&&se(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const i=t._stacked;t._stacked=ya(t.vScale,t),t.stack!==n.stack&&(a=!0,Sa(t),t.stack=n.stack),this._resyncElements(e),(a||i!==t._stacked)&&$a(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:s}=this,{iScale:r,_stacked:o}=n,l=r.axis;let c,d,u,p=0===e&&t===s.length||n._sorted,f=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=s,n._sorted=!0,u=s;else{u=a(s[e])?this.parseArrayData(n,s,e,t):i(s[e])?this.parseObjectData(n,s,e,t):this.parsePrimitiveData(n,s,e,t);const r=()=>null===d[l]||f&&d[l]<f[l];for(c=0;c<t;++c)n._parsed[c+e]=d=u[c],p&&(r()&&(p=!1),f=d);n._sorted=p}o&&$a(this,u)}parsePrimitiveData(e,t,n,a){const{iScale:i,vScale:s}=e,r=i.axis,o=s.axis,l=i.getLabels(),c=i===s,d=new Array(a);let u,p,f;for(u=0,p=a;u<p;++u)f=u+n,d[u]={[r]:c||i.parse(l[f],f),[o]:s.parse(t[f],f)};return d}parseArrayData(e,t,n,a){const{xScale:i,yScale:s}=e,r=new Array(a);let o,l,c,d;for(o=0,l=a;o<l;++o)c=o+n,d=t[c],r[o]={x:i.parse(d[0],c),y:s.parse(d[1],c)};return r}parseObjectData(e,t,n,a){const{xScale:i,yScale:s}=e,{xAxisKey:r="x",yAxisKey:o="y"}=this._parsing,l=new Array(a);let c,d,u,p;for(c=0,d=a;c<d;++c)u=c+n,p=t[u],l[c]={x:i.parse(y(p,r),u),y:s.parse(y(p,o),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const a=this.chart,i=this._cachedMeta,s=t[e.axis];return wa({keys:ba(a,!0),values:t._stacks[e.axis]},s,i.index,{mode:n})}updateRangeFromParsed(e,t,n,a){const i=n[t.axis];let s=null===i?NaN:i;const r=a&&n._stacks[t.axis];a&&r&&(a.values=r,s=wa(a,i,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const n=this._cachedMeta,a=n._parsed,i=n._sorted&&e===n.iScale,r=a.length,o=this._getOtherScale(e),l=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:ba(n,!0),values:null})(t,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:u}=function(e){const{min:t,max:n,minDefined:a,maxDefined:i}=e.getUserBounds();return{min:a?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(o);let p,f;function h(){f=a[p];const t=f[o.axis];return!s(f[e.axis])||d>t||u<t}for(p=0;p<r&&(h()||(this.updateRangeFromParsed(c,e,f,l),!i));++p);if(i)for(p=r-1;p>=0;--p)if(!h()){this.updateRangeFromParsed(c,e,f,l);break}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let a,i,r;for(a=0,i=t.length;a<i;++a)r=t[a][e.axis],s(r)&&n.push(r);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,a=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,a,s;return i(e)?(t=e.top,n=e.right,a=e.bottom,s=e.left):t=n=a=s=e,{top:t,right:n,bottom:a,left:s,disabled:!1===e}}(o(this.options.clip,function(e,t,n){if(!1===n)return!1;const a=va(e,n),i=va(t,n);return{top:i.end,right:a.end,bottom:i.start,left:a.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,a=n.data||[],i=t.chartArea,s=[],r=this._drawStart||0,o=this._drawCount||a.length-r,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,i,r,o),c=r;c<r+o;++c){const t=a[c];t.hidden||(t.active&&l?s.push(t):t.draw(e,i))}for(c=0;c<s.length;++c)s[c].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const a=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,n){return vn(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=a.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return vn(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const a="active"===t,i=this._cachedDataOpts,s=e+"-"+t,r=i[s],o=this.enableOptionSharing&&$(n);if(r)return Aa(r,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=a?[`${e}Hover`,"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),p=Object.keys(tt.elements[e]),f=l.resolveNamedOptions(u,p,(()=>this.getContext(n,a)),d);return f.$shared&&(f.$shared=o,i[s]=Object.freeze(Aa(f,o))),f}_resolveAnimations(e,t,n){const a=this.chart,i=this._cachedDataOpts,s=`animation-${t}`,r=i[s];if(r)return r;let o;if(!1!==a.options.animation){const a=this.chart.config,i=a.datasetAnimationScopeKeys(this._type,t),s=a.getOptionScopes(this.getDataset(),i);o=a.createResolver(s,this.getContext(e,n,t))}const l=new ma(a,o&&o.animations);return o&&o._cacheable&&(i[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Ca(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),a=this._sharedOptions,i=this.getSharedOptions(n),s=this.includeOptions(t,i)||i!==a;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:s}}updateElement(e,t,n,a){Ca(a)?Object.assign(e,n):this._resolveAnimations(t,a).update(e,n)}updateSharedOptions(e,t,n){e&&!Ca(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,a){e.active=a;const i=this.getStyle(t,a);this._resolveAnimations(t,n,a).update(e,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[e,t,n]of this._syncList)this[e](t,n);this._syncList=[];const a=n.length,i=t.length,s=Math.min(i,a);s&&this.parse(0,s),i>a?this._insertElements(a,i-a,e):i<a&&this._removeElements(i,a-i)}_insertElements(e,t,n=!0){const a=this._cachedMeta,i=a.data,s=e+t;let r;const o=e=>{for(e.length+=t,r=e.length-1;r>=s;r--)e[r]=e[r-t]};for(o(i),r=e;r<s;++r)i[r]=new this.dataElementType;this._parsing&&o(a._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,a){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,t);n._stacked&&Sa(n,a)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,a]=e;this[t](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ta.defaults={},Ta.prototype.datasetElementType=null,Ta.prototype.dataElementType=null;class Ma{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return q(this.x)&&q(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const a={};return e.forEach((e=>{a[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),a}}Ma.defaults={},Ma.defaultRoutes=void 0;const Pa={values:e=>a(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const a=this.chart.options.locale;let i,s=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),s=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}(e,n)}const r=L(Math.abs(s)),o=Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),rn(e,a,l)},logarithmic(e,t,n){if(0===e)return"0";const a=e/Math.pow(10,Math.floor(L(e)));return 1===a||2===a||5===a?Pa.numeric.call(this,e,t,n):""}};var Ea={formatters:Pa};function Da(e,t){const a=e.options.ticks,i=a.maxTicksLimit||function(e){const t=e.options.offset,n=e._tickSize(),a=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(a,i))}(e),s=a.major.enabled?function(e){const t=[];let n,a;for(n=0,a=e.length;n<a;n++)e[n].major&&t.push(n);return t}(t):[],r=s.length,o=s[0],l=s[r-1],c=[];if(r>i)return function(e,t,n,a){let i,s=0,r=n[0];for(a=Math.ceil(a),i=0;i<e.length;i++)i===r&&(t.push(e[i]),s++,r=n[s*a])}(t,c,s,r/i),c;const d=function(e,t,n){const a=function(e){const t=e.length;let n,a;if(t<2)return!1;for(a=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==a)return!1;return a}(e),i=t.length/n;if(!a)return Math.max(i,1);const s=U(a);for(let e=0,t=s.length-1;e<t;e++){const t=s[e];if(t>i)return t}return Math.max(i,1)}(s,t,i);if(r>0){let e,a;const i=r>1?Math.round((l-o)/(r-1)):null;for(Oa(t,c,d,n(i)?0:o-i,o),e=0,a=r-1;e<a;e++)Oa(t,c,d,s[e],s[e+1]);return Oa(t,c,d,l,n(i)?t.length:l+i),c}return Oa(t,c,d),c}function Oa(e,t,n,a,i){const s=o(a,0),r=Math.min(o(i,e.length),e.length);let l,c,d,u=0;for(n=Math.ceil(n),i&&(l=i-a,n=l/Math.floor(l/n)),d=s;d<0;)u++,d=Math.round(s+u*n);for(c=Math.max(s,0);c<r;c++)c===d&&(t.push(e[c]),u++,d=Math.round(s+u*n))}tt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ea.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),tt.route("scale.ticks","color","","color"),tt.route("scale.grid","color","","borderColor"),tt.route("scale.grid","borderColor","","borderColor"),tt.route("scale.title","color","","color"),tt.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e}),tt.describe("scales",{_fallback:"scale"}),tt.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e});const Ra=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n;function La(e,t){const n=[],a=e.length/t,i=e.length;let s=0;for(;s<i;s+=a)n.push(e[Math.floor(s)]);return n}function Ia(e,t,n){const a=e.ticks.length,i=Math.min(t,a-1),s=e._startPixel,r=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(i);if(!(n&&(l=1===a?Math.max(c-s,r-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(i-1))/2,c+=i<t?l:-l,c<s-o||c>r+o)))return c}function Fa(e){return e.drawTicks?e.tickLength:0}function Ua(e,t){if(!e.display)return 0;const n=hn(e.font,t),i=fn(e.padding);return(a(e.text)?e.text.length:1)*n.lineHeight+i.height}function qa(e,t,n){let a=ue(e);return(n&&"right"!==t||!n&&"right"===t)&&(a=(e=>"left"===e?"right":"right"===e?"left":e)(a)),a}class za extends Ma{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:a}=this;return e=r(e,Number.POSITIVE_INFINITY),t=r(t,Number.NEGATIVE_INFINITY),n=r(n,Number.POSITIVE_INFINITY),a=r(a,Number.NEGATIVE_INFINITY),{min:r(e,n),max:r(t,a),minDefined:s(e),maxDefined:s(t)}}getMinMax(e){let t,{min:n,max:a,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:n,max:a};const o=this.getMatchingVisibleMetas();for(let r=0,l=o.length;r<l;++r)t=o[r].controller.getMinMax(this,e),i||(n=Math.min(n,t.min)),s||(a=Math.max(a,t.max));return n=s&&n>a?a:n,a=i&&n>a?n:a,{min:r(n,r(a,n)),max:r(a,r(n,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){d(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:a,grace:i,ticks:s}=this.options,r=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=mn(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=r<this.ticks.length;this._convertTicksToLabels(o?La(this.ticks,r):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=Da(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){d(this.options.afterUpdate,[this])}beforeSetDimensions(){d(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){d(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),d(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){d(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,a,i;for(n=0,a=e.length;n<a;n++)i=e[n],i.label=d(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){d(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){d(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=this.ticks.length,a=t.minRotation||0,i=t.maxRotation;let s,r,o,l=a;if(!this._isVisible()||!t.display||a>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=a);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,p=X(this.chart.width-d,0,this.maxWidth);s=e.offset?this.maxWidth/n:p/(n-1),d+6>s&&(s=p/(n-(e.offset?.5:1)),r=this.maxHeight-Fa(e.grid)-t.padding-Ua(e.title,this.chart.options.font),o=Math.sqrt(d*d+u*u),l=V(Math.min(Math.asin(X((c.highest.height+6)/s,-1,1)),Math.asin(X(r/o,-1,1))-Math.asin(X(u/o,-1,1)))),l=Math.max(a,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){d(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){d(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:a,grid:i}}=this,s=this._isVisible(),r=this.isHorizontal();if(s){const s=Ua(a,t.options.font);if(r?(e.width=this.maxWidth,e.height=Fa(i)+s):(e.height=this.maxHeight,e.width=Fa(i)+s),n.display&&this.ticks.length){const{first:t,last:a,widest:i,highest:s}=this._getLabelSizes(),o=2*n.padding,l=B(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(r){const t=n.mirror?0:d*i.width+c*s.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=n.mirror?0:c*i.width+d*s.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,a,d,c)}}this._handleMargins(),r?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,a){const{ticks:{align:i,padding:s},position:r}=this.options,o=0!==this.labelRotation,l="top"!==r&&"x"===this.axis;if(this.isHorizontal()){const r=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;o?l?(d=a*e.width,u=n*t.height):(d=n*e.height,u=a*t.width):"start"===i?u=t.width:"end"===i?d=e.width:"inner"!==i&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-r+s)*this.width/(this.width-r),0),this.paddingRight=Math.max((u-c+s)*this.width/(this.width-c),0)}else{let n=t.height/2,a=e.height/2;"start"===i?(n=0,a=e.height):"end"===i&&(n=t.height,a=0),this.paddingTop=n+s,this.paddingBottom=a+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){d(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,a;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,a=e.length;t<a;t++)n(e[t].label)&&(e.splice(t,1),a--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=La(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length)}return e}_computeLabelSizes(e,t){const{ctx:i,_longestTextCache:s}=this,r=[],o=[];let l,c,d,p,f,h,g,m,v,b,w,y=0,_=0;for(l=0;l<t;++l){if(p=e[l].label,f=this._resolveTickFontOptions(l),i.font=h=f.string,g=s[h]=s[h]||{data:{},gc:[]},m=f.lineHeight,v=b=0,n(p)||a(p)){if(a(p))for(c=0,d=p.length;c<d;++c)w=p[c],n(w)||a(w)||(v=mt(i,g.data,g.gc,v,w),b+=m)}else v=mt(i,g.data,g.gc,v,p),b=m;r.push(v),o.push(b),y=Math.max(v,y),_=Math.max(b,_)}!function(e,t){u(e,(e=>{const n=e.gc,a=n.length/2;let i;if(a>t){for(i=0;i<a;++i)delete e.data[n[i]];n.splice(0,a)}}))}(s,t);const x=r.indexOf(y),$=o.indexOf(_),k=e=>({width:r[e]||0,height:o[e]||0});return{first:k(0),last:k(t-1),widest:k(x),highest:k($),widths:r,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Z(this._alignToPixels?bt(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return vn(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=vn(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=B(this.labelRotation),n=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t)),i=this._getLabelSizes(),s=e.autoSkipPadding||0,r=i?i.widest.width+s:0,o=i?i.highest.height+s:0;return this.isHorizontal()?o*n>r*a?r/n:o/a:o*a<r*n?o/n:r/a}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,a=this.options,{grid:s,position:r}=a,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),u=Fa(s),p=[],f=s.setContext(this.getContext()),h=f.drawBorder?f.borderWidth:0,g=h/2,m=function(e){return bt(n,e,h)};let v,b,w,y,_,x,$,k,S,C,A,T;if("top"===r)v=m(this.bottom),x=this.bottom-u,k=v-g,C=m(e.top)+g,T=e.bottom;else if("bottom"===r)v=m(this.top),C=e.top,T=m(e.bottom)-g,x=v+g,k=this.top+u;else if("left"===r)v=m(this.right),_=this.right-u,$=v-g,S=m(e.left)+g,A=e.right;else if("right"===r)v=m(this.left),S=e.left,A=m(e.right)-g,_=v+g,$=this.left+u;else if("x"===t){if("center"===r)v=m((e.top+e.bottom)/2+.5);else if(i(r)){const e=Object.keys(r)[0],t=r[e];v=m(this.chart.scales[e].getPixelForValue(t))}C=e.top,T=e.bottom,x=v+g,k=x+u}else if("y"===t){if("center"===r)v=m((e.left+e.right)/2);else if(i(r)){const e=Object.keys(r)[0],t=r[e];v=m(this.chart.scales[e].getPixelForValue(t))}_=v-g,$=_-u,S=e.left,A=e.right}const M=o(a.ticks.maxTicksLimit,d),P=Math.max(1,Math.ceil(d/M));for(b=0;b<d;b+=P){const e=s.setContext(this.getContext(b)),t=e.lineWidth,a=e.color,i=e.borderDash||[],r=e.borderDashOffset,o=e.tickWidth,d=e.tickColor,u=e.tickBorderDash||[],f=e.tickBorderDashOffset;w=Ia(this,b,l),void 0!==w&&(y=bt(n,w,t),c?_=$=S=A=y:x=k=C=T=y,p.push({tx1:_,ty1:x,tx2:$,ty2:k,x1:S,y1:C,x2:A,y2:T,width:t,color:a,borderDash:i,borderDashOffset:r,tickWidth:o,tickColor:d,tickBorderDash:u,tickBorderDashOffset:f}))}return this._ticksLength=d,this._borderValue=v,p}_computeLabelItems(e){const t=this.axis,n=this.options,{position:s,ticks:r}=n,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:p}=r,f=Fa(n.grid),h=f+u,g=p?-u:h,m=-B(this.labelRotation),v=[];let b,w,y,_,x,$,k,S,C,A,T,M,P="middle";if("top"===s)$=this.bottom-g,k=this._getXAxisLabelAlignment();else if("bottom"===s)$=this.top+g,k=this._getXAxisLabelAlignment();else if("left"===s){const e=this._getYAxisLabelAlignment(f);k=e.textAlign,x=e.x}else if("right"===s){const e=this._getYAxisLabelAlignment(f);k=e.textAlign,x=e.x}else if("x"===t){if("center"===s)$=(e.top+e.bottom)/2+h;else if(i(s)){const e=Object.keys(s)[0],t=s[e];$=this.chart.scales[e].getPixelForValue(t)+h}k=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===s)x=(e.left+e.right)/2-h;else if(i(s)){const e=Object.keys(s)[0],t=s[e];x=this.chart.scales[e].getPixelForValue(t)}k=this._getYAxisLabelAlignment(f).textAlign}"y"===t&&("start"===c?P="top":"end"===c&&(P="bottom"));const E=this._getLabelSizes();for(b=0,w=l.length;b<w;++b){y=l[b],_=y.label;const e=r.setContext(this.getContext(b));S=this.getPixelForTick(b)+r.labelOffset,C=this._resolveTickFontOptions(b),A=C.lineHeight,T=a(_)?_.length:1;const t=T/2,n=e.color,i=e.textStrokeColor,c=e.textStrokeWidth;let u,f=k;if(o?(x=S,"inner"===k&&(f=b===w-1?this.options.reverse?"left":"right":0===b?this.options.reverse?"right":"left":"center"),M="top"===s?"near"===d||0!==m?-T*A+A/2:"center"===d?-E.highest.height/2-t*A+A:-E.highest.height+A/2:"near"===d||0!==m?A/2:"center"===d?E.highest.height/2-t*A:E.highest.height-T*A,p&&(M*=-1)):($=S,M=(1-T)*A/2),e.showLabelBackdrop){const t=fn(e.backdropPadding),n=E.heights[b],a=E.widths[b];let i=$+M-t.top,s=x-t.left;switch(P){case"middle":i-=n/2;break;case"bottom":i-=n}switch(k){case"center":s-=a/2;break;case"right":s-=a}u={left:s,top:i,width:a+t.width,height:n+t.height,color:e.backdropColor}}v.push({rotation:m,label:_,font:C,color:n,strokeColor:i,strokeWidth:c,textOffset:M,textAlign:f,textBaseline:P,translation:[x,$],backdrop:u})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-B(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:a,padding:i}}=this.options,s=e+i,r=this._getLabelSizes().widest.width;let o,l;return"left"===t?a?(l=this.right+i,"near"===n?o="left":"center"===n?(o="center",l+=r/2):(o="right",l+=r)):(l=this.right-s,"near"===n?o="right":"center"===n?(o="center",l-=r/2):(o="left",l=this.left)):"right"===t?a?(l=this.left+i,"near"===n?o="right":"center"===n?(o="center",l-=r/2):(o="left",l-=r)):(l=this.left+s,"near"===n?o="left":"center"===n?(o="center",l+=r/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:a,width:i,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,a,i,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));return n>=0?t.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,s;const r=(e,t,a)=>{a.width&&a.color&&(n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.setLineDash(a.borderDash||[]),n.lineDashOffset=a.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,s=a.length;i<s;++i){const e=a[i];t.drawOnChartArea&&r({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&r({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{grid:n}}=this,a=n.setContext(this.getContext()),i=n.drawBorder?a.borderWidth:0;if(!i)return;const s=n.setContext(this.getContext(0)).lineWidth,r=this._borderValue;let o,l,c,d;this.isHorizontal()?(o=bt(e,this.left,i)-i/2,l=bt(e,this.right,s)+s/2,c=d=r):(c=bt(e,this.top,i)-i/2,d=bt(e,this.bottom,s)+s/2,o=l=r),t.save(),t.lineWidth=a.borderWidth,t.strokeStyle=a.borderColor,t.beginPath(),t.moveTo(o,c),t.lineTo(l,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&$t(t,n);const a=this._labelItems||(this._labelItems=this._computeLabelItems(e));let i,s;for(i=0,s=a.length;i<s;++i){const e=a[i],n=e.font,s=e.label;e.backdrop&&(t.fillStyle=e.backdrop.color,t.fillRect(e.backdrop.left,e.backdrop.top,e.backdrop.width,e.backdrop.height)),At(t,s,0,e.textOffset,n,e)}n&&kt(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:s}}=this;if(!n.display)return;const r=hn(n.font),o=fn(n.padding),l=n.align;let c=r.lineHeight/2;"bottom"===t||"center"===t||i(t)?(c+=o.bottom,a(n.text)&&(c+=r.lineHeight*(n.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:p,rotation:f}=function(e,t,n,a){const{top:s,left:r,bottom:o,right:l,chart:c}=e,{chartArea:d,scales:u}=c;let p,f,h,g=0;const m=o-s,v=l-r;if(e.isHorizontal()){if(f=pe(a,r,l),i(n)){const e=Object.keys(n)[0],a=n[e];h=u[e].getPixelForValue(a)+m-t}else h="center"===n?(d.bottom+d.top)/2+m-t:Ra(e,n,t);p=l-r}else{if(i(n)){const e=Object.keys(n)[0],a=n[e];f=u[e].getPixelForValue(a)-v+t}else f="center"===n?(d.left+d.right)/2-v+t:Ra(e,n,t);h=pe(a,o,s),g="left"===n?-D:D}return{titleX:f,titleY:h,maxWidth:p,rotation:g}}(this,c,t,l);At(e,n.text,0,0,r,{color:n.color,maxWidth:p,rotation:f,textAlign:qa(l,t,s),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=o(e.grid&&e.grid.z,-1);return this._isVisible()&&this.draw===za.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n+1,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let i,s;for(i=0,s=t.length;i<s;++i){const s=t[i];s[n]!==this.id||e&&s.type!==e||a.push(s)}return a}_resolveTickFontOptions(e){return hn(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Na{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const a=this.items,i=e.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,function(e,t,n){const a=m(Object.create(null),[n?tt.get(n):{},tt.get(t),e.defaults]);tt.set(t,a),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const a=n.split("."),i=a.pop(),s=[e].concat(a).join("."),r=t[n].split("."),o=r.pop(),l=r.join(".");tt.route(s,i,l,o)}))}(t,e.defaultRoutes),e.descriptors&&tt.describe(t,e.descriptors)}(e,s,n),this.override&&tt.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,a=this.scope;n in t&&delete t[n],a&&n in tt[a]&&(delete tt[a][n],this.override&&delete Xe[n])}}var ja=new class{constructor(){this.controllers=new Na(Ta,"datasets",!0),this.elements=new Na(Ma,"elements"),this.plugins=new Na(Object,"plugins"),this.scales=new Na(za,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach((t=>{const a=n||this._getRegistryForType(t);n||a.isForType(t)||a===this.plugins&&t.id?this._exec(e,a,t):u(t,(t=>{const a=n||this._getRegistryForType(t);this._exec(e,a,t)}))}))}_exec(e,t,n){const a=x(e);d(n["before"+a],[],n),t[e](n),d(n["after"+a],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const a=t.get(e);if(void 0===a)throw new Error('"'+e+'" is not a registered '+n+".");return a}};class Ba{constructor(){this._init=[]}notify(e,t,n,a){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=a?this._descriptors(e).filter(a):this._descriptors(e),s=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,n,a){a=a||{};for(const i of e){const e=i.plugin;if(!1===d(e[n],[t,a,i.options],e)&&a.cancelable)return!1}return!0}invalidate(){n(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,a=o(n.options&&n.options.plugins,{}),i=function(e){const t={},n=[],a=Object.keys(ja.plugins.items);for(let e=0;e<a.length;e++)n.push(ja.getPlugin(a[e]));const i=e.plugins||[];for(let e=0;e<i.length;e++){const a=i[e];-1===n.indexOf(a)&&(n.push(a),t[a.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==a||t?function(e,{plugins:t,localIds:n},a,i){const s=[],r=e.getContext();for(const o of t){const t=o.id,l=Va(a[t],i);null!==l&&s.push({plugin:o,options:Ha(e.config,{plugin:o,local:n[t]},l,r)})}return s}(e,i,a,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,a=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(a(t,n),e,"stop"),this._notify(a(n,t),e,"start")}}function Va(e,t){return t||!1!==e?!0===e?{}:e:null}function Ha(e,{plugin:t,local:n},a,i){const s=e.pluginScopeKeys(t),r=e.getOptionScopes(a,s);return n&&t.defaults&&r.push(t.defaults),e.createResolver(r,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Wa(e,t){const n=tt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Ga(e,t){return"x"===e||"y"===e?e:t.axis||("top"===(n=t.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||e.charAt(0).toLowerCase();var n}function Ya(e){const t=e.options||(e.options={});t.plugins=o(t.plugins,{}),t.scales=function(e,t){const n=Xe[e.type]||{scales:{}},a=t.scales||{},s=Wa(e.type,t),r=Object.create(null),o=Object.create(null);return Object.keys(a).forEach((e=>{const t=a[e];if(!i(t))return console.error(`Invalid scale configuration for scale: ${e}`);if(t._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const l=Ga(e,t),c=function(e,t){return e===t?"_index_":"_value_"}(l,s),d=n.scales||{};r[l]=r[l]||e,o[e]=v(Object.create(null),[{axis:l},t,d[l],d[c]])})),e.data.datasets.forEach((n=>{const i=n.type||e.type,s=n.indexAxis||Wa(i,t),l=(Xe[i]||{}).scales||{};Object.keys(l).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,s),i=n[t+"AxisID"]||r[t]||t;o[i]=o[i]||Object.create(null),v(o[i],[{axis:t},a[i],l[e]])}))})),Object.keys(o).forEach((e=>{const t=o[e];v(t,[tt.scales[t.type],tt.scale])})),o}(e,t)}function Ka(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const Qa=new Map,Xa=new Set;function Za(e,t){let n=Qa.get(e);return n||(n=t(),Qa.set(e,n),Xa.add(n)),n}const Ja=(e,t,n)=>{const a=y(t,n);void 0!==a&&e.add(a)};class ei{constructor(e){this._config=function(e){return(e=e||{}).data=Ka(e.data),Ya(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Ka(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Ya(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Za(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return Za(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return Za(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return Za(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let a=n.get(e);return a&&!t||(a=new Map,n.set(e,a)),a}getOptionScopes(e,t,n){const{options:a,type:i}=this,s=this._cachedScopes(e,n),r=s.get(t);if(r)return r;const o=new Set;t.forEach((t=>{e&&(o.add(e),t.forEach((t=>Ja(o,e,t)))),t.forEach((e=>Ja(o,a,e))),t.forEach((e=>Ja(o,Xe[i]||{},e))),t.forEach((e=>Ja(o,tt,e))),t.forEach((e=>Ja(o,Ze,e)))}));const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),Xa.has(t)&&s.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,Xe[t]||{},tt.datasets[t]||{},{type:t},tt,Ze]}resolveNamedOptions(e,t,n,i=[""]){const s={$shared:!0},{resolver:r,subPrefixes:o}=ti(this._resolverCache,e,i);let l=r;(function(e,t){const{isScriptable:n,isIndexable:i}=Dt(e);for(const s of t){const t=n(s),r=i(s),o=(r||t)&&e[s];if(t&&(k(o)||ni(o))||r&&a(o))return!0}return!1})(r,t)&&(s.$shared=!1,l=Et(r,n=k(n)?n():n,this.createResolver(e,n,o)));for(const e of t)s[e]=l[e];return s}createResolver(e,t,n=[""],a){const{resolver:s}=ti(this._resolverCache,e,n);return i(t)?Et(s,t,void 0,a):s}}function ti(e,t,n){let a=e.get(t);a||(a=new Map,e.set(t,a));const i=n.join();let s=a.get(i);return s||(s={resolver:Pt(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},a.set(i,s)),s}const ni=e=>i(e)&&Object.getOwnPropertyNames(e).reduce(((t,n)=>t||k(e[n])),!1),ai=["top","bottom","left","right","chartArea"];function ii(e,t){return"top"===e||"bottom"===e||-1===ai.indexOf(e)&&"x"===t}function si(e,t){return function(n,a){return n[e]===a[e]?n[t]-a[t]:n[e]-a[e]}}function ri(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),d(n&&n.onComplete,[e],t)}function oi(e){const t=e.chart,n=t.options.animation;d(n&&n.onProgress,[e],t)}function li(e){return nt()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ci={},di=e=>{const t=li(e);return Object.values(ci).filter((e=>e.canvas===t)).pop()};function ui(e,t,n){const a=Object.keys(e);for(const i of a){const a=+i;if(a>=t){const s=e[i];delete e[i],(n>0||a>t)&&(e[a+n]=s)}}}class pi{constructor(e,n){const a=this.config=new ei(n),i=li(e),s=di(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const r=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||da(i)),this.platform.updateConfig(a);const o=this.platform.acquireContext(i,r.aspectRatio),l=o&&o.canvas,c=l&&l.height,d=l&&l.width;this.id=t(),this.ctx=o,this.canvas=l,this.width=d,this.height=c,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ba,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=de((e=>this.update(e)),r.resizeDelay||0),this._dataChanges=[],ci[this.id]=this,o&&l?(me.listen(this,"complete",ri),me.listen(this,"progress",oi),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:a,height:i,_aspectRatio:s}=this;return n(e)?t&&s?s:i?a/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():pt(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return wt(this.canvas,this.ctx),this}stop(){return me.stop(this),this}resize(e,t){me.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,a=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(a,e,t,i),r=n.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,pt(this,r,!0)&&(this.notifyPlugins("resize",{size:s}),d(n.onResize,[this,s],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){u(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,a=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let i=[];t&&(i=i.concat(Object.keys(t).map((e=>{const n=t[e],a=Ga(e,n),i="r"===a,s="x"===a;return{options:n,dposition:i?"chartArea":s?"bottom":"left",dtype:i?"radialLinear":s?"category":"linear"}})))),u(i,(t=>{const i=t.options,s=i.id,r=Ga(s,i),l=o(i.type,t.dtype);void 0!==i.position&&ii(i.position,r)===ii(t.dposition)||(i.position=t.dposition),a[s]=!0;let c=null;s in n&&n[s].type===l?c=n[s]:(c=new(ja.getScale(l))({id:s,type:l,ctx:this.ctx,chart:this}),n[c.id]=c),c.init(i,e)})),u(a,((e,t)=>{e||delete n[t]})),u(n,(e=>{Gn.configure(this,e,e.options),Gn.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(si("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=t.length;n<a;n++){const a=t[n];let i=this.getDatasetMeta(n);const s=a.type||this.config.type;if(i.type&&i.type!==s&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=s,i.indexAxis=a.indexAxis||Wa(s,this.options),i.order=a.order||0,i.index=n,i.label=""+a.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const t=ja.getController(s),{datasetElementType:a,dataElementType:r}=tt.datasets[s];Object.assign(t.prototype,{dataElementType:ja.getElement(r),datasetElementType:a&&ja.getElement(a)}),i.controller=new t(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){u(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let e=0,t=this.data.datasets.length;e<t;e++){const{controller:t}=this.getDatasetMeta(e),n=!a&&-1===i.indexOf(t);t.buildOrUpdateElements(n),s=Math.max(+t.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),a||u(i,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(si("z","_idx"));const{_active:r,_lastEvent:o}=this;o?this._eventHandler(o,!0):r.length&&this._updateHoverStyles(r,r,!0),this.render()}_updateScales(){u(this.scales,(e=>{Gn.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);S(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:i}of t)ui(e,a,"_removeElements"===n?-i:i)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),a=n(0);for(let e=1;e<t;e++)if(!S(a,n(e)))return;return Array.from(a).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Gn.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],u(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,k(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",a)&&(n.controller._update(t),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(me.has(this)?this.attached&&!me.running(this)&&me.start(this):(this.draw(),ri({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let a,i;for(a=0,i=t.length;a<i;++a){const i=t[a];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,a=!n.disabled,i=this.chartArea,s={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(a&&$t(t,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),e.controller.draw(),a&&kt(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return xt(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,a){const i=Ln.modes[t];return"function"==typeof i?i(this,e,n,a):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let a=n.filter((e=>e&&e._dataset===t)).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=vn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"==typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const a=n?"show":"hide",i=this.getDatasetMeta(e),s=i.controller._resolveAnimations(void 0,a);$(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(i,{visible:n}),this.update((t=>t.datasetIndex===e?a:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),me.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),wt(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete ci[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,a)=>{t.addEventListener(this,n,a),e[n]=a},a=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};u(this.options.events,(e=>n(e,a)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,a)=>{t.addEventListener(this,n,a),e[n]=a},a=(n,a)=>{e[n]&&(t.removeEventListener(this,n,a),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let s;const r=()=>{a("attach",r),this.attached=!0,this.resize(),n("resize",i),n("detach",s)};s=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),n("attach",r)},t.isAttached(this.canvas)?r():s()}unbindEvents(){u(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},u(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const a=n?"set":"remove";let i,s,r,o;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),r=0,o=e.length;r<o;++r){s=e[r];const t=s&&this.getDatasetMeta(s.datasetIndex).controller;t&&t[a+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((({datasetIndex:e,index:t})=>{const n=this.getDatasetMeta(e);if(!n)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:n.data[t],index:t}}));!p(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}_updateHoverStyles(e,t,n){const a=this.options.hover,i=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),s=i(t,e),r=n?e:i(e,t);s.length&&this.updateHoverStyle(s,a.mode,!1),r.length&&a.mode&&this.updateHoverStyle(r,a.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},a=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,a))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:a=[],options:i}=this,s=t,r=this._getActiveElements(e,a,n,s),o=C(e),l=function(e,t,n,a){return n&&"mouseout"!==e.type?a?t:e:null}(e,this._lastEvent,n,o);n&&(this._lastEvent=null,d(i.onHover,[e,r,this],this),o&&d(i.onClick,[e,r,this],this));const c=!p(r,a);return(c||t)&&(this._active=r,this._updateHoverStyles(r,a,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,a){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,a)}}const fi=()=>u(pi.instances,(e=>e._plugins.invalidate())),hi=!0;function gi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}Object.defineProperties(pi,{defaults:{enumerable:hi,value:tt},instances:{enumerable:hi,value:ci},overrides:{enumerable:hi,value:Xe},registry:{enumerable:hi,value:ja},version:{enumerable:hi,value:"3.9.1"},getChart:{enumerable:hi,value:di},register:{enumerable:hi,value:(...e)=>{ja.add(...e),fi()}},unregister:{enumerable:hi,value:(...e)=>{ja.remove(...e),fi()}}});class mi{constructor(e){this.options=e||{}}init(e){}formats(){return gi()}parse(e,t){return gi()}format(e,t){return gi()}add(e,t,n){return gi()}diff(e,t,n){return gi()}startOf(e,t,n){return gi()}endOf(e,t){return gi()}}mi.override=function(e){Object.assign(mi.prototype,e)};var vi={_date:mi};function bi(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let a=[];for(let t=0,i=n.length;t<i;t++)a=a.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=oe(a.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let a,i,s,r,o=t._length;const l=()=>{32767!==s&&-32768!==s&&($(r)&&(o=Math.min(o,Math.abs(s-r)||o)),r=s)};for(a=0,i=n.length;a<i;++a)s=t.getPixelForValue(n[a]),l();for(r=void 0,a=0,i=t.ticks.length;a<i;++a)s=t.getPixelForTick(a),l();return o}function wi(e,t,n,i){return a(e)?function(e,t,n,a){const i=n.parse(e[0],a),s=n.parse(e[1],a),r=Math.min(i,s),o=Math.max(i,s);let l=r,c=o;Math.abs(r)>Math.abs(o)&&(l=o,c=r),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:s,min:r,max:o}}(e,t,n,i):t[n.axis]=n.parse(e,i),t}function yi(e,t,n,a){const i=e.iScale,s=e.vScale,r=i.getLabels(),o=i===s,l=[];let c,d,u,p;for(c=n,d=n+a;c<d;++c)p=t[c],u={},u[i.axis]=o||i.parse(r[c],c),l.push(wi(p,u,s,c));return l}function _i(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function xi(e,t,n,a){let i=t.borderSkipped;const s={};if(!i)return void(e.borderSkipped=s);if(!0===i)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:r,end:o,reverse:l,top:c,bottom:d}=function(e){let t,n,a,i,s;return e.horizontal?(t=e.base>e.x,n="left",a="right"):(t=e.base<e.y,n="bottom",a="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:a,reverse:t,top:i,bottom:s}}(e);"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===a?i=c:(n._bottom||0)===a?i=d:(s[$i(d,r,o,l)]=!0,i=c)),s[$i(i,r,o,l)]=!0,e.borderSkipped=s}function $i(e,t,n,a){var i,s,r;return a?(r=n,e=ki(e=(i=e)===(s=t)?r:i===r?s:i,n,t)):e=ki(e,t,n),e}function ki(e,t,n){return"start"===e?t:"end"===e?n:e}function Si(e,{inflateAmount:t},n){e.inflateAmount="auto"===t?1===n?.33:0:t}class Ci extends Ta{parsePrimitiveData(e,t,n,a){return yi(e,t,n,a)}parseArrayData(e,t,n,a){return yi(e,t,n,a)}parseObjectData(e,t,n,a){const{iScale:i,vScale:s}=e,{xAxisKey:r="x",yAxisKey:o="y"}=this._parsing,l="x"===i.axis?r:o,c="x"===s.axis?r:o,d=[];let u,p,f,h;for(u=n,p=n+a;u<p;++u)h=t[u],f={},f[i.axis]=i.parse(y(h,l),u),d.push(wi(y(h,c),f,s,u));return d}updateRangeFromParsed(e,t,n,a){super.updateRangeFromParsed(e,t,n,a);const i=n._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:a}=t,i=this.getParsed(e),s=i._custom,r=_i(s)?"["+s.start+", "+s.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:r}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,a,i){const s="reset"===i,{index:r,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),d=this._getRuler(),{sharedOptions:u,includeOptions:p}=this._getSharedOptions(t,i);for(let f=t;f<t+a;f++){const t=this.getParsed(f),a=s||n(t[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),h=this._calculateBarIndexPixels(f,d),g=(t._stacks||{})[o.axis],m={horizontal:c,base:a.base,enableBorderRadius:!g||_i(t._custom)||r===g._top||r===g._bottom,x:c?a.head:h.center,y:c?h.center:a.head,height:c?h.size:Math.abs(a.size),width:c?Math.abs(a.size):h.size};p&&(m.options=u||this.resolveDataElementOptions(f,e[f].active?"active":i));const v=m.options||e[f].options;xi(m,v,g,r),Si(m,v,d.ratio),this.updateElement(e[f],f,m,i)}}_getStacks(e,t){const{iScale:a}=this._cachedMeta,i=a.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),s=a.options.stacked,r=[],o=e=>{const a=e.controller.getParsed(t),i=a&&a[e.vScale.axis];if(n(i)||isNaN(i))return!0};for(const n of i)if((void 0===t||!o(n))&&((!1===s||-1===r.indexOf(n.stack)||void 0===s&&void 0===n.stack)&&r.push(n.stack),n.index===e))break;return r.length||r.push(void 0),r}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const a=this._getStacks(e,n),i=void 0!==t?a.indexOf(t):-1;return-1===i?a.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,a=[];let i,s;for(i=0,s=t.data.length;i<s;++i)a.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const r=e.barThickness;return{min:r||bi(t),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:r?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:a},options:{base:i,minBarLength:s}}=this,r=i||0,o=this.getParsed(e),l=o._custom,c=_i(l);let d,u,p=o[t.axis],f=0,h=a?this.applyStack(t,o,a):p;h!==p&&(f=h-p,h=p),c&&(p=l.barStart,h=l.barEnd-l.barStart,0!==p&&I(p)!==I(l.barEnd)&&(f=0),f+=p);const g=n(i)||c?f:i;let m=t.getPixelForValue(g);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(f+h):m,u=d-m,Math.abs(u)<s){u=function(e,t,n){return 0!==e?I(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(u,t,r)*s,p===r&&(m-=u/2);const e=t.getPixelForDecimal(0),n=t.getPixelForDecimal(1),a=Math.min(e,n),i=Math.max(e,n);m=Math.max(Math.min(m,i),a),d=m+u}if(m===t.getPixelForValue(r)){const e=I(u)*t.getLineWidthForValue(r)/2;m+=e,u-=e}return{size:u,base:m,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const a=t.scale,i=this.options,s=i.skipNull,r=o(i.maxBarThickness,1/0);let l,c;if(t.grouped){const a=s?this._getStackCount(e):t.stackCount,o="flex"===i.barThickness?function(e,t,n,a){const i=t.pixels,s=i[e];let r=e>0?i[e-1]:null,o=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;null===r&&(r=s-(null===o?t.end-t.start:o-s)),null===o&&(o=s+s-r);const c=s-(s-Math.min(r,o))/2*l;return{chunk:Math.abs(o-r)/2*l/a,ratio:n.barPercentage,start:c}}(e,t,i,a):function(e,t,a,i){const s=a.barThickness;let r,o;return n(s)?(r=t.min*a.categoryPercentage,o=a.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:t.pixels[e]-r/2}}(e,t,i,a),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);l=o.start+o.chunk*d+o.chunk/2,c=Math.min(r,o.chunk*o.ratio)}else l=a.getPixelForValue(this.getParsed(e)[a.axis],e),c=Math.min(r,t.min*t.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,a=n.length;let i=0;for(;i<a;++i)null!==this.getParsed(i)[t.axis]&&n[i].draw(this._ctx)}}Ci.id="bar",Ci.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},Ci.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Ai extends Ta{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,a){const i=super.parsePrimitiveData(e,t,n,a);for(let e=0;e<i.length;e++)i[e]._custom=this.resolveDataElementOptions(e+n).radius;return i}parseArrayData(e,t,n,a){const i=super.parseArrayData(e,t,n,a);for(let e=0;e<i.length;e++){const a=t[n+e];i[e]._custom=o(a[2],this.resolveDataElementOptions(e+n).radius)}return i}parseObjectData(e,t,n,a){const i=super.parseObjectData(e,t,n,a);for(let e=0;e<i.length;e++){const a=t[n+e];i[e]._custom=o(a&&a.r&&+a.r,this.resolveDataElementOptions(e+n).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,{xScale:n,yScale:a}=t,i=this.getParsed(e),s=n.getLabelForValue(i.x),r=a.getLabelForValue(i.y),o=i._custom;return{label:t.label,value:"("+s+", "+r+(o?", "+o:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,a){const i="reset"===a,{iScale:s,vScale:r}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,a),c=s.axis,d=r.axis;for(let u=t;u<t+n;u++){const t=e[u],n=!i&&this.getParsed(u),p={},f=p[c]=i?s.getPixelForDecimal(.5):s.getPixelForValue(n[c]),h=p[d]=i?r.getBasePixel():r.getPixelForValue(n[d]);p.skip=isNaN(f)||isNaN(h),l&&(p.options=o||this.resolveDataElementOptions(u,t.active?"active":a),i&&(p.options.radius=0)),this.updateElement(t,u,p,a)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let a=super.resolveDataElementOptions(e,t);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const i=a.radius;return"active"!==t&&(a.radius=0),a.radius+=o(n&&n._custom,i),a}}Ai.id="bubble",Ai.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},Ai.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};class Ti extends Ta{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,a=this._cachedMeta;if(!1===this._parsing)a._parsed=n;else{let s,r,o=e=>+n[e];if(i(n[e])){const{key:e="value"}=this._parsing;o=t=>+y(n[t],e)}for(s=e,r=e+t;s<r;++s)a._parsed[s]=o(s)}}_getRotation(){return B(this.options.rotation-90)}_getCircumference(){return B(this.options.circumference)}_getRotationExtents(){let e=T,t=-T;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){const a=this.chart.getDatasetMeta(n).controller,i=a._getRotation(),s=a._getCircumference();e=Math.min(e,i),t=Math.max(t,i+s)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,a=this._cachedMeta,i=a.data,s=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,r=Math.max((Math.min(n.width,n.height)-s)/2,0),o=Math.min(l(this.options.cutout,r),1),d=this._getRingWeight(this.index),{circumference:u,rotation:p}=this._getRotationExtents(),{ratioX:f,ratioY:h,offsetX:g,offsetY:m}=function(e,t,n){let a=1,i=1,s=0,r=0;if(t<T){const o=e,l=o+t,c=Math.cos(o),d=Math.sin(o),u=Math.cos(l),p=Math.sin(l),f=(e,t,a)=>Q(e,o,l,!0)?1:Math.max(t,t*n,a,a*n),h=(e,t,a)=>Q(e,o,l,!0)?-1:Math.min(t,t*n,a,a*n),g=f(0,c,u),m=f(D,d,p),v=h(A,c,u),b=h(A+D,d,p);a=(g-v)/2,i=(m-b)/2,s=-(g+v)/2,r=-(m+b)/2}return{ratioX:a,ratioY:i,offsetX:s,offsetY:r}}(p,u,o),v=(n.width-s)/f,b=(n.height-s)/h,w=Math.max(Math.min(v,b)/2,0),y=c(this.options.radius,w),_=(y-Math.max(y*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*y,this.offsetY=m*y,a.total=this.calculateTotal(),this.outerRadius=y-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*d,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const n=this.options,a=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===a._parsed[e]||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*i/T)}updateElements(e,t,n,a){const i="reset"===a,s=this.chart,r=s.chartArea,o=s.options.animation,l=(r.left+r.right)/2,c=(r.top+r.bottom)/2,d=i&&o.animateScale,u=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:f,includeOptions:h}=this._getSharedOptions(t,a);let g,m=this._getRotation();for(g=0;g<t;++g)m+=this._circumference(g,i);for(g=t;g<t+n;++g){const t=this._circumference(g,i),n=e[g],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+t,circumference:t,outerRadius:p,innerRadius:u};h&&(s.options=f||this.resolveDataElementOptions(g,n.active?"active":a)),m+=t,this.updateElement(n,g,s,a)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,a=0;for(n=0;n<t.length;n++){const i=e._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||t[n].hidden||(a+=Math.abs(i))}return a}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?T*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=rn(t._parsed[e],n.options.locale);return{label:a[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const n=this.chart;let a,i,s,r,o;if(!e)for(a=0,i=n.data.datasets.length;a<i;++a)if(n.isDatasetVisible(a)){s=n.getDatasetMeta(a),e=s.data,r=s.controller;break}if(!e)return 0;for(a=0,i=e.length;a<i;++a)o=r.resolveDataElementOptions(a),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,a=e.length;n<a;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(o(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ti.id="doughnut",Ti.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},Ti.descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e},Ti.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n}}=e.legend.options;return t.labels.map(((t,a)=>{const i=e.getDatasetMeta(0).controller.getStyle(a);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(a),index:a}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label(e){let t=e.label;const n=": "+e.formattedValue;return a(t)?(t=t.slice(),t[0]+=n):t+=n,t}}}}};class Mi extends Ta{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:a=[],_dataset:i}=t,s=this.chart._animationsDisabled;let{start:r,count:o}=he(t,a,s);this._drawStart=r,this._drawCount=o,ge(t)&&(r=0,o=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=a;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},e),this.updateElements(a,r,o,e)}updateElements(e,t,a,i){const s="reset"===i,{iScale:r,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,i),p=r.axis,f=o.axis,{spanGaps:h,segment:g}=this.options,m=q(h)?h:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||"none"===i;let b=t>0&&this.getParsed(t-1);for(let h=t;h<t+a;++h){const t=e[h],a=this.getParsed(h),w=v?t:{},y=n(a[f]),_=w[p]=r.getPixelForValue(a[p],h),x=w[f]=s||y?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,a,l):a[f],h);w.skip=isNaN(_)||isNaN(x)||y,w.stop=h>0&&Math.abs(a[p]-b[p])>m,g&&(w.parsed=a,w.raw=c.data[h]),u&&(w.options=d||this.resolveDataElementOptions(h,t.active?"active":i)),v||this.updateElement(t,h,w,i),b=a}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const i=a[0].size(this.resolveDataElementOptions(0)),s=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,i,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Mi.id="line",Mi.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},Mi.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class Pi extends Ta{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=rn(t._parsed[e].r,n.options.locale);return{label:a[e]||"",value:i}}parseObjectData(e,t,n,a){return Bt.bind(this)(e,t,n,a)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const a=this.getParsed(n).r;!isNaN(a)&&this.chart.getDataVisibility(n)&&(a<t.min&&(t.min=a),a>t.max&&(t.max=a))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,a=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(a/2,0),s=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=i-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(e,t,n,a){const i="reset"===a,s=this.chart,r=s.options.animation,o=this._cachedMeta.rScale,l=o.xCenter,c=o.yCenter,d=o.getIndexAngle(0)-.5*A;let u,p=d;const f=360/this.countVisibleElements();for(u=0;u<t;++u)p+=this._computeAngle(u,a,f);for(u=t;u<t+n;u++){const t=e[u];let n=p,h=p+this._computeAngle(u,a,f),g=s.getDataVisibility(u)?o.getDistanceFromCenterForValue(this.getParsed(u).r):0;p=h,i&&(r.animateScale&&(g=0),r.animateRotate&&(n=h=d));const m={x:l,y:c,innerRadius:0,outerRadius:g,startAngle:n,endAngle:h,options:this.resolveDataElementOptions(u,t.active?"active":a)};this.updateElement(t,u,m,a)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?B(this.resolveDataElementOptions(e,t).angle||n):0}}Pi.id="polarArea",Pi.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},Pi.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n}}=e.legend.options;return t.labels.map(((t,a)=>{const i=e.getDatasetMeta(0).controller.getStyle(a);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(a),index:a}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label:e=>e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class Ei extends Ti{}Ei.id="pie",Ei.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Di extends Ta{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,a){return Bt.bind(this)(e,t,n,a)}update(e){const t=this._cachedMeta,n=t.dataset,a=t.data||[],i=t.iScale.getLabels();if(n.points=a,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const s={_loop:!0,_fullLoop:i.length===a.length,options:t};this.updateElement(n,void 0,s,e)}this.updateElements(a,0,a.length,e)}updateElements(e,t,n,a){const i=this._cachedMeta.rScale,s="reset"===a;for(let r=t;r<t+n;r++){const t=e[r],n=this.resolveDataElementOptions(r,t.active?"active":a),o=i.getPointPositionForValue(r,this.getParsed(r).r),l=s?i.xCenter:o.x,c=s?i.yCenter:o.y,d={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,r,d,a)}}}Di.id="radar",Di.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},Di.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Oi extends Ta{update(e){const t=this._cachedMeta,{data:n=[]}=t,a=this.chart._animationsDisabled;let{start:i,count:s}=he(t,n,a);if(this._drawStart=i,this._drawCount=s,ge(t)&&(i=0,s=n.length),this.options.showLine){const{dataset:i,_dataset:s}=t;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=n;const r=this.resolveDatasetElementOptions(e);r.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:r},e)}this.updateElements(n,i,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=ja.getElement("line")),super.addElements()}updateElements(e,t,a,i){const s="reset"===i,{iScale:r,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,d=this.resolveDataElementOptions(t,i),u=this.getSharedOptions(d),p=this.includeOptions(i,u),f=r.axis,h=o.axis,{spanGaps:g,segment:m}=this.options,v=q(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||s||"none"===i;let w=t>0&&this.getParsed(t-1);for(let d=t;d<t+a;++d){const t=e[d],a=this.getParsed(d),g=b?t:{},y=n(a[h]),_=g[f]=r.getPixelForValue(a[f],d),x=g[h]=s||y?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,a,l):a[h],d);g.skip=isNaN(_)||isNaN(x)||y,g.stop=d>0&&Math.abs(a[f]-w[f])>v,m&&(g.parsed=a,g.raw=c.data[d]),p&&(g.options=u||this.resolveDataElementOptions(d,t.active?"active":i)),b||this.updateElement(t,d,g,i),w=a}this.updateSharedOptions(u,i,d)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!t.length)return a;const i=t[0].size(this.resolveDataElementOptions(0)),s=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(a,i,s)/2}}Oi.id="scatter",Oi.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},Oi.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:e=>"("+e.label+", "+e.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var Ri=Object.freeze({__proto__:null,BarController:Ci,BubbleController:Ai,DoughnutController:Ti,LineController:Mi,PolarAreaController:Pi,PieController:Ei,RadarController:Di,ScatterController:Oi});function Li(e,t,n){const{startAngle:a,pixelMargin:i,x:s,y:r,outerRadius:o,innerRadius:l}=t;let c=i/o;e.beginPath(),e.arc(s,r,o,a-c,n+c),l>i?(c=i/l,e.arc(s,r,l,n+c,a-c,!0)):e.arc(s,r,i,n+D,a-D),e.closePath(),e.clip()}function Ii(e,t,n,a){return{x:n+e*Math.cos(t),y:a+e*Math.sin(t)}}function Fi(e,t,n,a,i,s){const{x:r,y:o,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+a+n-c,0),p=d>0?d+a+n+c:0;let f=0;const h=i-l;if(a){const e=((d>0?d-a:0)+(u>0?u-a:0))/2;f=(h-(0!==e?h*e/(e+a):h))/2}const g=(h-Math.max(.001,h*u-n/A)/u)/2,m=l+g+f,v=i-g-f,{outerStart:b,outerEnd:w,innerStart:y,innerEnd:_}=function(e,t,n,a){const i=dn(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),s=(n-t)/2,r=Math.min(s,a*t/2),o=e=>{const t=(n-Math.min(s,e))*a/2;return X(e,0,Math.min(s,t))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:X(i.innerStart,0,r),innerEnd:X(i.innerEnd,0,r)}}(t,p,u,v-m),x=u-b,$=u-w,k=m+b/x,S=v-w/$,C=p+y,T=p+_,M=m+y/C,P=v-_/T;if(e.beginPath(),s){if(e.arc(r,o,u,k,S),w>0){const t=Ii($,S,r,o);e.arc(t.x,t.y,w,S,v+D)}const t=Ii(T,v,r,o);if(e.lineTo(t.x,t.y),_>0){const t=Ii(T,P,r,o);e.arc(t.x,t.y,_,v+D,P+Math.PI)}if(e.arc(r,o,p,v-_/p,m+y/p,!0),y>0){const t=Ii(C,M,r,o);e.arc(t.x,t.y,y,M+Math.PI,m-D)}const n=Ii(x,m,r,o);if(e.lineTo(n.x,n.y),b>0){const t=Ii(x,k,r,o);e.arc(t.x,t.y,b,m-D,k)}}else{e.moveTo(r,o);const t=Math.cos(k)*u+r,n=Math.sin(k)*u+o;e.lineTo(t,n);const a=Math.cos(S)*u+r,i=Math.sin(S)*u+o;e.lineTo(a,i)}e.closePath()}class Ui extends Ma{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const a=this.getProps(["x","y"],n),{angle:i,distance:s}=W(a,{x:e,y:t}),{startAngle:r,endAngle:l,innerRadius:c,outerRadius:d,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),p=this.options.spacing/2,f=o(u,l-r)>=T||Q(i,r,l),h=J(s,c+p,d+p);return f&&h}getCenterPoint(e){const{x:t,y:n,startAngle:a,endAngle:i,innerRadius:s,outerRadius:r}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:o,spacing:l}=this.options,c=(a+i)/2,d=(s+r+l+o)/2;return{x:t+Math.cos(c)*d,y:n+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,a=(t.offset||0)/2,i=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>T?Math.floor(n/T):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();let r=0;if(a){r=a/2;const t=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(t)*r,Math.sin(t)*r),this.circumference>=A&&(r=a)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;const o=function(e,t,n,a,i){const{fullCircles:s,startAngle:r,circumference:o}=t;let l=t.endAngle;if(s){Fi(e,t,n,a,r+T,i);for(let t=0;t<s;++t)e.fill();isNaN(o)||(l=r+o%T,o%T==0&&(l+=T))}return Fi(e,t,n,a,l,i),e.fill(),l}(e,this,r,i,s);(function(e,t,n,a,i,s){const{options:r}=t,{borderWidth:o,borderJoinStyle:l}=r,c="inner"===r.borderAlign;o&&(c?(e.lineWidth=2*o,e.lineJoin=l||"round"):(e.lineWidth=o,e.lineJoin=l||"bevel"),t.fullCircles&&function(e,t,n){const{x:a,y:i,startAngle:s,pixelMargin:r,fullCircles:o}=t,l=Math.max(t.outerRadius-r,0),c=t.innerRadius+r;let d;for(n&&Li(e,t,s+T),e.beginPath(),e.arc(a,i,c,s+T,s,!0),d=0;d<o;++d)e.stroke();for(e.beginPath(),e.arc(a,i,l,s,s+T),d=0;d<o;++d)e.stroke()}(e,t,c),c&&Li(e,t,i),Fi(e,t,n,a,i,s),e.stroke())})(e,this,r,i,o,s),e.restore()}}function qi(e,t,n=t){e.lineCap=o(n.borderCapStyle,t.borderCapStyle),e.setLineDash(o(n.borderDash,t.borderDash)),e.lineDashOffset=o(n.borderDashOffset,t.borderDashOffset),e.lineJoin=o(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=o(n.borderWidth,t.borderWidth),e.strokeStyle=o(n.borderColor,t.borderColor)}function zi(e,t,n){e.lineTo(n.x,n.y)}function Ni(e,t,n={}){const a=e.length,{start:i=0,end:s=a-1}=n,{start:r,end:o}=t,l=Math.max(i,r),c=Math.min(s,o),d=i<r&&s<r||i>o&&s>o;return{count:a,start:l,loop:t.loop,ilen:c<l&&!d?a+c-l:c-l}}function ji(e,t,n,a){const{points:i,options:s}=t,{count:r,start:o,loop:l,ilen:c}=Ni(i,n,a),d=function(e){return e.stepped?St:e.tension||"monotone"===e.cubicInterpolationMode?Ct:zi}(s);let u,p,f,{move:h=!0,reverse:g}=a||{};for(u=0;u<=c;++u)p=i[(o+(g?c-u:u))%r],p.skip||(h?(e.moveTo(p.x,p.y),h=!1):d(e,f,p,g,s.stepped),f=p);return l&&(p=i[(o+(g?c:0))%r],d(e,f,p,g,s.stepped)),!!l}function Bi(e,t,n,a){const i=t.points,{count:s,start:r,ilen:o}=Ni(i,n,a),{move:l=!0,reverse:c}=a||{};let d,u,p,f,h,g,m=0,v=0;const b=e=>(r+(c?o-e:e))%s,w=()=>{f!==h&&(e.lineTo(m,h),e.lineTo(m,f),e.lineTo(m,g))};for(l&&(u=i[b(0)],e.moveTo(u.x,u.y)),d=0;d<=o;++d){if(u=i[b(d)],u.skip)continue;const t=u.x,n=u.y,a=0|t;a===p?(n<f?f=n:n>h&&(h=n),m=(v*m+t)/++v):(w(),e.lineTo(t,n),p=a,v=0,f=h=n),g=n}w()}function Vi(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||n?ji:Bi}Ui.id="arc",Ui.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},Ui.defaultRoutes={backgroundColor:"backgroundColor"};const Hi="function"==typeof Path2D;class Wi extends Ma{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;Qt(this._points,n,e,a,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Sn(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,a=e[t],i=this.points,s=kn(this,{property:t,start:a,end:a});if(!s.length)return;const r=[],o=function(e){return e.stepped?nn:e.tension||"monotone"===e.cubicInterpolationMode?an:tn}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:d}=s[l],u=i[c],p=i[d];if(u===p){r.push(u);continue}const f=o(u,p,Math.abs((a-u[t])/(p[t]-u[t])),n.stepped);f[t]=e[t],r.push(f)}return 1===r.length?r[0]:r}pathSegment(e,t,n){return Vi(this)(e,this,t,n)}path(e,t,n){const a=this.segments,i=Vi(this);let s=this._loop;t=t||0,n=n||this.points.length-t;for(const r of a)s&=i(e,this,r,{start:t,end:t+n-1});return!!s}draw(e,t,n,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),function(e,t,n,a){Hi&&!t.options.segment?function(e,t,n,a){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,a)&&i.closePath()),qi(e,t.options),e.stroke(i)}(e,t,n,a):function(e,t,n,a){const{segments:i,options:s}=t,r=Vi(t);for(const o of i)qi(e,s,o.style),e.beginPath(),r(e,t,o,{start:n,end:n+a-1})&&e.closePath(),e.stroke()}(e,t,n,a)}(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Gi(e,t,n,a){const i=e.options,{[n]:s}=e.getProps([n],a);return Math.abs(t-s)<i.radius+i.hitRadius}Wi.id="line",Wi.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},Wi.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},Wi.descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};class Yi extends Ma{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const a=this.options,{x:i,y:s}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-s,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,t){return Gi(this,e,"x",t)}inYRange(e,t){return Gi(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;return t=Math.max(t,t&&e.hoverRadius||0),2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!xt(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,yt(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Ki(e,t){const{x:n,y:a,base:i,width:s,height:r}=e.getProps(["x","y","base","width","height"],t);let o,l,c,d,u;return e.horizontal?(u=r/2,o=Math.min(n,i),l=Math.max(n,i),c=a-u,d=a+u):(u=s/2,o=n-u,l=n+u,c=Math.min(a,i),d=Math.max(a,i)),{left:o,top:c,right:l,bottom:d}}function Qi(e,t,n,a){return e?0:X(t,n,a)}function Xi(e){const t=Ki(e),n=t.right-t.left,a=t.bottom-t.top,s=function(e,t,n){const a=e.options.borderWidth,i=e.borderSkipped,s=un(a);return{t:Qi(i.top,s.top,0,n),r:Qi(i.right,s.right,0,t),b:Qi(i.bottom,s.bottom,0,n),l:Qi(i.left,s.left,0,t)}}(e,n/2,a/2),r=function(e,t,n){const{enableBorderRadius:a}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=pn(s),o=Math.min(t,n),l=e.borderSkipped,c=a||i(s);return{topLeft:Qi(!c||l.top||l.left,r.topLeft,0,o),topRight:Qi(!c||l.top||l.right,r.topRight,0,o),bottomLeft:Qi(!c||l.bottom||l.left,r.bottomLeft,0,o),bottomRight:Qi(!c||l.bottom||l.right,r.bottomRight,0,o)}}(e,n/2,a/2);return{outer:{x:t.left,y:t.top,w:n,h:a,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:a-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Zi(e,t,n,a){const i=null===t,s=null===n,r=e&&!(i&&s)&&Ki(e,a);return r&&(i||J(t,r.left,r.right))&&(s||J(n,r.top,r.bottom))}function Ji(e,t){e.rect(t.x,t.y,t.w,t.h)}function es(e,t,n={}){const a=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-a,r=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+a,y:e.y+i,w:e.w+s,h:e.h+r,radius:e.radius}}Yi.id="point",Yi.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},Yi.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class ts extends Ma{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:a}}=this,{inner:i,outer:s}=Xi(this),r=(o=s.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?Mt:Ji;var o;e.save(),s.w===i.w&&s.h===i.h||(e.beginPath(),r(e,es(s,t,i)),e.clip(),r(e,es(i,-t,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),r(e,es(i,t)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,t,n){return Zi(this,e,t,n)}inXRange(e,t){return Zi(this,e,null,t)}inYRange(e,t){return Zi(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+a)/2:t,y:i?n:(n+a)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}ts.id="bar",ts.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},ts.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var ns=Object.freeze({__proto__:null,ArcElement:Ui,LineElement:Wi,PointElement:Yi,BarElement:ts});function as(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{value:t})}}function is(e){e.data.datasets.forEach((e=>{as(e)}))}var ss={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,a)=>{if(!a.enabled)return void is(e);const i=e.width;e.data.datasets.forEach(((t,s)=>{const{_data:r,indexAxis:o}=t,l=e.getDatasetMeta(s),c=r||t.data;if("y"===gn([o,e.options.indexAxis]))return;if(!l.controller.supportsDecimation)return;const d=e.scales[l.xAxisID];if("linear"!==d.type&&"time"!==d.type)return;if(e.options.parsing)return;let u,{start:p,count:f}=function(e,t){const n=t.length;let a,i=0;const{iScale:s}=e,{min:r,max:o,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=X(te(t,s.axis,r).lo,0,n-1)),a=c?X(te(t,s.axis,o).hi+1,i,n)-i:n-i,{start:i,count:a}}(l,c);if(f<=(a.threshold||4*i))as(t);else{switch(n(r)&&(t._data=c,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),a.algorithm){case"lttb":u=function(e,t,n,a,i){const s=i.samples||a;if(s>=n)return e.slice(t,t+n);const r=[],o=(n-2)/(s-2);let l=0;const c=t+n-1;let d,u,p,f,h,g=t;for(r[l++]=e[g],d=0;d<s-2;d++){let a,i=0,s=0;const c=Math.floor((d+1)*o)+1+t,m=Math.min(Math.floor((d+2)*o)+1,n)+t,v=m-c;for(a=c;a<m;a++)i+=e[a].x,s+=e[a].y;i/=v,s/=v;const b=Math.floor(d*o)+1+t,w=Math.min(Math.floor((d+1)*o)+1,n)+t,{x:y,y:_}=e[g];for(p=f=-1,a=b;a<w;a++)f=.5*Math.abs((y-i)*(e[a].y-_)-(y-e[a].x)*(s-_)),f>p&&(p=f,u=e[a],h=a);r[l++]=u,g=h}return r[l++]=e[c],r}(c,p,f,i,a);break;case"min-max":u=function(e,t,a,i){let s,r,o,l,c,d,u,p,f,h,g=0,m=0;const v=[],b=t+a-1,w=e[t].x,y=e[b].x-w;for(s=t;s<t+a;++s){r=e[s],o=(r.x-w)/y*i,l=r.y;const t=0|o;if(t===c)l<f?(f=l,d=s):l>h&&(h=l,u=s),g=(m*g+r.x)/++m;else{const a=s-1;if(!n(d)&&!n(u)){const t=Math.min(d,u),n=Math.max(d,u);t!==p&&t!==a&&v.push({...e[t],x:g}),n!==p&&n!==a&&v.push({...e[n],x:g})}s>0&&a!==p&&v.push(e[a]),v.push(r),c=t,m=0,f=h=l,d=u=p=s}}return v}(c,p,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${a.algorithm}'`)}t._decimated=u}}))},destroy(e){is(e)}};function rs(e,t,n,a){if(a)return;let i=t[e],s=n[e];return"angle"===e&&(i=K(i),s=K(s)),{property:e,start:i,end:s}}function os(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function ls(e,t,n,a){return e&&t?a(e[n],t[n]):e?e[n]:t?t[n]:0}function cs(e,t){let n=[],i=!1;return a(e)?(i=!0,n=e):n=function(e,t){const{x:n=null,y:a=null}=e||{},i=t.points,s=[];return t.segments.forEach((({start:e,end:t})=>{t=os(e,t,i);const r=i[e],o=i[t];null!==a?(s.push({x:r.x,y:a}),s.push({x:o.x,y:a})):null!==n&&(s.push({x:n,y:r.y}),s.push({x:n,y:o.y}))})),s}(e,t),n.length?new Wi({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function ds(e){return e&&!1!==e.fill}function us(e,t,n){let a=e[t].fill;const i=[t];let r;if(!n)return a;for(;!1!==a&&-1===i.indexOf(a);){if(!s(a))return a;if(r=e[a],!r)return!1;if(r.visible)return a;i.push(a),a=r.fill}return!1}function ps(e,t,n){const a=function(e){const t=e.options,n=t.fill;let a=o(n&&n.target,n);return void 0===a&&(a=!!t.backgroundColor),!1!==a&&null!==a&&(!0===a?"origin":a)}(e);if(i(a))return!isNaN(a.value)&&a;let r=parseFloat(a);return s(r)&&Math.floor(r)===r?function(e,t,n,a){return"-"!==e&&"+"!==e||(n=t+n),!(n===t||n<0||n>=a)&&n}(a[0],t,r,n):["origin","start","end","stack","shape"].indexOf(a)>=0&&a}function fs(e,t,n){const a=[];for(let i=0;i<n.length;i++){const s=n[i],{first:r,last:o,point:l}=hs(s,t,"x");if(!(!l||r&&o))if(r)a.unshift(l);else if(e.push(l),!o)break}e.push(...a)}function hs(e,t,n){const a=e.interpolate(t,n);if(!a)return{};const i=a[n],s=e.segments,r=e.points;let o=!1,l=!1;for(let e=0;e<s.length;e++){const t=s[e],a=r[t.start][n],c=r[t.end][n];if(J(i,a,c)){o=i===a,l=i===c;break}}return{first:o,last:l,point:a}}class gs{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:a,y:i,radius:s}=this;return t=t||{start:0,end:T},e.arc(a,i,s,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:a}=this,i=e.angle;return{x:t+Math.cos(i)*a,y:n+Math.sin(i)*a,angle:i}}}function ms(e){const{chart:t,fill:n,line:a}=e;if(s(n))return function(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:a}=e,i=[],s=a.segments,r=a.points,o=function(e,t){const n=[],a=e.getMatchingVisibleMetas("line");for(let e=0;e<a.length;e++){const i=a[e];if(i.index===t)break;i.hidden||n.unshift(i.dataset)}return n}(t,n);o.push(cs({x:null,y:t.bottom},a));for(let e=0;e<s.length;e++){const t=s[e];for(let e=t.start;e<=t.end;e++)fs(i,r[e],o)}return new Wi({points:i,options:{}})}(e);if("shape"===n)return!0;const r=function(e){return(e.scale||{}).getPointPositionForValue?function(e){const{scale:t,fill:n}=e,a=t.options,s=t.getLabels().length,r=a.reverse?t.max:t.min,o=function(e,t,n){let a;return a="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:i(e)?e.value:t.getBaseValue(),a}(n,t,r),l=[];if(a.grid.circular){const e=t.getPointPositionForValue(0,r);return new gs({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(o)})}for(let e=0;e<s;++e)l.push(t.getPointPositionForValue(e,o));return l}(e):function(e){const{scale:t={},fill:n}=e,a=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:i(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(s(a)){const e=t.isHorizontal();return{x:e?a:null,y:e?null:a}}return null}(e)}(e);return r instanceof gs?r:cs(r,a)}function vs(e,t,n){const a=ms(t),{line:i,scale:s,axis:r}=t,o=i.options,l=o.fill,c=o.backgroundColor,{above:d=c,below:u=c}=l||{};a&&i.points.length&&($t(e,n),function(e,t){const{line:n,target:a,above:i,below:s,area:r,scale:o}=t,l=n._loop?"angle":t.axis;e.save(),"x"===l&&s!==i&&(bs(e,a,r.top),ws(e,{line:n,target:a,color:i,scale:o,property:l}),e.restore(),e.save(),bs(e,a,r.bottom)),ws(e,{line:n,target:a,color:s,scale:o,property:l}),e.restore()}(e,{line:i,target:a,above:d,below:u,area:n,scale:s,axis:r}),kt(e))}function bs(e,t,n){const{segments:a,points:i}=t;let s=!0,r=!1;e.beginPath();for(const o of a){const{start:a,end:l}=o,c=i[a],d=i[os(a,l,i)];s?(e.moveTo(c.x,c.y),s=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),r=!!t.pathSegment(e,o,{move:r}),r?e.closePath():e.lineTo(d.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function ws(e,t){const{line:n,target:a,property:i,color:s,scale:r}=t,o=function(e,t,n){const a=e.segments,i=e.points,s=t.points,r=[];for(const e of a){let{start:a,end:o}=e;o=os(a,o,i);const l=rs(n,i[a],i[o],e.loop);if(!t.segments){r.push({source:e,target:l,start:i[a],end:i[o]});continue}const c=kn(t,l);for(const t of c){const a=rs(n,s[t.start],s[t.end],t.loop),o=$n(e,i,a);for(const e of o)r.push({source:e,target:t,start:{[n]:ls(l,a,"start",Math.max)},end:{[n]:ls(l,a,"end",Math.min)}})}}return r}(n,a,i);for(const{source:t,target:l,start:c,end:d}of o){const{style:{backgroundColor:o=s}={}}=t,u=!0!==a;e.save(),e.fillStyle=o,ys(e,r,u&&rs(i,c,d)),e.beginPath();const p=!!n.pathSegment(e,t);let f;if(u){p?e.closePath():_s(e,a,d,i);const t=!!a.pathSegment(e,l,{move:p,reverse:!0});f=p&&t,f||_s(e,a,c,i)}e.closePath(),e.fill(f?"evenodd":"nonzero"),e.restore()}}function ys(e,t,n){const{top:a,bottom:i}=t.chart.chartArea,{property:s,start:r,end:o}=n||{};"x"===s&&(e.beginPath(),e.rect(r,a,o-r,i-a),e.clip())}function _s(e,t,n,a){const i=t.interpolate(n,a);i&&e.lineTo(i.x,i.y)}var xs={id:"filler",afterDatasetsUpdate(e,t,n){const a=(e.data.datasets||[]).length,i=[];let s,r,o,l;for(r=0;r<a;++r)s=e.getDatasetMeta(r),o=s.dataset,l=null,o&&o.options&&o instanceof Wi&&(l={visible:e.isDatasetVisible(r),index:r,fill:ps(o,r,a),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,i.push(l);for(r=0;r<a;++r)l=i[r],l&&!1!==l.fill&&(l.fill=us(i,r,n.propagate))},beforeDraw(e,t,n){const a="beforeDraw"===n.drawTime,i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let t=i.length-1;t>=0;--t){const n=i[t].$filler;n&&(n.line.updateControlPoints(s,n.axis),a&&n.fill&&vs(e.ctx,n,s))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const a=e.getSortedVisibleDatasetMetas();for(let t=a.length-1;t>=0;--t){const n=a[t].$filler;ds(n)&&vs(e.ctx,n,e.chartArea)}},beforeDatasetDraw(e,t,n){const a=t.meta.$filler;ds(a)&&"beforeDatasetDraw"===n.drawTime&&vs(e.ctx,a,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const $s=(e,t)=>{let{boxHeight:n=t,boxWidth:a=t}=e;return e.usePointStyle&&(n=Math.min(n,t),a=e.pointStyleWidth||Math.min(a,t)),{boxWidth:a,boxHeight:n,itemHeight:Math.max(t,n)}};class ks extends Ma{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=d(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,a=hn(n.font),i=a.size,s=this._computeTitleHeight(),{boxWidth:r,itemHeight:o}=$s(n,i);let l,c;t.font=a.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,i,r,o)+10):(c=this.maxHeight,l=this._fitCols(s,i,r,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,a){const{ctx:i,maxWidth:s,options:{labels:{padding:r}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=a+r;let d=e;i.textAlign="left",i.textBaseline="middle";let u=-1,p=-c;return this.legendItems.forEach(((e,f)=>{const h=n+t/2+i.measureText(e.text).width;(0===f||l[l.length-1]+h+2*r>s)&&(d+=c,l[l.length-(f>0?0:1)]=0,p+=c,u++),o[f]={left:0,top:p,row:u,width:h,height:a},l[l.length-1]+=h+r})),d}_fitCols(e,t,n,a){const{ctx:i,maxHeight:s,options:{labels:{padding:r}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-e;let d=r,u=0,p=0,f=0,h=0;return this.legendItems.forEach(((e,s)=>{const g=n+t/2+i.measureText(e.text).width;s>0&&p+a+2*r>c&&(d+=u+r,l.push({width:u,height:p}),f+=u+r,h++,u=p=0),o[s]={left:f,top:p,col:h,width:g,height:a},u=Math.max(u,g),p+=a+r})),d+=u,l.push({width:u,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:a},rtl:i}}=this,s=bn(i,this.left,this.width);if(this.isHorizontal()){let i=0,r=pe(n,this.left+a,this.right-this.lineWidths[i]);for(const o of t)i!==o.row&&(i=o.row,r=pe(n,this.left+a,this.right-this.lineWidths[i])),o.top+=this.top+e+a,o.left=s.leftForLtr(s.x(r),o.width),r+=o.width+a}else{let i=0,r=pe(n,this.top+e+a,this.bottom-this.columnSizes[i].height);for(const o of t)o.col!==i&&(i=o.col,r=pe(n,this.top+e+a,this.bottom-this.columnSizes[i].height)),o.top=r,o.left+=this.left+a,o.left=s.leftForLtr(s.x(o.left),o.width),r+=o.height+a}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;$t(e,this),this._draw(),kt(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:a}=this,{align:i,labels:s}=e,r=tt.color,l=bn(e.rtl,this.left,this.width),c=hn(s.font),{color:d,padding:u}=s,p=c.size,f=p/2;let h;this.drawTitle(),a.textAlign=l.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=c.string;const{boxWidth:g,boxHeight:m,itemHeight:v}=$s(s,p),b=this.isHorizontal(),w=this._computeTitleHeight();h=b?{x:pe(i,this.left+u,this.right-n[0]),y:this.top+u+w,line:0}:{x:this.left+u,y:pe(i,this.top+w+u,this.bottom-t[0].height),line:0},wn(this.ctx,e.textDirection);const y=v+u;this.legendItems.forEach(((_,x)=>{a.strokeStyle=_.fontColor||d,a.fillStyle=_.fontColor||d;const $=a.measureText(_.text).width,k=l.textAlign(_.textAlign||(_.textAlign=s.textAlign)),S=g+f+$;let C=h.x,A=h.y;l.setWidth(this.width),b?x>0&&C+S+u>this.right&&(A=h.y+=y,h.line++,C=h.x=pe(i,this.left+u,this.right-n[h.line])):x>0&&A+y>this.bottom&&(C=h.x=C+t[h.line].width+u,h.line++,A=h.y=pe(i,this.top+w+u,this.bottom-t[h.line].height)),function(e,t,n){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;a.save();const i=o(n.lineWidth,1);if(a.fillStyle=o(n.fillStyle,r),a.lineCap=o(n.lineCap,"butt"),a.lineDashOffset=o(n.lineDashOffset,0),a.lineJoin=o(n.lineJoin,"miter"),a.lineWidth=i,a.strokeStyle=o(n.strokeStyle,r),a.setLineDash(o(n.lineDash,[])),s.usePointStyle){const r={radius:m*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},o=l.xPlus(e,g/2);_t(a,r,o,t+f,s.pointStyleWidth&&g)}else{const s=t+Math.max((p-m)/2,0),r=l.leftForLtr(e,g),o=pn(n.borderRadius);a.beginPath(),Object.values(o).some((e=>0!==e))?Mt(a,{x:r,y:s,w:g,h:m,radius:o}):a.rect(r,s,g,m),a.fill(),0!==i&&a.stroke()}a.restore()}(l.x(C),A,_),C=fe(k,C+g+f,b?C+S:this.right,e.rtl),function(e,t,n){At(a,n.text,e,t+v/2,c,{strikethrough:n.hidden,textAlign:l.textAlign(n.textAlign)})}(l.x(C),A,_),b?h.x+=S+u:h.y+=y})),yn(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=hn(t.font),a=fn(t.padding);if(!t.display)return;const i=bn(e.rtl,this.left,this.width),s=this.ctx,r=t.position,o=n.size/2,l=a.top+o;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,d=pe(e.align,d,this.right-u);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+pe(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const p=pe(r,d,d+u);s.textAlign=i.textAlign(ue(r)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,At(s,t.text,p,c,n)}_computeTitleHeight(){const e=this.options.title,t=hn(e.font),n=fn(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,a,i;if(J(e,this.left,this.right)&&J(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(a=i[n],J(e,a.left,a.left+a.width)&&J(t,a.top,a.top+a.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){return!("mousemove"!==e&&"mouseout"!==e||!t.onHover&&!t.onLeave)||!(!t.onClick||"click"!==e&&"mouseup"!==e)}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const s=this._hoveredItem,r=(i=n,null!==(a=s)&&null!==i&&a.datasetIndex===i.datasetIndex&&a.index===i.index);s&&!r&&d(t.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!r&&d(t.onHover,[e,n,this],this)}else n&&d(t.onClick,[e,n,this],this);var a,i}}var Ss={id:"legend",_element:ks,start(e,t,n){const a=e.legend=new ks({ctx:e.ctx,options:n,chart:e});Gn.configure(e,a,n),Gn.addBox(e,a)},stop(e){Gn.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const a=e.legend;Gn.configure(e,a,n),a.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const a=t.datasetIndex,i=n.chart;i.isDatasetVisible(a)?(i.hide(a),t.hidden=!0):(i.show(a),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:a,textAlign:i,color:s}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const r=e.controller.getStyle(n?0:void 0),o=fn(r.borderWidth);return{text:t[e.index].label,fillStyle:r.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:r.borderCapStyle,lineDash:r.borderDash,lineDashOffset:r.borderDashOffset,lineJoin:r.borderJoinStyle,lineWidth:(o.width+o.height)/4,strokeStyle:r.borderColor,pointStyle:a||r.pointStyle,rotation:r.rotation,textAlign:i||r.textAlign,borderRadius:0,datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Cs extends Ma{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const i=a(n.text)?n.text.length:1;this._padding=fn(n.padding);const s=i*hn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:a,right:i,options:s}=this,r=s.align;let o,l,c,d=0;return this.isHorizontal()?(l=pe(r,n,i),c=t+e,o=i-n):("left"===s.position?(l=n+e,c=pe(r,a,t),d=-.5*A):(l=i-e,c=pe(r,t,a),d=.5*A),o=a-t),{titleX:l,titleY:c,maxWidth:o,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=hn(t.font),a=n.lineHeight/2+this._padding.top,{titleX:i,titleY:s,maxWidth:r,rotation:o}=this._drawArgs(a);At(e,t.text,0,0,n,{color:t.color,maxWidth:r,rotation:o,textAlign:ue(t.align),textBaseline:"middle",translation:[i,s]})}}var As={id:"title",_element:Cs,start(e,t,n){!function(e,t){const n=new Cs({ctx:e.ctx,options:t,chart:e});Gn.configure(e,n,t),Gn.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;Gn.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const a=e.titleBlock;Gn.configure(e,a,n),a.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ts=new WeakMap;var Ms={id:"subtitle",start(e,t,n){const a=new Cs({ctx:e.ctx,options:n,chart:e});Gn.configure(e,a,n),Gn.addBox(e,a),Ts.set(e,a)},stop(e){Gn.removeBox(e,Ts.get(e)),Ts.delete(e)},beforeUpdate(e,t,n){const a=Ts.get(e);Gn.configure(e,a,n),a.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ps={average(e){if(!e.length)return!1;let t,n,a=0,i=0,s=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();a+=e.x,i+=e.y,++s}}return{x:a/s,y:i/s}},nearest(e,t){if(!e.length)return!1;let n,a,i,s=t.x,r=t.y,o=Number.POSITIVE_INFINITY;for(n=0,a=e.length;n<a;++n){const a=e[n].element;if(a&&a.hasValue()){const e=G(t,a.getCenterPoint());e<o&&(o=e,i=a)}}if(i){const e=i.tooltipPosition();s=e.x,r=e.y}return{x:s,y:r}}};function Es(e,t){return t&&(a(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ds(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Os(e,t){const{element:n,datasetIndex:a,index:i}=t,s=e.getDatasetMeta(a).controller,{label:r,value:o}=s.getLabelAndValue(i);return{chart:e,label:r,parsed:s.getParsed(i),raw:e.data.datasets[a].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:a,element:n}}function Rs(e,t){const n=e.chart.ctx,{body:a,footer:i,title:s}=e,{boxWidth:r,boxHeight:o}=t,l=hn(t.bodyFont),c=hn(t.titleFont),d=hn(t.footerFont),p=s.length,f=i.length,h=a.length,g=fn(t.padding);let m=g.height,v=0,b=a.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);b+=e.beforeBody.length+e.afterBody.length,p&&(m+=p*c.lineHeight+(p-1)*t.titleSpacing+t.titleMarginBottom),b&&(m+=h*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(b-h)*l.lineHeight+(b-1)*t.bodySpacing),f&&(m+=t.footerMarginTop+f*d.lineHeight+(f-1)*t.footerSpacing);let w=0;const y=function(e){v=Math.max(v,n.measureText(e).width+w)};return n.save(),n.font=c.string,u(e.title,y),n.font=l.string,u(e.beforeBody.concat(e.afterBody),y),w=t.displayColors?r+2+t.boxPadding:0,u(a,(e=>{u(e.before,y),u(e.lines,y),u(e.after,y)})),w=0,n.font=d.string,u(e.footer,y),n.restore(),v+=g.width,{width:v,height:m}}function Ls(e,t,n,a){const{x:i,width:s}=n,{width:r,chartArea:{left:o,right:l}}=e;let c="center";return"center"===a?c=i<=(o+l)/2?"left":"right":i<=s/2?c="left":i>=r-s/2&&(c="right"),function(e,t,n,a){const{x:i,width:s}=a,r=n.caretSize+n.caretPadding;return"left"===e&&i+s+r>t.width||"right"===e&&i-s-r<0||void 0}(c,e,t,n)&&(c="center"),c}function Is(e,t,n){const a=n.yAlign||t.yAlign||function(e,t){const{y:n,height:a}=t;return n<a/2?"top":n>e.height-a/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||Ls(e,t,n,a),yAlign:a}}function Fs(e,t,n,a){const{caretSize:i,caretPadding:s,cornerRadius:r}=e,{xAlign:o,yAlign:l}=n,c=i+s,{topLeft:d,topRight:u,bottomLeft:p,bottomRight:f}=pn(r);let h=function(e,t){let{x:n,width:a}=e;return"right"===t?n-=a:"center"===t&&(n-=a/2),n}(t,o);const g=function(e,t,n){let{y:a,height:i}=e;return"top"===t?a+=n:a-="bottom"===t?i+n:i/2,a}(t,l,c);return"center"===l?"left"===o?h+=c:"right"===o&&(h-=c):"left"===o?h-=Math.max(d,p)+i:"right"===o&&(h+=Math.max(u,f)+i),{x:X(h,0,a.width-t.width),y:X(g,0,a.height-t.height)}}function Us(e,t,n){const a=fn(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-a.right:e.x+a.left}function qs(e){return Es([],Ds(e))}function zs(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}class Ns extends Ma{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&t.options.animation&&n.animations,i=new ma(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(this,vn(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"})))}getTitle(e,t){const{callbacks:n}=t,a=n.beforeTitle.apply(this,[e]),i=n.title.apply(this,[e]),s=n.afterTitle.apply(this,[e]);let r=[];return r=Es(r,Ds(a)),r=Es(r,Ds(i)),r=Es(r,Ds(s)),r}getBeforeBody(e,t){return qs(t.callbacks.beforeBody.apply(this,[e]))}getBody(e,t){const{callbacks:n}=t,a=[];return u(e,(e=>{const t={before:[],lines:[],after:[]},i=zs(n,e);Es(t.before,Ds(i.beforeLabel.call(this,e))),Es(t.lines,i.label.call(this,e)),Es(t.after,Ds(i.afterLabel.call(this,e))),a.push(t)})),a}getAfterBody(e,t){return qs(t.callbacks.afterBody.apply(this,[e]))}getFooter(e,t){const{callbacks:n}=t,a=n.beforeFooter.apply(this,[e]),i=n.footer.apply(this,[e]),s=n.afterFooter.apply(this,[e]);let r=[];return r=Es(r,Ds(a)),r=Es(r,Ds(i)),r=Es(r,Ds(s)),r}_createItems(e){const t=this._active,n=this.chart.data,a=[],i=[],s=[];let r,o,l=[];for(r=0,o=t.length;r<o;++r)l.push(Os(this.chart,t[r]));return e.filter&&(l=l.filter(((t,a,i)=>e.filter(t,a,i,n)))),e.itemSort&&(l=l.sort(((t,a)=>e.itemSort(t,a,n)))),u(l,(t=>{const n=zs(e.callbacks,t);a.push(n.labelColor.call(this,t)),i.push(n.labelPointStyle.call(this,t)),s.push(n.labelTextColor.call(this,t))})),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=s,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),a=this._active;let i,s=[];if(a.length){const e=Ps[n.position].call(this,a,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const t=this._size=Rs(this,n),r=Object.assign({},e,t),o=Is(this.chart,n,r),l=Fs(n,r,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=s,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,a){const i=this.getCaretPosition(e,n,a);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:a,yAlign:i}=this,{caretSize:s,cornerRadius:r}=n,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:d}=pn(r),{x:u,y:p}=e,{width:f,height:h}=t;let g,m,v,b,w,y;return"center"===i?(w=p+h/2,"left"===a?(g=u,m=g-s,b=w+s,y=w-s):(g=u+f,m=g+s,b=w-s,y=w+s),v=g):(m="left"===a?u+Math.max(o,c)+s:"right"===a?u+f-Math.max(l,d)-s:this.caretX,"top"===i?(b=p,w=b-s,g=m-s,v=m+s):(b=p+h,w=b+s,g=m+s,v=m-s),y=b),{x1:g,x2:m,x3:v,y1:b,y2:w,y3:y}}drawTitle(e,t,n){const a=this.title,i=a.length;let s,r,o;if(i){const l=bn(n.rtl,this.x,this.width);for(e.x=Us(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",s=hn(n.titleFont),r=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,o=0;o<i;++o)t.fillText(a[o],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+r,o+1===i&&(e.y+=n.titleMarginBottom-r)}}_drawColorBox(e,t,n,a,s){const r=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:l,boxWidth:c,boxPadding:d}=s,u=hn(s.bodyFont),p=Us(this,"left",s),f=a.x(p),h=l<u.lineHeight?(u.lineHeight-l)/2:0,g=t.y+h;if(s.usePointStyle){const t={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=a.leftForLtr(f,c)+c/2,i=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,yt(e,t,n,i),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,yt(e,t,n,i)}else{e.lineWidth=i(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const t=a.leftForLtr(f,c-d),n=a.leftForLtr(a.xPlus(f,1),c-d-2),o=pn(r.borderRadius);Object.values(o).some((e=>0!==e))?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Mt(e,{x:t,y:g,w:c,h:l,radius:o}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),Mt(e,{x:n,y:g+1,w:c-2,h:l-2,radius:o}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(t,g,c,l),e.strokeRect(t,g,c,l),e.fillStyle=r.backgroundColor,e.fillRect(n,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:a}=this,{bodySpacing:i,bodyAlign:s,displayColors:r,boxHeight:o,boxWidth:l,boxPadding:c}=n,d=hn(n.bodyFont);let p=d.lineHeight,f=0;const h=bn(n.rtl,this.x,this.width),g=function(n){t.fillText(n,h.x(e.x+f),e.y+p/2),e.y+=p+i},m=h.textAlign(s);let v,b,w,y,_,x,$;for(t.textAlign=s,t.textBaseline="middle",t.font=d.string,e.x=Us(this,m,n),t.fillStyle=n.bodyColor,u(this.beforeBody,g),f=r&&"right"!==m?"center"===s?l/2+c:l+2+c:0,y=0,x=a.length;y<x;++y){for(v=a[y],b=this.labelTextColors[y],t.fillStyle=b,u(v.before,g),w=v.lines,r&&w.length&&(this._drawColorBox(t,e,y,h,n),p=Math.max(d.lineHeight,o)),_=0,$=w.length;_<$;++_)g(w[_]),p=d.lineHeight;u(v.after,g)}f=0,p=d.lineHeight,u(this.afterBody,g),e.y-=i}drawFooter(e,t,n){const a=this.footer,i=a.length;let s,r;if(i){const o=bn(n.rtl,this.x,this.width);for(e.x=Us(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=o.textAlign(n.footerAlign),t.textBaseline="middle",s=hn(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,r=0;r<i;++r)t.fillText(a[r],o.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,a){const{xAlign:i,yAlign:s}=this,{x:r,y:o}=e,{width:l,height:c}=n,{topLeft:d,topRight:u,bottomLeft:p,bottomRight:f}=pn(a.cornerRadius);t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.beginPath(),t.moveTo(r+d,o),"top"===s&&this.drawCaret(e,t,n,a),t.lineTo(r+l-u,o),t.quadraticCurveTo(r+l,o,r+l,o+u),"center"===s&&"right"===i&&this.drawCaret(e,t,n,a),t.lineTo(r+l,o+c-f),t.quadraticCurveTo(r+l,o+c,r+l-f,o+c),"bottom"===s&&this.drawCaret(e,t,n,a),t.lineTo(r+p,o+c),t.quadraticCurveTo(r,o+c,r,o+c-p),"center"===s&&"left"===i&&this.drawCaret(e,t,n,a),t.lineTo(r,o+d),t.quadraticCurveTo(r,o,r+d,o),t.closePath(),t.fill(),a.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,a=n&&n.x,i=n&&n.y;if(a||i){const n=Ps[e.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=Rs(this,e),r=Object.assign({},n,this._size),o=Is(t,e,r),l=Fs(e,r,o,t);a._to===l.x&&i._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=fn(t.padding),r=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&r&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,a,t),wn(e,t.textDirection),i.y+=s.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),yn(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,a=e.map((({datasetIndex:e,index:t})=>{const n=this.chart.getDatasetMeta(e);if(!n)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:n.data[t],index:t}})),i=!p(n,a),s=this._positionChanged(a,t);(i||s)&&(this._active=a,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],s=this._getActiveElements(e,i,t,n),r=this._positionChanged(s,e),o=t||!p(s,i)||r;return o&&(this._active=s,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,n,a){const i=this.options;if("mouseout"===e.type)return[];if(!a)return t;const s=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:n,caretY:a,options:i}=this,s=Ps[i.position].call(this,e,t);return!1!==s&&(n!==s.x||a!==s.y)}}Ns.positioners=Ps;var js={id:"tooltip",_element:Ns,positioners:Ps,afterInit(e,t,n){n&&(e.tooltip=new Ns({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",n))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:e,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,a=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(a>0&&t.dataIndex<a)return n[t.dataIndex]}return""},afterTitle:e,beforeBody:e,beforeLabel:e,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const a=e.formattedValue;return n(a)||(t+=a),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:e,afterBody:e,beforeFooter:e,footer:e,afterFooter:e}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Bs=Object.freeze({__proto__:null,Decimation:ss,Filler:xs,Legend:Ss,SubTitle:Ms,Title:As,Tooltip:js});class Vs extends za{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:a}of t)e[n]===a&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(n(e))return null;const a=this.getLabels();return((e,t)=>null===e?null:X(Math.round(e),0,t))(t=isFinite(t)&&a[t]===e?t:function(e,t,n,a){const i=e.indexOf(t);return-1===i?((e,t,n,a)=>("string"==typeof t?(n=e.push(t)-1,a.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,a):i!==e.lastIndexOf(t)?n:i}(a,e,o(t,e),this._addedLabels),a.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,a=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let n=e;n<=t;n++)a.push({value:n});return a}getLabelForValue(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Hs(e,t,{horizontal:n,minRotation:a}){const i=B(a),s=(n?Math.sin(i):Math.cos(i))||.001,r=.75*t*(""+e).length;return Math.min(t/s,r)}Vs.id="category",Vs.defaults={ticks:{callback:Vs.prototype.getLabelForValue}};class Ws extends za{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return n(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:a,max:i}=this;const s=e=>a=t?a:e,r=e=>i=n?i:e;if(e){const e=I(a),t=I(i);e<0&&t<0?r(0):e>0&&t>0&&s(0)}if(a===i){let t=1;(i>=Number.MAX_SAFE_INTEGER||a<=Number.MIN_SAFE_INTEGER)&&(t=Math.abs(.05*i)),r(i+t),e||s(a-t)}this.min=a,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:a}=e;return a?(t=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let a=this.getTickLimit();a=Math.max(2,a);const i=function(e,t){const a=[],{bounds:i,step:s,min:r,max:o,precision:l,count:c,maxTicks:d,maxDigits:u,includeBounds:p}=e,f=s||1,h=d-1,{min:g,max:m}=t,v=!n(r),b=!n(o),w=!n(c),y=(m-g)/(u+1);let _,x,$,k,S=F((m-g)/h/f)*f;if(S<1e-14&&!v&&!b)return[{value:g},{value:m}];k=Math.ceil(m/S)-Math.floor(g/S),k>h&&(S=F(k*S/h/f)*f),n(l)||(_=Math.pow(10,l),S=Math.ceil(S*_)/_),"ticks"===i?(x=Math.floor(g/S)*S,$=Math.ceil(m/S)*S):(x=g,$=m),v&&b&&s&&N((o-r)/s,S/1e3)?(k=Math.round(Math.min((o-r)/S,d)),S=(o-r)/k,x=r,$=o):w?(x=v?r:x,$=b?o:$,k=c-1,S=($-x)/k):(k=($-x)/S,k=z(k,Math.round(k),S/1e3)?Math.round(k):Math.ceil(k));const C=Math.max(H(S),H(x));_=Math.pow(10,n(l)?C:l),x=Math.round(x*_)/_,$=Math.round($*_)/_;let A=0;for(v&&(p&&x!==r?(a.push({value:r}),x<r&&A++,z(Math.round((x+A*S)*_)/_,r,Hs(r,y,e))&&A++):x<r&&A++);A<k;++A)a.push({value:Math.round((x+A*S)*_)/_});return b&&p&&$!==o?a.length&&z(a[a.length-1].value,o,Hs(o,y,e))?a[a.length-1].value=o:a.push({value:o}):b&&$!==o||a.push({value:$}),a}({maxTicks:a,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&j(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-t)/Math.max(e.length-1,1)/2;t-=a,n+=a}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return rn(e,this.chart.options.locale,this.options.ticks.format)}}class Gs extends Ws{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=s(e)?e:0,this.max=s(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=B(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}function Ys(e){return 1==e/Math.pow(10,Math.floor(L(e)))}Gs.id="linear",Gs.defaults={ticks:{callback:Ea.formatters.numeric}};class Ks extends za{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=Ws.prototype.parse.apply(this,[e,t]);if(0!==n)return s(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=s(e)?Math.max(0,e):null,this.max=s(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,a=this.max;const i=t=>n=e?n:t,s=e=>a=t?a:e,r=(e,t)=>Math.pow(10,Math.floor(L(e))+t);n===a&&(n<=0?(i(1),s(10)):(i(r(n,-1)),s(r(a,1)))),n<=0&&i(r(a,-1)),a<=0&&s(r(n,1)),this._zero&&this.min!==this._suggestedMin&&n===r(this.min,0)&&i(r(n,-1)),this.min=n,this.max=a}buildTicks(){const e=this.options,t=function(e,t){const n=Math.floor(L(t.max)),a=Math.ceil(t.max/Math.pow(10,n)),i=[];let s=r(e.min,Math.pow(10,Math.floor(L(t.min)))),o=Math.floor(L(s)),l=Math.floor(s/Math.pow(10,o)),c=o<0?Math.pow(10,Math.abs(o)):1;do{i.push({value:s,major:Ys(s)}),++l,10===l&&(l=1,++o,c=o>=0?1:c),s=Math.round(l*Math.pow(10,o)*c)/c}while(o<n||o===n&&l<a);const d=r(e.max,s);return i.push({value:d,major:Ys(s)}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&j(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":rn(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=L(e),this._valueRange=L(this.max)-L(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(L(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Qs(e){const t=e.ticks;if(t.display&&e.display){const e=fn(t.backdropPadding);return o(t.font&&t.font.size,tt.font.size)+e.height}return 0}function Xs(e,t,n,a,i){return e===a||e===i?{start:t-n/2,end:t+n/2}:e<a||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function Zs(e,t,n,a,i){const s=Math.abs(Math.sin(n)),r=Math.abs(Math.cos(n));let o=0,l=0;a.start<t.l?(o=(t.l-a.start)/s,e.l=Math.min(e.l,t.l-o)):a.end>t.r&&(o=(a.end-t.r)/s,e.r=Math.max(e.r,t.r+o)),i.start<t.t?(l=(t.t-i.start)/r,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/r,e.b=Math.max(e.b,t.b+l))}function Js(e){return 0===e||180===e?"center":e<180?"left":"right"}function er(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function tr(e,t,n){return 90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t),e}function nr(e,t,n,a){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,T);else{let n=e.getPointPosition(0,t);i.moveTo(n.x,n.y);for(let s=1;s<a;s++)n=e.getPointPosition(s,t),i.lineTo(n.x,n.y)}}Ks.id="logarithmic",Ks.defaults={ticks:{callback:Ea.formatters.logarithmic,major:{enabled:!0}}};class ar extends Ws{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=fn(Qs(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=s(e)&&!isNaN(e)?e:0,this.max=s(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Qs(this.options))}generateTickLabels(e){Ws.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=d(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?function(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],s=[],r=e._pointLabels.length,o=e.options.pointLabels,l=o.centerPointLabels?A/r:0;for(let p=0;p<r;p++){const r=o.setContext(e.getPointLabelContext(p));s[p]=r.padding;const f=e.getPointPosition(p,e.drawingArea+s[p],l),h=hn(r.font),g=(c=e.ctx,d=h,u=a(u=e._pointLabels[p])?u:[u],{w:vt(c,d.string,u),h:u.length*d.lineHeight});i[p]=g;const m=K(e.getIndexAngle(p)+l),v=Math.round(V(m));Zs(n,t,m,Xs(v,f.x,g.w,0,180),Xs(v,f.y,g.h,90,270))}var c,d,u;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const a=[],i=e._pointLabels.length,s=e.options,r=Qs(s)/2,o=e.drawingArea,l=s.pointLabels.centerPointLabels?A/i:0;for(let s=0;s<i;s++){const i=e.getPointPosition(s,o+r+n[s],l),c=Math.round(V(K(i.angle+D))),d=t[s],u=tr(i.y,d.h,c),p=Js(c),f=er(i.x,d.w,p);a.push({x:i.x,y:u,textAlign:p,left:f,top:u,right:f+d.w,bottom:u+d.h})}return a}(e,i,s)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,a){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,a))}getIndexAngle(e){return K(e*(T/(this._pointLabels.length||1))+B(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(n(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(n(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return vn(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const a=this.getIndexAngle(e)-D+n;return{x:Math.cos(a)*t+this.xCenter,y:Math.sin(a)*t+this.yCenter,angle:a}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:a,bottom:i}=this._pointLabelItems[e];return{left:t,top:n,right:a,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),nr(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:a,grid:i}=t,s=this._pointLabels.length;let r,o,l;if(t.pointLabels.display&&function(e,t){const{ctx:a,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){const t=i.setContext(e.getPointLabelContext(s)),r=hn(t.font),{x:o,y:l,textAlign:c,left:d,top:u,right:p,bottom:f}=e._pointLabelItems[s],{backdropColor:h}=t;if(!n(h)){const e=pn(t.borderRadius),n=fn(t.backdropPadding);a.fillStyle=h;const i=d-n.left,s=u-n.top,r=p-d+n.width,o=f-u+n.height;Object.values(e).some((e=>0!==e))?(a.beginPath(),Mt(a,{x:i,y:s,w:r,h:o,radius:e}),a.fill()):a.fillRect(i,s,r,o)}At(a,e._pointLabels[s],o,l+r.lineHeight/2,r,{color:t.color,textAlign:c,textBaseline:"middle"})}}(this,s),i.display&&this.ticks.forEach(((e,t)=>{0!==t&&(o=this.getDistanceFromCenterForValue(e.value),function(e,t,n,a){const i=e.ctx,s=t.circular,{color:r,lineWidth:o}=t;!s&&!a||!r||!o||n<0||(i.save(),i.strokeStyle=r,i.lineWidth=o,i.setLineDash(t.borderDash),i.lineDashOffset=t.borderDashOffset,i.beginPath(),nr(e,n,s,a),i.closePath(),i.stroke(),i.restore())}(this,i.setContext(this.getContext(t-1)),o,s))})),a.display){for(e.save(),r=s-1;r>=0;r--){const n=a.setContext(this.getPointLabelContext(r)),{color:i,lineWidth:s}=n;s&&i&&(e.lineWidth=s,e.strokeStyle=i,e.setLineDash(n.borderDash),e.lineDashOffset=n.borderDashOffset,o=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),l=this.getPointPosition(r,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let i,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((a,r)=>{if(0===r&&!t.reverse)return;const o=n.setContext(this.getContext(r)),l=hn(o.font);if(i=this.getDistanceFromCenterForValue(this.ticks[r].value),o.showLabelBackdrop){e.font=l.string,s=e.measureText(a.label).width,e.fillStyle=o.backdropColor;const t=fn(o.backdropPadding);e.fillRect(-s/2-t.left,-i-l.size/2-t.top,s+t.width,l.size+t.height)}At(e,a.label,0,-i,l,{color:o.color})})),e.restore()}drawTitle(){}}ar.id="radialLinear",ar.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ea.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}},ar.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},ar.descriptors={angleLines:{_fallback:"grid"}};const ir={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},sr=Object.keys(ir);function rr(e,t){return e-t}function or(e,t){if(n(t))return null;const a=e._adapter,{parser:i,round:r,isoWeekday:o}=e._parseOpts;let l=t;return"function"==typeof i&&(l=i(l)),s(l)||(l="string"==typeof i?a.parse(l,i):a.parse(l)),null===l?null:(r&&(l="week"!==r||!q(o)&&!0!==o?a.startOf(l,r):a.startOf(l,"isoWeek",o)),+l)}function lr(e,t,n,a){const i=sr.length;for(let s=sr.indexOf(e);s<i-1;++s){const e=ir[sr[s]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(i*e.size))<=a)return sr[s]}return sr[i-1]}function cr(e,t,n){if(n){if(n.length){const{lo:a,hi:i}=ee(n,t);e[n[a]>=t?n[a]:n[i]]=!0}}else e[t]=!0}function dr(e,t,n){const a=[],i={},s=t.length;let r,o;for(r=0;r<s;++r)o=t[r],i[o]=r,a.push({value:o,major:!1});return 0!==s&&n?function(e,t,n,a){const i=e._adapter,s=+i.startOf(t[0].value,a),r=t[t.length-1].value;let o,l;for(o=s;o<=r;o=+i.add(o,1,a))l=n[o],l>=0&&(t[l].major=!0);return t}(e,a,i,n):a}class ur extends za{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t){const n=e.time||(e.time={}),a=this._adapter=new vi._date(e.adapters.date);a.init(t),v(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:or(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:a,max:i,minDefined:r,maxDefined:o}=this.getUserBounds();function l(e){r||isNaN(e.min)||(a=Math.min(a,e.min)),o||isNaN(e.max)||(i=Math.max(i,e.max))}r&&o||(l(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||l(this.getMinMax(!1))),a=s(a)&&!isNaN(a)?a:+t.startOf(Date.now(),n),i=s(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,a="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,s=ae(a,i,this.max);return this._unit=t.unit||(n.autoSkip?lr(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,a,i){for(let s=sr.length-1;s>=sr.indexOf(n);s--){const n=sr[s];if(ir[n].common&&e._adapter.diff(i,a,n)>=t-1)return n}return sr[n?sr.indexOf(n):0]}(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=sr.indexOf(e)+1,n=sr.length;t<n;++t)if(ir[sr[t]].common)return sr[t]}(this._unit):void 0,this.initOffsets(a),e.reverse&&s.reverse(),dr(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(e){let t,n,a=0,i=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),a=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,n=this.getDecimalForValue(e[e.length-1]),i=1===e.length?n:(n-this.getDecimalForValue(e[e.length-2]))/2);const s=e.length<3?.5:.25;a=X(a,0,s),i=X(i,0,s),this._offsets={start:a,end:i,factor:1/(a+1+i)}}_generate(){const e=this._adapter,t=this.min,n=this.max,a=this.options,i=a.time,s=i.unit||lr(i.minUnit,t,n,this._getLabelCapacity(t)),r=o(i.stepSize,1),l="week"===s&&i.isoWeekday,c=q(l)||!0===l,d={};let u,p,f=t;if(c&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,c?"day":s),e.diff(n,t,s)>1e5*r)throw new Error(t+" and "+n+" are too far apart with stepSize of "+r+" "+s);const h="data"===a.ticks.source&&this.getDataTimestamps();for(u=f,p=0;u<n;u=+e.add(u,r,s),p++)cr(d,u,h);return u!==n&&"ticks"!==a.bounds&&1!==p||cr(d,u,h),Object.keys(d).sort(((e,t)=>e-t)).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}_tickFormatFunction(e,t,n,a){const i=this.options,s=i.time.displayFormats,r=this._unit,o=this._majorUnit,l=r&&s[r],c=o&&s[o],u=n[t],p=o&&c&&u&&u.major,f=this._adapter.format(e,a||(p?c:l)),h=i.ticks.callback;return h?d(h,[f,t,n],this):f}generateTickLabels(e){let t,n,a;for(t=0,n=e.length;t<n;++t)a=e[t],a.label=this._tickFormatFunction(a.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,a=B(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(a),s=Math.sin(a),r=this._resolveTickFontOptions(0).size;return{w:n*i+r*s,h:n*s+r*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,a=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,dr(this,[e],this._majorUnit),a),s=this._getLabelSize(i),r=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return r>0?r:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,t=a.length;e<t;++e)n=n.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const a=this.getLabels();for(t=0,n=a.length;t<n;++t)e.push(or(this,a[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return oe(e.sort(rr))}}function pr(e,t,n){let a,i,s,r,o=0,l=e.length-1;n?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=te(e,"pos",t)),({pos:a,time:s}=e[o]),({pos:i,time:r}=e[l])):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=te(e,"time",t)),({time:a,pos:s}=e[o]),({time:i,pos:r}=e[l]));const c=i-a;return c?s+(r-s)*(t-a)/c:s}ur.id="time",ur.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class fr extends ur{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=pr(t,this.min),this._tableRange=pr(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,a=[],i=[];let s,r,o,l,c;for(s=0,r=e.length;s<r;++s)l=e[s],l>=t&&l<=n&&a.push(l);if(a.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(s=0,r=a.length;s<r;++s)c=a[s+1],o=a[s-1],l=a[s],Math.round((c+o)/2)!==l&&i.push({time:l,pos:s/(r-1)});return i}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(pr(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return pr(this._table,n*this._tableRange+this._minPos,!0)}}fr.id="timeseries",fr.defaults=ur.defaults;var hr=Object.freeze({__proto__:null,CategoryScale:Vs,LinearScale:Gs,LogarithmicScale:Ks,RadialLinearScale:ar,TimeScale:ur,TimeSeriesScale:fr});return pi.register(Ri,hr,ns,Bs),pi.helpers={...Mn},pi._adapters=vi,pi.Animation=ha,pi.Animations=ma,pi.animator=me,pi.controllers=ja.controllers.items,pi.DatasetController=Ta,pi.Element=Ma,pi.elements=ns,pi.Interaction=Ln,pi.layouts=Gn,pi.platforms=ua,pi.Scale=za,pi.Ticks=Ea,Object.assign(pi,Ri,hr,ns,Bs,ua),pi.Chart=pi,"undefined"!=typeof window&&(window.Chart=pi),pi})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("chart.js/helpers"),require("chart.js")):"function"==typeof define&&define.amd?define(["chart.js/helpers","chart.js"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).ChartDataLabels=t(e.Chart.helpers,e.Chart)}(this,(function(e,t){"use strict";var n=function(){if("undefined"!=typeof window){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),a=function(e,t,n){var a,i=[].concat(t),s=i.length,r=e.font,o=0;for(e.font=n.string,a=0;a<s;++a)o=Math.max(e.measureText(i[a]).width,o);return e.font=r,{height:s*n.lineHeight,width:o}};function i(e,t){var n=t.x,a=t.y;if(null===n)return{x:0,y:-1};if(null===a)return{x:1,y:0};var i=e.x-n,s=e.y-a,r=Math.sqrt(i*i+s*s);return{x:r?i/r:0,y:r?s/r:-1}}function s(e,t,n){var a=0;return e<n.left?a|=1:e>n.right&&(a|=2),t<n.top?a|=8:t>n.bottom&&(a|=4),a}function r(e,t){var n,a,i=t.anchor,r=e;return t.clamp&&(r=function(e,t){for(var n,a,i,r=e.x0,o=e.y0,l=e.x1,c=e.y1,d=s(r,o,t),u=s(l,c,t);d|u&&!(d&u);)8&(n=d||u)?(a=r+(l-r)*(t.top-o)/(c-o),i=t.top):4&n?(a=r+(l-r)*(t.bottom-o)/(c-o),i=t.bottom):2&n?(i=o+(c-o)*(t.right-r)/(l-r),a=t.right):1&n&&(i=o+(c-o)*(t.left-r)/(l-r),a=t.left),n===d?d=s(r=a,o=i,t):u=s(l=a,c=i,t);return{x0:r,x1:l,y0:o,y1:c}}(r,t.area)),"start"===i?(n=r.x0,a=r.y0):"end"===i?(n=r.x1,a=r.y1):(n=(r.x0+r.x1)/2,a=(r.y0+r.y1)/2),function(e,t,n,a,i){switch(i){case"center":n=a=0;break;case"bottom":n=0,a=1;break;case"right":n=1,a=0;break;case"left":n=-1,a=0;break;case"top":n=0,a=-1;break;case"start":n=-n,a=-a;break;case"end":break;default:i*=Math.PI/180,n=Math.cos(i),a=Math.sin(i)}return{x:e,y:t,vx:n,vy:a}}(n,a,e.vx,e.vy,t.align)}var o=function(e,t){var n=(e.startAngle+e.endAngle)/2,a=Math.cos(n),i=Math.sin(n),s=e.innerRadius,o=e.outerRadius;return r({x0:e.x+a*s,y0:e.y+i*s,x1:e.x+a*o,y1:e.y+i*o,vx:a,vy:i},t)},l=function(e,t){var n=i(e,t.origin),a=n.x*e.options.radius,s=n.y*e.options.radius;return r({x0:e.x-a,y0:e.y-s,x1:e.x+a,y1:e.y+s,vx:n.x,vy:n.y},t)},c=function(e,t){var n=i(e,t.origin),a=e.x,s=e.y,o=0,l=0;return e.horizontal?(a=Math.min(e.x,e.base),o=Math.abs(e.base-e.x)):(s=Math.min(e.y,e.base),l=Math.abs(e.base-e.y)),r({x0:a,y0:s+l,x1:a+o,y1:s,vx:n.x,vy:n.y},t)},d=function(e,t){var n=i(e,t.origin);return r({x0:e.x,y0:e.y,x1:e.x+(e.width||0),y1:e.y+(e.height||0),vx:n.x,vy:n.y},t)},u=function(e){return Math.round(e*n)/n};function p(e,t){var n=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!n)return null;if(void 0!==n.xCenter&&void 0!==n.yCenter)return{x:n.xCenter,y:n.yCenter};var a=n.getBasePixel();return e.horizontal?{x:a,y:null}:{x:null,y:a}}function f(e,t,n){var a=e.shadowBlur,i=n.stroked,s=u(n.x),r=u(n.y),o=u(n.w);i&&e.strokeText(t,s,r,o),n.filled&&(a&&i&&(e.shadowBlur=0),e.fillText(t,s,r,o),a&&i&&(e.shadowBlur=a))}var h=function(e,t,n,a){var i=this;i._config=e,i._index=a,i._model=null,i._rects=null,i._ctx=t,i._el=n};e.merge(h.prototype,{_modelize:function(n,i,s,r){var u,f=this,h=f._index,g=e.toFont(e.resolve([s.font,{}],r,h)),m=e.resolve([s.color,t.defaults.color],r,h);return{align:e.resolve([s.align,"center"],r,h),anchor:e.resolve([s.anchor,"center"],r,h),area:r.chart.chartArea,backgroundColor:e.resolve([s.backgroundColor,null],r,h),borderColor:e.resolve([s.borderColor,null],r,h),borderRadius:e.resolve([s.borderRadius,0],r,h),borderWidth:e.resolve([s.borderWidth,0],r,h),clamp:e.resolve([s.clamp,!1],r,h),clip:e.resolve([s.clip,!1],r,h),color:m,display:n,font:g,lines:i,offset:e.resolve([s.offset,4],r,h),opacity:e.resolve([s.opacity,1],r,h),origin:p(f._el,r),padding:e.toPadding(e.resolve([s.padding,4],r,h)),positioner:(u=f._el,u instanceof t.ArcElement?o:u instanceof t.PointElement?l:u instanceof t.BarElement?c:d),rotation:e.resolve([s.rotation,0],r,h)*(Math.PI/180),size:a(f._ctx,i,g),textAlign:e.resolve([s.textAlign,"start"],r,h),textShadowBlur:e.resolve([s.textShadowBlur,0],r,h),textShadowColor:e.resolve([s.textShadowColor,m],r,h),textStrokeColor:e.resolve([s.textStrokeColor,m],r,h),textStrokeWidth:e.resolve([s.textStrokeWidth,0],r,h)}},update:function(t){var n,a,i,s=this,r=null,o=null,l=s._index,c=s._config,d=e.resolve([c.display,!0],t,l);d&&(n=t.dataset.data[l],a=e.valueOrDefault(e.callback(c.formatter,[n,t]),n),(i=e.isNullOrUndef(a)?[]:function(t){var n,a=[];for(t=[].concat(t);t.length;)"string"==typeof(n=t.pop())?a.unshift.apply(a,n.split("\n")):Array.isArray(n)?t.push.apply(t,n):e.isNullOrUndef(t)||a.unshift(""+n);return a}(a)).length&&(o=function(e){var t=e.borderWidth||0,n=e.padding,a=e.size.height,i=e.size.width,s=-i/2,r=-a/2;return{frame:{x:s-n.left-t,y:r-n.top-t,w:i+n.width+2*t,h:a+n.height+2*t},text:{x:s,y:r,w:i,h:a}}}(r=s._modelize(d,i,c,t)))),s._model=r,s._rects=o},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var n,a=e.ctx,i=this._model,s=this._rects;this.visible()&&(a.save(),i.clip&&(n=i.area,a.beginPath(),a.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),a.clip()),a.globalAlpha=function(e,t,n){return Math.max(e,Math.min(t,n))}(0,i.opacity,1),a.translate(u(t.x),u(t.y)),a.rotate(i.rotation),function(e,t,n){var a=n.backgroundColor,i=n.borderColor,s=n.borderWidth;(a||i&&s)&&(e.beginPath(),function(e,t,n,a,i,s){var r=Math.PI/2;if(s){var o=Math.min(s,i/2,a/2),l=t+o,c=n+o,d=t+a-o,u=n+i-o;e.moveTo(t,c),l<d&&c<u?(e.arc(l,c,o,-Math.PI,-r),e.arc(d,c,o,-r,0),e.arc(d,u,o,0,r),e.arc(l,u,o,r,Math.PI)):l<d?(e.moveTo(l,n),e.arc(d,c,o,-r,r),e.arc(l,c,o,r,Math.PI+r)):c<u?(e.arc(l,c,o,-Math.PI,0),e.arc(l,u,o,0,Math.PI)):e.arc(l,c,o,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,a,i)}(e,u(t.x)+s/2,u(t.y)+s/2,u(t.w)-s,u(t.h)-s,n.borderRadius),e.closePath(),a&&(e.fillStyle=a,e.fill()),i&&s&&(e.strokeStyle=i,e.lineWidth=s,e.lineJoin="miter",e.stroke()))}(a,s.frame,i),function(e,t,n,a){var i,s=a.textAlign,r=a.color,o=!!r,l=a.font,c=t.length,d=a.textStrokeColor,u=a.textStrokeWidth,p=d&&u;if(c&&(o||p))for(n=function(e,t,n){var a=n.lineHeight,i=e.w,s=e.x;return"center"===t?s+=i/2:"end"!==t&&"right"!==t||(s+=i),{h:a,w:i,x:s,y:e.y+a/2}}(n,s,l),e.font=l.string,e.textAlign=s,e.textBaseline="middle",e.shadowBlur=a.textShadowBlur,e.shadowColor=a.textShadowColor,o&&(e.fillStyle=r),p&&(e.lineJoin="round",e.lineWidth=u,e.strokeStyle=d),i=0,c=t.length;i<c;++i)f(e,t[i],{stroked:p,filled:o,w:n.w,x:n.x,y:n.y+n.h*i})}(a,i.lines,s.text,i),a.restore())}});var g=Number.MIN_SAFE_INTEGER||-9007199254740991,m=Number.MAX_SAFE_INTEGER||9007199254740991;function v(e,t,n){var a=Math.cos(n),i=Math.sin(n),s=t.x,r=t.y;return{x:s+a*(e.x-s)-i*(e.y-r),y:r+i*(e.x-s)+a*(e.y-r)}}function b(e,t){var n,a,i,s,r,o=m,l=g,c=t.origin;for(n=0;n<e.length;++n)i=(a=e[n]).x-c.x,s=a.y-c.y,r=t.vx*i+t.vy*s,o=Math.min(o,r),l=Math.max(l,r);return{min:o,max:l}}function w(e,t){var n=t.x-e.x,a=t.y-e.y,i=Math.sqrt(n*n+a*a);return{vx:(t.x-e.x)/i,vy:(t.y-e.y)/i,origin:e,ln:i}}var y=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};function _(e,t,n){var a=t.positioner(e,t),i=a.vx,s=a.vy;if(!i&&!s)return{x:a.x,y:a.y};var r=n.w,o=n.h,l=t.rotation,c=Math.abs(r/2*Math.cos(l))+Math.abs(o/2*Math.sin(l)),d=Math.abs(r/2*Math.sin(l))+Math.abs(o/2*Math.cos(l)),u=1/Math.max(Math.abs(i),Math.abs(s));return c*=i*u,d*=s*u,c+=t.offset*i,d+=t.offset*s,{x:a.x+c,y:a.y+d}}e.merge(y.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,n){this._rotation=n,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,n=t._rect;return!((e=v(e,t.center(),-t._rotation)).x<n.x-1||e.y<n.y-1||e.x>n.x+n.w+2||e.y>n.y+n.h+2)},intersects:function(e){var t,n,a,i=this._points(),s=e._points(),r=[w(i[0],i[1]),w(i[0],i[3])];for(this._rotation!==e._rotation&&r.push(w(s[0],s[1]),w(s[0],s[3])),t=0;t<r.length;++t)if(n=b(i,r[t]),a=b(s,r[t]),n.max<a.min||a.max<n.min)return!1;return!0},_points:function(){var e=this,t=e._rect,n=e._rotation,a=e.center();return[v({x:t.x,y:t.y},a,n),v({x:t.x+t.w,y:t.y},a,n),v({x:t.x+t.w,y:t.y+t.h},a,n),v({x:t.x,y:t.y+t.h},a,n)]}});var x={prepare:function(e){var t,n,a,i,s,r=[];for(t=0,a=e.length;t<a;++t)for(n=0,i=e[t].length;n<i;++n)s=e[t][n],r.push(s),s.$layout={_box:new y,_hidable:!1,_visible:!0,_set:t,_idx:s._index};return r.sort((function(e,t){var n=e.$layout,a=t.$layout;return n._idx===a._idx?a._set-n._set:a._idx-n._idx})),this.update(r),r},update:function(e){var t,n,a,i,s,r=!1;for(t=0,n=e.length;t<n;++t)i=(a=e[t]).model(),(s=a.$layout)._hidable=i&&"auto"===i.display,s._visible=a.visible(),r|=s._hidable;r&&function(e){var t,n,a,i,s,r,o;for(t=0,n=e.length;t<n;++t)(i=(a=e[t]).$layout)._visible&&(o=new Proxy(a._el,{get:(e,t)=>e.getProps([t],!0)[t]}),s=a.geometry(),r=_(o,a.model(),s),i._box.update(r,s,a.rotation()));!function(e,t){var n,a,i,s;for(n=e.length-1;n>=0;--n)for(i=e[n].$layout,a=n-1;a>=0&&i._visible;--a)(s=e[a].$layout)._visible&&i._box.intersects(s._box)&&t(i,s)}(e,(function(e,t){var n=e._hidable,a=t._hidable;n&&a||a?t._visible=!1:n&&(e._visible=!1)}))}(e)},lookup:function(e,t){var n,a;for(n=e.length-1;n>=0;--n)if((a=e[n].$layout)&&a._visible&&a._box.contains(t))return e[n];return null},draw:function(e,t){var n,a,i,s,r,o;for(n=0,a=t.length;n<a;++n)(s=(i=t[n]).$layout)._visible&&(r=i.geometry(),o=_(i._el,i.model(),r),s._box.update(o,r,i.rotation()),i.draw(e,o))}},$="$default";function k(t,n,a,i){if(n){var s,r=a.$context,o=a.$groups;n[o._set]&&(s=n[o._set][o._key])&&!0===e.callback(s,[r,i])&&(t.$datalabels._dirty=!0,a.update(r))}}return{id:"datalabels",defaults:{align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:function(t){if(e.isNullOrUndef(t))return null;var n,a,i,s=t;if(e.isObject(t))if(e.isNullOrUndef(t.label))if(e.isNullOrUndef(t.r))for(s="",i=0,a=(n=Object.keys(t)).length;i<a;++i)s+=(0!==i?", ":"")+n[i]+": "+t[n[i]];else s=t.r;else s=t.label;return""+s},labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},beforeInit:function(e){e.$datalabels={_actives:[]}},beforeUpdate:function(e){var t=e.$datalabels;t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(t,n,a){var i,s,r,o,l,c,d,u,p=n.index,f=t.$datalabels,g=f._datasets[p]=[],m=t.isDatasetVisible(p),v=t.data.datasets[p],b=function(t,n){var a,i,s,r=t.datalabels,o=[];return!1===r?null:(!0===r&&(r={}),n=e.merge({},[n,r]),i=n.labels||{},s=Object.keys(i),delete n.labels,s.length?s.forEach((function(t){i[t]&&o.push(e.merge({},[n,i[t],{_key:t}]))})):o.push(n),a=o.reduce((function(t,n){return e.each(n.listeners||{},(function(e,a){t[a]=t[a]||{},t[a][n._key||$]=e})),delete n.listeners,t}),{}),{labels:o,listeners:a})}(v,a),w=n.meta.data||[],y=t.ctx;for(y.save(),i=0,r=w.length;i<r;++i)if((d=w[i]).$datalabels=[],m&&d&&t.getDataVisibility(i)&&!d.skip)for(s=0,o=b.labels.length;s<o;++s)c=(l=b.labels[s])._key,(u=new h(l,y,d,i)).$groups={_set:p,_key:c||$},u.$context={active:!1,chart:t,dataIndex:i,dataset:v,datasetIndex:p},u.update(u.$context),d.$datalabels.push(u),g.push(u);y.restore(),e.merge(f._listeners,b.listeners,{merger:function(e,t,a){t[e]=t[e]||{},t[e][n.index]=a[e],f._listened=!0}})},afterUpdate:function(e){e.$datalabels._labels=x.prepare(e.$datalabels._datasets)},afterDatasetsDraw:function(e){x.draw(e,e.$datalabels._labels)},beforeEvent:function(e,t){if(e.$datalabels._listened){var n=t.event;switch(n.type){case"mousemove":case"mouseout":!function(e,t){var n,a,i=e.$datalabels,s=i._listeners;if(s.enter||s.leave){if("mousemove"===t.type)a=x.lookup(i._labels,t);else if("mouseout"!==t.type)return;n=i._hovered,i._hovered=a,function(e,t,n,a,i){var s,r;(n||a)&&(n?a?n!==a&&(r=s=!0):r=!0:s=!0,r&&k(e,t.leave,n,i),s&&k(e,t.enter,a,i))}(e,s,n,a,t)}}(e,n);break;case"click":!function(e,t){var n=e.$datalabels,a=n._listeners.click,i=a&&x.lookup(n._labels,t);i&&k(e,a,i,t)}(e,n)}}},afterEvent:function(e){var t,n,a,i,s,r,o,l=e.$datalabels,c=function(e,t){var n,a,i,s,r=e.slice(),o=[];for(n=0,i=t.length;n<i;++n)s=t[n],-1===(a=r.indexOf(s))?o.push([s,1]):r.splice(a,1);for(n=0,i=r.length;n<i;++n)o.push([r[n],-1]);return o}(l._actives,l._actives=e.getActiveElements());for(t=0,n=c.length;t<n;++t)if((s=c[t])[1])for(a=0,i=(o=s[0].element.$datalabels||[]).length;a<i;++a)(r=o[a]).$context.active=1===s[1],r.update(r.$context);(l._dirty||c.length)&&(x.update(l._labels),e.render()),delete l._dirty}}}));