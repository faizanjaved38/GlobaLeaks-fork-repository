<div class="modal-header">

  <div data-ng-if="maskingSwitch" class="modal-title" data-translate>Are you sure you want to mask this information?</div>
  <div data-ng-if="!maskingSwitch" class="modal-title" data-translate>Are you sure you want to redact this information?</div>
  <button type="button" class="close" data-ng-click="cancel()" aria-label="{{'Close' | translate}}">
    <i class="fa-solid fa-times"></i>
  </button>
</div>
<div class="modal-body">
  <div class="row">
    <div class="pl-1 text-right">
      <button id="toggle-button" data-ng-click="toggleForcedView()" class="btn custom-switch-left">
        <i class="fas fa-eye" data-ng-if="forced_visible" id="eye-icon-open"></i>
        <i class="fas fa-eye-slash" data-ng-if="!forced_visible" id="eye-icon-closed"></i>
      </button>
    </div>
  </div>
  <div id="redact" contenteditable="true" spellcheck="false" data-ng-bind="getContent()" unfocus-on-keydown></div>
</div>
<div class="modal-footer">
  <div class="custom-switch-left">
    <div class="custom-control custom-switch">
      <input data-ng-disabled="resources.preferences.can_privilege_mask_information && !resources.preferences.can_privilege_delete_mask_information" id="toggleSwitch" class="custom-control-input toggleSwitch" type="checkbox"
        data-ng-model="maskingSwitch" data-ng-change="toggleMasking(maskingSwitch,'redact')">
      <label class="custom-control-label" for="toggleSwitch">{{maskingSwitch ? 'Masking' : 'Redact'}}</label>
    </div>
    <div data-ng-if="maskingSwitch" class="custom-control custom-switch">
      <input data-ng-disabled="!resources.preferences.can_privilege_mask_information && resources.preferences.can_privilege_delete_mask_information" data-ng-click="toggleTempMaskingSwitch()" id="toggleTemporaryMaskingSwitch" class="custom-control-input toggleSwitch" type="checkbox"
        data-ng-model="temporaryMaskingSwitch">
      <label class="custom-control-label" for="toggleTemporaryMaskingSwitch">{{temporaryMaskingSwitch ? 'add' : 'remove'}}</label>
    </div>
  </div>
  <button
    data-ng-show="resources.preferences.can_privilege_mask_information || resources.preferences.can_privilege_delete_mask_information"
    class="btn btn-primary" data-ng-click="selectContent()">
    <span data-translate>Select</span>
  </button>
  <button
    data-ng-disabled="(maskingSwitch && (temporary_ranges_selected == temporary_masking || (temporary_ranges_selected.length == 0 && (temporary_ranges_unselected.length == 0 || maskingObjects.temporary_masking.length == 0)))) ||
                      (!maskingSwitch && (permanent_ranges_selected.length == 0 || temporary_masking.length == 0))"
    data-ng-show="resources.preferences.can_privilege_mask_information || resources.preferences.can_privilege_delete_mask_information"
    class="btn btn-primary" data-ng-click="erase()">
    <span data-translate>Unselect</span>
  </button>
  <button
    data-ng-disabled="(maskingSwitch && (temporary_ranges_selected == temporary_masking || (temporary_ranges_selected.length == 0 && (temporary_ranges_unselected.length == 0 || maskingObjects.temporary_masking.length == 0)))) ||
                      (!maskingSwitch && (permanent_ranges_selected.length == 0 || temporary_masking.length == 0))"
    data-ng-show="resources.preferences.can_privilege_mask_information || resources.preferences.can_privilege_delete_mask_information"
    class="btn btn-primary" data-ng-click="saveMasking()">
    <span data-translate>Save</span>
  </button>
</div>